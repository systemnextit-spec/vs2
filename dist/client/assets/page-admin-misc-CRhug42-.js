import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as t}from"./react-core-KcGD0Z1V.js";import{MetricsSkeleton as Ls,ActivityLogSkeleton as ct}from"./cmp-skeletonloaders-tsx-Durrj7lG.js";import{D as De,T as Ee,C as mt,b as xt,P as pt,W as ut,d as ht,i as es,e as ss,c as _s,f as gt,a as ft}from"./cmp-admincustomization-DQ3Wytgo.js";import{I as Ds,e as bt,b8 as yt,a1 as Rs,a3 as jt,b4 as qe,aS as Re,R as We,aC as cs,L as ue,b9 as Bs,ba as ls,b as Ie,X as je,b5 as fs,E as is,Q as os,aa as Pe,an as Qe,a8 as Ue,aZ as Je,x as Ge,ad as Be,aQ as ds,a4 as bs,z as vt,am as Nt,n as ms,bb as Es,b0 as Os,aV as wt,S as _e,c as Ct,aO as Ve,bc as St,a9 as xs,aK as we,aJ as $e,bd as Ye,U as ps,g as ve,ab as ts,D as kt,be as ys,d as Ke,q as $s,Y as Ae,N as Ws,bf as Us,aW as Xs,bg as Me,bh as js,aN as vs,bi as Ns,aU as Pt,A as Tt,bj as ws,bk as Ft,bl as At,h as Hs,J as Cs,f as us,bm as It,bn as Ss,C as hs,a as ks,a0 as zt,bo as Mt,T as Lt,P as qs,bp as _t,bq as Dt,br as Rt,F as Bt,B as Et,aT as Ot,aL as Ps,bs as $t,bt as Wt,bu as Ts,aB as as,ag as Ut}from"./icons-chunk-AVFeydwE.js";import{u as Xt}from"./cmp-comingsoonmodal-tsx-Df-osLaF.js";import{G as Gs}from"./cmp-gallerypicker-tsx-CnyOus4y.js";import v,{toast as Ce}from"./pkg-toast-Dpd4iwUK.js";import{D as ye,i as Ht,R as qt}from"./cmp-dashboard-CvCpAVHs.js";import{g as pe,d as rs}from"./cmp-addnewduemodal-tsx-OjU2U-0e.js";import{R as Gt}from"./cmp-richtexteditor-tsx-CETSPEY1.js";const Vt=({tenantId:i,logo:c,onUpdateLogo:T,themeConfig:S,onUpdateTheme:x,websiteConfig:p,onUpdateWebsiteConfig:f,initialTab:F="carousel",products:N=[]})=>{const[b,h]=t.useState(F),[l,y]=t.useState(()=>p?{...De,...p}:De);t.useState(!1),t.useState(!1);const[H,q]=t.useState(!0),u=t.useRef(i),A=t.useRef(!1),B=t.useRef(!1),z=t.useRef(null),K=t.useRef(!1),V=t.useRef(0),R=3e3;return t.useEffect(()=>{const k=setTimeout(()=>q(!1),600);return()=>clearTimeout(k)},[]),t.useEffect(()=>{h(F)},[F]),t.useEffect(()=>(typeof window<"u"&&(window.__getAdminWebsiteContentUnsavedChanges=()=>Date.now()-V.current<R?(console.log("[AdminWebsiteContent] Within save protection window, blocking refresh"),!0):B.current),()=>{typeof window<"u"&&delete window.__getAdminWebsiteContentUnsavedChanges}),[]),t.useEffect(()=>{K.current||(u.current!==i?(console.log("[AdminWebsiteContent] Tenant changed, reloading config"),u.current=i,A.current=!1,B.current=!1,p&&(y({...De,...p,addresses:p.addresses||[],emails:p.emails||[],phones:p.phones||[],socialLinks:p.socialLinks||[],footerQuickLinks:p.footerQuickLinks||[],footerUsefulLinks:p.footerUsefulLinks||[],showFlashSaleCounter:p.showFlashSaleCounter??!0,headerLogo:p.headerLogo??null,footerLogo:p.footerLogo??null,campaigns:p.campaigns||[],carouselItems:p.carouselItems||[],popups:p.popups||[],categorySectionStyle:p.categorySectionStyle||De.categorySectionStyle}),A.current=!0)):!A.current&&p&&(console.log("[AdminWebsiteContent] Initial config load"),y({...De,...p,addresses:p.addresses||[],emails:p.emails||[],phones:p.phones||[],socialLinks:p.socialLinks||[],footerQuickLinks:p.footerQuickLinks||[],footerUsefulLinks:p.footerUsefulLinks||[],showFlashSaleCounter:p.showFlashSaleCounter??!0,headerLogo:p.headerLogo??null,footerLogo:p.footerLogo??null,campaigns:p.campaigns||[],carouselItems:p.carouselItems||[],popups:p.popups||[],categorySectionStyle:p.categorySectionStyle||De.categorySectionStyle}),A.current=!0,B.current=!1))},[i,p]),t.useEffect(()=>{A.current&&z.current&&JSON.stringify(l)!==JSON.stringify(z.current)&&(B.current=!0),z.current=l},[l]),t.useEffect(()=>{(async()=>{const Q={};let W=!1;if(l?.headerLogo&&es(l.headerLogo))try{const G=await ss(l.headerLogo,i,"branding");Q.headerLogo=G,W=!0}catch(G){console.error("[AdminWebsiteContent] Failed to convert headerLogo:",G)}if(l?.footerLogo&&es(l.footerLogo))try{const G=await ss(l.footerLogo,i,"branding");Q.footerLogo=G,W=!0}catch(G){console.error("[AdminWebsiteContent] Failed to convert footerLogo:",G)}if(l?.favicon&&es(l.favicon))try{const G=await ss(l.favicon,i,"branding");Q.favicon=G,W=!0}catch(G){console.error("[AdminWebsiteContent] Failed to convert favicon:",G)}W&&y(G=>({...G,...Q}))})()},[l?.headerLogo,l?.footerLogo,l?.favicon,i]),H?e.jsx("div",{className:"w-full px-2 sm:px-3 md:px-4 py-2 sm:py-3 space-y-2 sm:space-y-3 bg-[#F8F9FB] min-h-screen",children:e.jsx(Ls,{})}):e.jsxs("div",{className:"w-full px-2 sm:px-3 md:px-4 py-2 sm:py-3 space-y-2 sm:space-y-3 bg-[#F8F9FB] min-h-screen",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 bg-white rounded-lg p-3 sm:p-4 border border-gray-100 shadow-sm",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800 truncate font-['Lato']",children:"Website Content"}),e.jsx("p",{className:"text-gray-500 text-xs mt-0.5 truncate font-['Poppins']",children:"Manage carousel, campaigns, popups, website info and chat settings"})]})}),e.jsxs("div",{className:"flex items-center gap-0.5 bg-gray-100 rounded-lg p-0.5 overflow-x-auto scrollbar-hide",children:[e.jsx(Ee,{id:"carousel",label:"Carousel",icon:e.jsx(Ds,{size:16}),activeTab:b,onTabChange:h}),e.jsx(Ee,{id:"campaigns",label:"Campaigns",icon:e.jsx(bt,{size:16}),activeTab:b,onTabChange:h}),e.jsx(Ee,{id:"popup",label:"Popups",icon:e.jsx(yt,{size:16}),activeTab:b,onTabChange:h}),e.jsx(Ee,{id:"website_info",label:"Website",icon:e.jsx(Rs,{size:16}),activeTab:b,onTabChange:h}),e.jsx(Ee,{id:"chat_settings",label:"Chat",icon:e.jsx(jt,{size:16}),activeTab:b,onTabChange:h})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 shadow-sm p-2 sm:p-3 md:p-4",children:[b==="carousel"&&e.jsx(mt,{websiteConfiguration:l,setWebsiteConfiguration:y,tenantId:i,onUpdateWebsiteConfig:f,isSavingRef:K,hasUnsavedChangesRef:B,prevWebsiteConfigRef:z,lastSaveTimestampRef:V}),b==="campaigns"&&e.jsx(xt,{websiteConfiguration:l,setWebsiteConfiguration:y,tenantId:i,products:N,onUpdateWebsiteConfig:f,hasUnsavedChangesRef:B,prevWebsiteConfigRef:z,lastSaveTimestampRef:V}),b==="popup"&&e.jsx(pt,{websiteConfiguration:l,setWebsiteConfiguration:y,tenantId:i,onUpdateWebsiteConfig:f,hasUnsavedChangesRef:B,prevWebsiteConfigRef:z,lastSaveTimestampRef:V}),b==="website_info"&&e.jsx(ut,{websiteConfiguration:l,setWebsiteConfiguration:y,logo:c,onUpdateLogo:T,tenantId:i,onSave:f}),b==="chat_settings"&&e.jsx(ht,{websiteConfiguration:l,setWebsiteConfiguration:y,onSave:f})]})]})},Ra=Object.freeze(Object.defineProperty({__proto__:null,default:Vt},Symbol.toStringTag,{value:"Module"})),Kt=({title:i,description:c,icon:T,onClick:S})=>e.jsxs("button",{onClick:S,className:"bg-white rounded-lg w-full border-none cursor-pointer text-left transition-all duration-200 hover:shadow-md active:scale-[0.98] p-3 sm:p-4 min-h-[90px] sm:min-h-[120px] flex flex-col relative overflow-hidden",children:[e.jsx("div",{className:"absolute right-2 to p-2 sm:right-4 sm:to p-4 w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-lg flex items-center justify-center",style:{background:"linear-gradient(to right, rgba(255,156,27,0.04), rgba(255,106,1,0.04))"},children:e.jsx("div",{className:"scale-50 sm:scale-75 md:scale-100",children:T})}),e.jsxs("div",{className:"flex flex-col gap-0.5 sm:gap-1 pr-14 sm:pr-20 md:pr-24",children:[e.jsx("p",{className:"font-semibold text-xs sm:text-sm md:text-base text-black m-0 leading-tight",style:{fontFamily:"'Poppins', sans-serif"},children:i}),e.jsx("p",{className:"font-normal text-[9px] sm:text-[10px] md:text-xs text-gray-700 m-0 leading-snug line-clamp-3",style:{fontFamily:"'Poppins', sans-serif"},children:c})]})]}),Qt=()=>e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M39 35C39 37.7614 36.7614 40 34 40C31.2386 40 29 37.7614 29 35C29 32.2386 31.2386 30 34 30C36.7614 30 39 32.2386 39 35Z",stroke:"url(#paint0_linear_795_944)",strokeWidth:"2.5"}),e.jsx("path",{d:"M19 35C19 37.7614 16.7614 40 14 40C11.2386 40 9 37.7614 9 35C9 32.2386 11.2386 30 14 30C16.7614 30 19 32.2386 19 35Z",stroke:"url(#paint1_linear_795_944)",strokeWidth:"2.5"}),e.jsx("path",{d:"M29 35H19M30 31V14C30 11.1716 30 9.75736 29.1214 8.87868C28.2426 8 26.8284 8 24 8H10C7.17158 8 5.75736 8 4.87868 8.87868C4 9.75736 4 11.1716 4 14V30C4 31.8692 4 32.8038 4.40192 33.5C4.66522 33.956 5.04394 34.3348 5.5 34.598C6.19616 35 7.13076 35 9 35M31 13H34.6028C36.2622 13 37.0918 13 37.7796 13.3894C38.4672 13.7788 38.8942 14.4902 39.7478 15.913L43.145 21.575C43.5698 22.283 43.7822 22.6372 43.8912 23.0302C44 23.4232 44 23.836 44 24.662V30C44 31.8692 44 32.8038 43.598 33.5C43.3348 33.956 42.956 34.3348 42.5 34.598C41.8038 35 40.8692 35 39 35",stroke:"url(#paint2_linear_795_944)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M13 14V21.9996M21 14V21.9996",stroke:"url(#paint3_linear_795_944)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_795_944",x1:"34",y1:"30",x2:"34",y2:"40",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]}),e.jsxs("linearGradient",{id:"paint1_linear_795_944",x1:"14",y1:"30",x2:"14",y2:"40",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]}),e.jsxs("linearGradient",{id:"paint2_linear_795_944",x1:"24",y1:"8",x2:"24",y2:"35",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]}),e.jsxs("linearGradient",{id:"paint3_linear_795_944",x1:"17",y1:"14",x2:"17",y2:"21.9996",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]})]})]}),Jt=()=>e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M4 17H34",stroke:"url(#pay_gradient)",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 33H16",stroke:"url(#pay_gradient)",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M22 33H30",stroke:"url(#pay_gradient)",strokeWidth:"2",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M44 24.68V33.02C44 39.4 41.4 42 35.02 42H12.98C6.6 42 4 39.4 4 33.02V14.98C4 8.6 6.6 6 12.98 6H25.02",stroke:"url(#pay_gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M38 18C41.3137 18 44 15.3137 44 12C44 8.68629 41.3137 6 38 6C34.6863 6 32 8.68629 32 12C32 15.3137 34.6863 18 38 18Z",stroke:"url(#pay_gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M38 9V15",stroke:"url(#pay_gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M35 12H41",stroke:"url(#pay_gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"pay_gradient",x1:"4",y1:"6",x2:"44",y2:"42",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#ff9c1b"}),e.jsx("stop",{offset:"1",stopColor:"#ff6a01"})]})})]}),Yt=()=>e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M10 40L14.8257 35.1742M14.8257 35.1742C16.4343 36.7828 18.6565 37.7778 21.1112 37.7778C26.0204 37.7778 30 33.798 30 28.8888C30 23.9796 26.0204 20 21.1112 20C16.2019 20 12.2222 23.9796 12.2222 28.8888C12.2222 31.3434 13.2171 33.5658 14.8257 35.1742Z",stroke:"url(#paint0_linear_795_961)",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsx("path",{d:"M6 30.3754C4.72788 28.1828 4 25.6382 4 22.9246C4 14.682 10.7157 8 19 8H29C37.2842 8 44 14.682 44 22.9246C44 29.4228 39.826 34.9512 34 37",stroke:"url(#paint1_linear_795_961)",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_795_961",x1:"20",y1:"20",x2:"20",y2:"40",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]}),e.jsxs("linearGradient",{id:"paint1_linear_795_961",x1:"24",y1:"8",x2:"24",y2:"37",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]})]})]}),Zt=()=>e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M19.043 28.8712L28.869 19.0452",stroke:"url(#paint0_linear_795_969)",strokeWidth:"2.5",strokeLinecap:"round"}),e.jsx("path",{d:"M25.137 30.2168C26.6164 32.4976 26.2216 34.8356 24.5126 36.5446L18.5222 42.535C16.5654 44.4918 13.3928 44.4918 11.436 42.535L5.46371 36.5628C3.50689 34.606 3.50689 31.4334 5.46371 29.4766L11.4541 23.486C12.858 22.0822 15.5262 21.2714 17.8192 22.9318M30.2166 25.137C32.4974 26.6164 34.8354 26.2218 36.5444 24.5128L42.5348 18.5223C44.4916 16.5655 44.4916 13.3928 42.5348 11.436L36.5626 5.46371C34.6058 3.50689 31.4332 3.50689 29.4764 5.46371L23.4858 11.4542C22.082 12.8581 21.2714 15.5263 22.9318 17.8192",stroke:"url(#paint1_linear_795_969)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_795_969",x1:"23.956",y1:"19.0452",x2:"23.956",y2:"28.8712",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]}),e.jsxs("linearGradient",{id:"paint1_linear_795_969",x1:"23.9993",y1:"3.99609",x2:"23.9993",y2:"44.0026",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]})]})]}),ea=()=>e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M15 17H33M15 25H26",stroke:"url(#paint0_linear_795_976)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M44 21C44 19.4584 43.973 17.9536 43.9218 16.5006C43.7544 11.7537 43.6706 9.38018 41.7398 7.4349C39.8092 5.48962 37.3686 5.3852 32.4876 5.17638C29.8096 5.0618 26.9582 5 24 5C21.0418 5 18.1903 5.0618 15.5124 5.17638C10.6314 5.3852 8.1909 5.48962 6.26014 7.4349C4.32938 9.38018 4.24564 11.7537 4.07818 16.5006C4.02692 17.9536 4 19.4584 4 21C4 22.5416 4.02692 24.0464 4.07818 25.4994C4.24564 30.2464 4.32938 32.6198 6.26014 34.5652C8.1909 36.5104 10.6315 36.6148 15.5126 36.8236C16.9804 36.8864 18.5003 36.9334 20.0614 36.963C21.5436 36.991 22.2848 37.0052 22.936 37.2532C23.5872 37.5012 24.135 37.971 25.231 38.9106L29.59 42.6484C29.8546 42.8752 30.1916 43 30.5402 43C31.3464 43 32 42.3464 32 41.5402V36.8438C32.1632 36.8372 32.3258 36.8306 32.4876 36.8236C37.3686 36.6148 39.8092 36.5104 41.7398 34.565C43.6706 32.6198 43.7544 30.2464 43.9218 25.4994C43.973 24.0464 44 22.5416 44 21Z",stroke:"url(#paint1_linear_795_976)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_795_976",x1:"24",y1:"17",x2:"24",y2:"25",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]}),e.jsxs("linearGradient",{id:"paint1_linear_795_976",x1:"24",y1:"5",x2:"24",y2:"43",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]})]})]}),sa=()=>e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M28 36C36.8366 36 44 28.8366 44 20C44 11.1634 36.8366 4 28 4C19.1634 4 12 11.1634 12 20C12 28.8366 19.1634 36 28 36Z",stroke:"url(#paint0_linear_1343_118)",strokeWidth:"3",strokeLinecap:"round"}),e.jsx("path",{d:"M26.3338 41.9379C24.126 43.2479 21.5484 44.0001 18.795 44.0001C10.6239 44.0001 4 37.3761 4 29.2051C4 26.4517 4.75214 23.8741 6.06214 21.6663",stroke:"url(#paint1_linear_1343_118)",strokeWidth:"3",strokeLinecap:"round"}),e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"paint0_linear_1343_118",x1:"28",y1:"4",x2:"28",y2:"36",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]}),e.jsxs("linearGradient",{id:"paint1_linear_1343_118",x1:"15.1669",y1:"21.6663",x2:"15.1669",y2:"44.0001",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]})]})]}),ta=()=>e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M8 12H28V32H8V12Z",stroke:"url(#courier_gradient)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M28 18H34L40 24V32H28V18Z",stroke:"url(#courier_gradient)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("circle",{cx:"14",cy:"36",r:"4",stroke:"url(#courier_gradient)",strokeWidth:"2.5"}),e.jsx("circle",{cx:"34",cy:"36",r:"4",stroke:"url(#courier_gradient)",strokeWidth:"2.5"}),e.jsx("path",{d:"M12 20H20M12 24H18",stroke:"url(#courier_gradient)",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"courier_gradient",x1:"24",y1:"8",x2:"24",y2:"40",gradientUnits:"userSpaceOnUse",children:[e.jsx("stop",{stopColor:"#FF6A00"}),e.jsx("stop",{offset:"1",stopColor:"#FF9F1C"})]})})]}),M={container:{background:"#f9f9f9",minHeight:"100vh",padding:"0",fontFamily:"'Poppins', sans-serif"},headerCard:{background:"#ffffff",borderRadius:"8px",padding:"20px",marginBottom:"20px",display:"flex",flexDirection:"column",gap:"20px"},title:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"22px",color:"#023337",letterSpacing:"0.11px",margin:0},tabsContainer:{display:"flex",gap:"16px",alignItems:"flex-start"},tab:{display:"flex",gap:"4px",height:"48px",alignItems:"center",justifyContent:"center",padding:"12px 22px",background:"white",borderTop:"none",borderLeft:"none",borderRight:"none",borderBottom:"none",cursor:"pointer",fontFamily:"'Poppins', sans-serif",fontSize:"16px"},tabActive:{borderBottom:"2px solid #38bdf8"},tabTextActive:{background:"linear-gradient(to right, #38bdf8, #1e90ff)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:500},tabTextInactive:{color:"black",fontWeight:400},profileCard:{background:"#ffffff",borderRadius:"8px",padding:"27px 19px",minHeight:"473px"},profileHeader:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"42px"},profileTitle:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"22px",color:"#023337",letterSpacing:"0.11px",margin:0},buttonGroup:{display:"flex",gap:"16px",alignItems:"center"},resetButton:{display:"flex",gap:"4px",height:"48px",alignItems:"center",justifyContent:"center",padding:"6px 16px 6px 12px",background:"#f9f9f9",borderRadius:"8px",border:"none",cursor:"pointer"},resetButtonText:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"16px",color:"#020202",letterSpacing:"-0.32px"},saveButton:{display:"flex",gap:"4px",height:"48px",alignItems:"center",justifyContent:"center",padding:"6px 16px 6px 12px",background:"linear-gradient(to right, #38bdf8, #1e90ff)",borderRadius:"8px",border:"none",cursor:"pointer"},saveButtonText:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"16px",color:"white",letterSpacing:"-0.32px"},avatarSection:{display:"flex",gap:"20px",alignItems:"center",marginBottom:"30px"},avatarContainer:{position:"relative",width:"160px",height:"160px"},avatar:{width:"160px",height:"160px",borderRadius:"482px",background:"#f4f4f4",objectFit:"cover"},cameraButton:{position:"absolute",top:"4px",right:"-3px",width:"30px",height:"30px",borderRadius:"37px",background:"#f9f9f9",display:"flex",alignItems:"center",justifyContent:"center",border:"none",cursor:"pointer"},userInfo:{display:"flex",flexDirection:"column",gap:"1px"},userName:{fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"24px",color:"black",margin:0},userRole:{display:"flex",gap:"9px",alignItems:"center"},roleText:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"16px",color:"black"},sinceBadge:{display:"flex",alignItems:"center",justifyContent:"center",padding:"1px 8px",border:"1px solid #ff6a00",borderRadius:"24px",background:"white"},sinceBadgeText:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"12px",background:"linear-gradient(to bottom, #ff6a00, #ff9f1c)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},formContainer:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"24px"},formLeft:{gridColumn:"span 2",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},formGroup:{display:"flex",flexDirection:"column",gap:"8px"},formLabel:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"15px",color:"#023337",margin:0},formInput:{width:"100%",height:"48px",padding:"12px 16px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb",fontFamily:"'Poppins', sans-serif",fontSize:"15px",color:"#111827",outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},formRight:{gridColumn:"span 1",display:"flex",flexDirection:"column",gap:"20px"},addressInput:{width:"100%",height:"100px",padding:"12px 16px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb",fontFamily:"'Poppins', sans-serif",fontSize:"15px",color:"#111827",outline:"none",resize:"none",transition:"border-color 0.2s, box-shadow 0.2s"},changePasswordButton:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",height:"48px",padding:"10px 16px",background:"#f9fafb",borderRadius:"8px",border:"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s ease"},changePasswordLeft:{display:"flex",gap:"8px",alignItems:"center"},changePasswordText:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"16px",color:"black"}},aa=({onNavigate:i,currentUser:c,onUpdateProfile:T,activeTenant:S})=>{const[x,p]=t.useState("manage_shop"),{showComingSoon:f,ComingSoonPopup:F}=Xt(),[N,b]=t.useState({name:c?.name||"",username:c?.username||"",phone:c?.phone||"",email:c?.email||"",address:c?.address||""}),[h,l]=t.useState(c?.avatar||null),[y,H]=t.useState(!1),[q,u]=t.useState(!1),[A,B]=t.useState(!1),z=t.useRef(null),K=t.useRef(!1);t.useEffect(()=>{c&&!K.current&&(b({name:c.name||"",username:c.username||"",phone:c.phone||"",email:c.email||"",address:c.address||""}),l(c.avatar||null),K.current=!0)},[c]),t.useEffect(()=>{const w=J=>{(J.ctrlKey||J.metaKey)&&J.key==="s"&&(J.preventDefault(),le())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)});const[V,R]=t.useState(!1),[k,Q]=t.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[W,G]=t.useState(!1),[j,$]=t.useState(!1),[I,U]=t.useState(!1),Z=S?.tenantId||S?.id||"",E=async w=>{const J=w.target.files?.[0];if(J){B(!0);try{const C=await _s(J,{quality:.85,maxDimension:400});if(Z){const Y=gt(C,`profile-${Date.now()}.webp`),te=await ft(Y,Z,"gallery");l(te),v.success("Photo uploaded - save to apply")}else l(C),v.success("Photo ready - save to apply")}catch(C){v.error("Failed to upload photo"),console.error("Avatar upload error:",C)}B(!1),w.target&&(w.target.value="")}},ae=w=>{l(w),H(!1),v.success("Photo selected - save to apply")},le=async()=>{if(!N.name.trim()){v.error("Name is required");return}if(!N.email.trim()){v.error("Email is required");return}u(!0);try{const w=await fetch("/api/auth/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:N.name,username:N.username,phone:N.phone,email:N.email,address:N.address,image:h})}),J=await w.json();if(!w.ok)throw new Error(J.error||"Failed to update profile");T&&await T({...N,avatar:h}),v.success("Profile saved successfully!")}catch(w){v.error(w.message||"Failed to save profile")}u(!1)},oe=async w=>{if(w.preventDefault(),k.newPassword.length<9){v.error("Password must be at least 9 characters");return}if(k.newPassword!==k.confirmPassword){v.error("New passwords do not match");return}U(!0);try{const J=await fetch("/api/auth/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({oldPassword:k.oldPassword,newPassword:k.newPassword})}),C=await J.json();if(!J.ok)throw new Error(C.error||"Failed to change password");v.success("Password changed successfully!"),Q({oldPassword:"",newPassword:"",confirmPassword:""}),R(!1)}catch(J){v.error(J.message||"Failed to change password")}U(!1)},ie=()=>{b({name:c?.name||"",username:c?.username||"",phone:c?.phone||"",email:c?.email||"",address:c?.address||""}),l(c?.avatar||null),v.success("Form reset to original values")},ee=()=>c?.createdAt?`Since ${new Date(c.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}`:"Since 5 Jan 2020",re=[{title:"Delivery Charge",description:"Manage your shop's delivery settings to ensure smooth and efficient order fulfillment.",icon:e.jsx(Qt,{}),navigateTo:"settings_delivery"},{title:"Payment Gateway",description:"Integrate and manage payment options to provide customers with secure and flexible transaction methods.",icon:e.jsx(Jt,{}),navigateTo:"settings_payment"},{title:"Marketing Integrations",description:"Enhance your shop's visibility by Google Tag Manager, Facebook Pixel, TikTok Pixel, and SEO tools for better engagement.",icon:e.jsx(Yt,{}),navigateTo:"settings_marketing",isComingSoon:!1},{title:"Shop Domain",description:"Manage your shop's core configurations, including domain setup and general settings.",icon:e.jsx(Zt,{}),navigateTo:"settings_domain"},{title:"SMS Support",description:"Enable SMS notifications and support to keep your customers informed with real-time updates.",icon:e.jsx(ea,{}),isComingSoon:!0,navigateTo:"sms_marketing"},{title:"Reward Point",description:"Enable SMS notifications and support to keep your customers informed with real-time updates.",icon:e.jsx(sa,{}),isComingSoon:!0,navigateTo:"settings_rewards"},{title:"Courier",description:"Configure courier services like Steadfast and Pathao for seamless order delivery and tracking.",icon:e.jsx(ta,{}),navigateTo:"settings_courier"}];return e.jsxs(e.Fragment,{children:[e.jsx("style",{children:`
        .profile-input:focus {
          border-color: #0ea5e9 !important;
          box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.15) !important;
        }
        .profile-input::placeholder {
          color: #9ca3af;
        }
        .change-password-btn:hover {
          background: #f3f4f6 !important;
          border-color: #0ea5e9 !important;
        }
        @media (max-width: 900px) {
          .profile-form-container {
            grid-template-columns: 1fr !important;
          }
          .profile-form-left {
            grid-column: span 1 !important;
            grid-template-columns: 1fr !important;
          }
        }
      `}),e.jsxs("div",{style:M.container,children:[e.jsxs("div",{style:M.headerCard,children:[e.jsx("h1",{style:M.title,children:"Settings"}),e.jsxs("div",{style:M.tabsContainer,children:[e.jsxs("button",{onClick:()=>p("manage_shop"),style:{...M.tab,...x==="manage_shop"?M.tabActive:{}},children:[e.jsx(qe,{size:24,color:x==="manage_shop"?"#38bdf8":"black"}),e.jsx("span",{style:x==="manage_shop"?M.tabTextActive:M.tabTextInactive,children:"Manage Shop"})]}),e.jsxs("button",{onClick:()=>p("profile_details"),style:{...M.tab,...x==="profile_details"?M.tabActive:{}},children:[e.jsx(Re,{size:24,color:x==="profile_details"?"#38bdf8":"black"}),e.jsx("span",{style:x==="profile_details"?M.tabTextActive:M.tabTextInactive,children:"Profile Details"})]})]})]}),x==="manage_shop"&&e.jsx("div",{style:{maxWidth:"1150px",margin:"0 auto",padding:"0 20px"},children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4",children:[re.map((w,J)=>e.jsx(Kt,{title:w.title,description:w.description,icon:w.icon,onClick:()=>{w.isComingSoon?f(w.title):i(w.navigateTo)}},J)),F]})}),x==="profile_details"&&e.jsx("div",{style:{maxWidth:"1150px",margin:"0 auto",padding:"0 20px"},children:e.jsxs("div",{style:M.profileCard,children:[e.jsxs("div",{style:M.profileHeader,children:[e.jsx("h2",{style:M.profileTitle,children:"Profile Details"}),e.jsxs("div",{style:M.buttonGroup,children:[e.jsxs("button",{onClick:ie,style:M.resetButton,disabled:q,children:[e.jsx(We,{size:24,color:"#020202"}),e.jsx("span",{style:M.resetButtonText,children:"Reset"})]}),e.jsxs("button",{onClick:le,style:{...M.saveButton,opacity:q?.7:1},disabled:q,children:[e.jsx(cs,{size:24,color:"white"}),e.jsx("span",{style:M.saveButtonText,children:q?"Saving...":"Save Changes"})]})]})]}),e.jsxs("div",{style:M.avatarSection,children:[e.jsxs("div",{style:{...M.avatarContainer,position:"relative"},children:[h?e.jsx("img",{src:h,alt:"Avatar",style:M.avatar}):e.jsx("div",{style:{...M.avatar,display:"flex",alignItems:"center",justifyContent:"center",background:"#f3f4f6"},children:e.jsx(Re,{size:48,color:"#9ca3af"})}),A&&e.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(255,255,255,0.8)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ue,{size:24,className:"animate-spin text-sky-500"})}),e.jsxs("div",{style:{position:"absolute",bottom:0,right:0,display:"flex",gap:4},children:[e.jsxs("label",{style:{...M.cameraButton,cursor:"pointer"},children:[e.jsx(Bs,{size:20,color:"#666"}),e.jsx("input",{ref:z,type:"file",accept:"image/*",onChange:E,style:{display:"none"}})]}),e.jsx("button",{onClick:()=>H(!0),style:{...M.cameraButton,border:"none",cursor:"pointer"},title:"Select from Gallery",children:e.jsx(Ds,{size:20,color:"#666"})})]})]}),e.jsxs("div",{style:M.userInfo,children:[e.jsx("p",{style:M.userName,children:N.name}),e.jsxs("div",{style:M.userRole,children:[e.jsx("span",{style:M.roleText,children:c?.role||"Owner"}),e.jsx("div",{style:M.sinceBadge,children:e.jsx("span",{style:M.sinceBadgeText,children:ee()})})]})]})]}),e.jsxs("div",{style:M.formContainer,className:"profile-form-container",children:[e.jsxs("div",{style:M.formLeft,className:"profile-form-left",children:[e.jsxs("div",{style:M.formGroup,children:[e.jsx("label",{style:M.formLabel,children:"Name"}),e.jsx("input",{type:"text",value:N.name,onChange:w=>b({...N,name:w.target.value}),placeholder:"Enter your name",className:"profile-input",style:M.formInput})]}),e.jsxs("div",{style:M.formGroup,children:[e.jsx("label",{style:M.formLabel,children:"Username"}),e.jsx("input",{type:"text",value:N.username,onChange:w=>b({...N,username:w.target.value}),placeholder:"Enter username",className:"profile-input",style:M.formInput})]}),e.jsxs("div",{style:M.formGroup,children:[e.jsx("label",{style:M.formLabel,children:"Phone"}),e.jsx("input",{type:"text",value:N.phone,onChange:w=>b({...N,phone:w.target.value}),placeholder:"Enter phone number",className:"profile-input",style:M.formInput})]}),e.jsxs("div",{style:M.formGroup,children:[e.jsx("label",{style:M.formLabel,children:"Email"}),e.jsx("input",{type:"email",value:N.email,onChange:w=>b({...N,email:w.target.value}),placeholder:"Enter email address",className:"profile-input",style:M.formInput})]})]}),e.jsxs("div",{style:M.formRight,children:[e.jsxs("div",{style:M.formGroup,children:[e.jsx("label",{style:M.formLabel,children:"Address"}),e.jsx("textarea",{value:N.address,onChange:w=>b({...N,address:w.target.value}),placeholder:"Enter your address",className:"profile-input",style:M.addressInput})]}),e.jsxs("button",{onClick:()=>R(!0),style:M.changePasswordButton,className:"change-password-btn",children:[e.jsxs("div",{style:M.changePasswordLeft,children:[e.jsx(ls,{size:24,color:"#0ea5e9"}),e.jsx("span",{style:M.changePasswordText,children:"Change Password"})]}),e.jsx(Ie,{size:24,color:"#666"})]})]})]})]})}),e.jsx(Gs,{isOpen:y,onSelect:ae,onClose:()=>H(!1),multiple:!1,title:"Select Profile Photo"}),V&&e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:16},onClick:()=>R(!1),children:e.jsxs("div",{style:{background:"white",borderRadius:16,width:"100%",maxWidth:420,overflow:"hidden"},onClick:w=>w.stopPropagation(),children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",borderBottom:"1px solid #e5e7eb"},children:[e.jsx("h3",{style:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:18,margin:0},children:"Change Password"}),e.jsx("button",{onClick:()=>R(!1),style:{background:"none",border:"none",cursor:"pointer",padding:4},children:e.jsx(je,{size:24,color:"#666"})})]}),e.jsxs("form",{onSubmit:oe,style:{padding:20},children:[e.jsx("p",{style:{fontFamily:"'Poppins', sans-serif",fontSize:13,color:"#6b7280",marginBottom:16},children:"Password must be at least 9 characters long."}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:14,color:"#374151",marginBottom:6},children:"Current Password *"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:W?"text":"password",value:k.oldPassword,onChange:w=>Q({...k,oldPassword:w.target.value}),required:!0,style:{width:"100%",padding:"10px 40px 10px 12px",border:"1px solid #d1d5db",borderRadius:8,fontFamily:"'Poppins', sans-serif",fontSize:14,outline:"none"},placeholder:"Enter current password"}),e.jsx("button",{type:"button",onClick:()=>G(!W),style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:4},children:W?e.jsx(fs,{size:18,color:"#9ca3af"}):e.jsx(is,{size:18,color:"#9ca3af"})})]})]}),e.jsxs("div",{style:{marginBottom:16},children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:14,color:"#374151",marginBottom:6},children:"New Password *"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:j?"text":"password",value:k.newPassword,onChange:w=>Q({...k,newPassword:w.target.value}),required:!0,minLength:9,style:{width:"100%",padding:"10px 40px 10px 12px",border:"1px solid #d1d5db",borderRadius:8,fontFamily:"'Poppins', sans-serif",fontSize:14,outline:"none"},placeholder:"Min 9 characters"}),e.jsx("button",{type:"button",onClick:()=>$(!j),style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:4},children:j?e.jsx(fs,{size:18,color:"#9ca3af"}):e.jsx(is,{size:18,color:"#9ca3af"})})]}),k.newPassword&&k.newPassword.length<9&&e.jsxs("p",{style:{color:"#ef4444",fontSize:12,marginTop:4},children:["Password must be at least 9 characters (",9-k.newPassword.length," more needed)"]})]}),e.jsxs("div",{style:{marginBottom:24},children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:14,color:"#374151",marginBottom:6},children:"Confirm New Password *"}),e.jsx("input",{type:"password",value:k.confirmPassword,onChange:w=>Q({...k,confirmPassword:w.target.value}),required:!0,style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:8,fontFamily:"'Poppins', sans-serif",fontSize:14,outline:"none"},placeholder:"Re-enter new password"}),k.confirmPassword&&k.newPassword!==k.confirmPassword&&e.jsx("p",{style:{color:"#ef4444",fontSize:12,marginTop:4},children:"Passwords do not match"})]}),e.jsxs("button",{type:"submit",disabled:I||k.newPassword.length<9||k.newPassword!==k.confirmPassword,style:{width:"100%",padding:"12px 20px",background:I?"#9ca3af":"#0ea5e9",color:"white",border:"none",borderRadius:8,fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:14,cursor:I?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:8},children:[e.jsx(ls,{size:18}),I?"Changing...":"Change Password"]})]})]})})]})]})},Ba=Object.freeze(Object.defineProperty({__proto__:null,default:aa},Symbol.toStringTag,{value:"Module"})),ra=({onNavigate:i,tenantId:c,websiteConfig:T,tenantSubdomain:S})=>{const[x,p]=t.useState([{label:"Store Visits",value:"0",change:"0%",icon:e.jsx(os,{size:18})},{label:"Total Orders",value:"0",change:"0%",icon:e.jsx(qe,{size:18})},{label:"Customers",value:"0",change:"0%",icon:e.jsx(Pe,{size:18})},{label:"Messages",value:"0",change:"0%",icon:e.jsx(Qe,{size:18})}]),[f,F]=t.useState(!0);t.useEffect(()=>{(async()=>{if(c){F(!0);try{const l="https://allinbangla.com",y=new Date,H=new Date(y.getTime()-10080*60*1e3),q=new Date(y.getTime()-336*60*60*1e3),u=H,[A,B,z]=await Promise.all([fetch(`${l}/api/visitors/${c}/stats?period=30d`,{headers:{...pe(),"Content-Type":"application/json"}}).then(C=>C.ok?C.json():{totalPageViews:0,dailyStats:[]}),ye.getOrders(c),ye.getChatMessages(c)]),K=A.dailyStats||[],V=A.totalPageViews||0,R=new Date(q);R.setHours(0,0,0,0);const k=new Date(u);k.setHours(0,0,0,0);let Q=0;K.forEach(C=>{const Y=new Date(C.date);Y>=R&&Y<k&&(Q+=C.views||0)});const W=Q>0?((V-Q)/Q*100).toFixed(0):V>0?"100":"0",G=C=>{if(!C)return null;const Y=new Date(C);return isNaN(Y.getTime())?null:Y},j=B.filter(C=>{const Y=G(C.date);return Y&&Y>=H}),$=B.filter(C=>{const Y=G(C.date);return Y&&Y>=q&&Y<u}),I=B.length,U=$.length>0?((j.length-$.length)/$.length*100).toFixed(0):j.length>0?"100":"0",Z=new Set;B.forEach(C=>{C.email?Z.add(C.email):C.phone?Z.add(C.phone):C.customer&&Z.add(C.customer)});const E=new Set;j.forEach(C=>{C.email?E.add(C.email):C.phone?E.add(C.phone):C.customer&&E.add(C.customer)});const ae=new Set;$.forEach(C=>{C.email?ae.add(C.email):C.phone?ae.add(C.phone):C.customer&&ae.add(C.customer)});const le=Z.size,oe=ae.size>0?((E.size-ae.size)/ae.size*100).toFixed(0):E.size>0?"100":"0",ie=z.filter(C=>new Date(C.timestamp||0)>=H),ee=z.filter(C=>{const Y=new Date(C.timestamp||0);return Y>=q&&Y<u}),re=z.length,w=ee.length>0?((ie.length-ee.length)/ee.length*100).toFixed(0):ie.length>0?"100":"0",J=C=>C.toLocaleString("en-US");p([{label:"Store Visits",value:J(V),change:`${parseFloat(W)>=0?"+":""}${W}%`,icon:e.jsx(os,{size:18})},{label:"Total Orders",value:J(I),change:`${parseFloat(U)>=0?"+":""}${U}%`,icon:e.jsx(qe,{size:18})},{label:"Customers",value:J(le),change:`${parseFloat(oe)>=0?"+":""}${oe}%`,icon:e.jsx(Pe,{size:18})},{label:"Messages",value:J(re),change:`${parseFloat(w)>=0?"+":""}${w}%`,icon:e.jsx(Qe,{size:18})}])}catch(l){console.error("Error fetching stats:",l)}finally{F(!1)}}})()},[c]);const N=[{id:"shop-settings",title:"Shop Settings",titleBn:"শপ সেটিংস",description:"Configure your store name, logo, contact info and business details",descriptionBn:"আপনার স্টোরের নাম, লোগো, যোগাযোগের তথ্য এবং ব্যবসার বিবরণ কনফিগার করুন",icon:e.jsx(qe,{size:24}),color:"text-blue-600",bgColor:"bg-blue-50",section:"settings",status:"active"},{id:"store-studio",title:"Store Studio",titleBn:"স্টোর স্টুডিও",description:"Design your store visually without code - customize layouts, colors, and product order",descriptionBn:"কোড ছাড়াই আপনার স্টোর ভিজ্যুয়ালি ডিজাইন করুন - লেআউট, রঙ এবং পণ্যের ক্রম কাস্টমাইজ করুন",icon:e.jsx(Ge,{size:24}),color:"text-violet-600",bgColor:"bg-violet-50",section:"store_studio",status:"active"},{id:"domain",title:"Shop Domain",titleBn:"শপ ডোমেইন",description:"Manage your store domain, SSL and custom URL settings",descriptionBn:"আপনার স্টোরের ডোমেইন, SSL এবং কাস্টম URL সেটিংস পরিচালনা করুন",icon:e.jsx(Rs,{size:24}),color:"text-purple-600",bgColor:"bg-purple-50",section:"settings",status:"active"},{id:"policies",title:"Shop Policy",titleBn:"শপ পলিসি",description:"Set up your privacy policy, terms of service and return policy",descriptionBn:"আপনার প্রাইভেসি পলিসি, সেবার শর্তাবলী এবং রিটার্ন পলিসি সেট আপ করুন",icon:e.jsx(vt,{size:24}),color:"text-emerald-600",bgColor:"bg-emerald-50",section:"settings",status:"pending"},{id:"delivery-options",title:"Delivery Options",titleBn:"ডেলিভারি অপশন",description:"Configure delivery charges, methods and shipping zones for your store",descriptionBn:"আপনার স্টোরের জন্য ডেলিভারি চার্জ, পদ্ধতি এবং শিপিং জোন কনফিগার করুন",icon:e.jsx(Nt,{size:24}),color:"text-orange-600",bgColor:"bg-orange-50",section:"settings_delivery",status:"active"},{id:"courier-integration",title:"Courier Integration",titleBn:"কুরিয়ার ইন্টিগ্রেশন",description:"Connect Steadfast, Pathao and other courier services for automated shipping",descriptionBn:"স্বয়ংক্রিয় শিপিংয়ের জন্য স্টেডফাস্ট, পাঠাও এবং অন্যান্য কুরিয়ার সার্ভিস সংযুক্ত করুন",icon:e.jsx(ms,{size:24}),color:"text-teal-600",bgColor:"bg-teal-50",section:"settings_courier",status:"active"},{id:"facebook-pixel",title:"Facebook Pixel",titleBn:"ফেসবুক পিক্সেল",description:"Track conversions, optimize ads and build audiences with Meta Pixel",descriptionBn:"মেটা পিক্সেল দিয়ে কনভার্সন ট্র্যাক করুন, অ্যাড অপ্টিমাইজ করুন এবং অডিয়েন্স তৈরি করুন",icon:e.jsx(Es,{size:24}),color:"text-blue-700",bgColor:"bg-blue-50",section:"settings_facebook_pixel",status:"active"},{id:"gtm",title:"Google Tag Manager",titleBn:"গুগল ট্যাগ ম্যানেজার",description:"Manage all marketing tags and analytics without editing code",descriptionBn:"কোড এডিট ছাড়াই সব মার্কেটিং ট্যাগ এবং অ্যানালিটিক্স পরিচালনা করুন",icon:e.jsx(Os,{size:24}),color:"text-sky-600",bgColor:"bg-sky-50",section:"settings_gtm",status:"active"},{id:"payment",title:"Payment Gateway",titleBn:"পেমেন্ট গেটওয়ে",description:"Set up bKash, Nagad, card payments and cash on delivery options",descriptionBn:"বিকাশ, নগদ, কার্ড পেমেন্ট এবং ক্যাশ অন ডেলিভারি সেট আপ করুন",icon:e.jsx(wt,{size:24}),color:"text-pink-600",bgColor:"bg-pink-50",section:"settings",status:"active"},{id:"seo",title:"SEO & Marketing",titleBn:"SEO এবং মার্কেটিং",description:"Optimize for search engines, add meta tags and analytics",descriptionBn:"সার্চ ইঞ্জিনের জন্য অপ্টিমাইজ করুন, মেটা ট্যাগ এবং অ্যানালিটিক্স যোগ করুন",icon:e.jsx(_e,{size:24}),color:"text-indigo-600",bgColor:"bg-indigo-50",section:"settings",status:"pending"},{id:"sms",title:"SMS Support",titleBn:"SMS সাপোর্ট",description:"Configure SMS notifications for orders and customer updates",descriptionBn:"অর্ডার এবং কাস্টমার আপডেটের জন্য SMS নোটিফিকেশন কনফিগার করুন",icon:e.jsx(Ct,{size:24}),color:"text-cyan-600",bgColor:"bg-cyan-50",section:"settings",status:"inactive"},{id:"chat",title:"Chat Support",titleBn:"চ্যাট সাপোর্ট",description:"Enable live chat, WhatsApp integration and messenger support",descriptionBn:"লাইভ চ্যাট, হোয়াটসঅ্যাপ ইন্টিগ্রেশন এবং মেসেঞ্জার সাপোর্ট সক্রিয় করুন",icon:e.jsx(Ve,{size:24}),color:"text-green-600",bgColor:"bg-green-50",section:"settings",status:"active"},{id:"social",title:"Social Links",titleBn:"সোশ্যাল লিংক",description:"Connect your Facebook, Instagram, YouTube and other social accounts",descriptionBn:"আপনার ফেসবুক, ইনস্টাগ্রাম, ইউটিউব এবং অন্যান্য সোশ্যাল অ্যাকাউন্ট সংযুক্ত করুন",icon:e.jsx(St,{size:24}),color:"text-rose-600",bgColor:"bg-rose-50",section:"settings",status:"active"}],b=h=>{switch(h){case"active":return e.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-green-600 bg-green-100 px-2 py-0.5 rounded-full",children:[e.jsx(we,{size:12})," Active"]});case"pending":return e.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium text-yellow-600 bg-yellow-100 px-2 py-0.5 rounded-full",children:[e.jsx(xs,{size:12})," Setup"]});case"inactive":return e.jsx("span",{className:"flex items-center gap-1 text-xs font-medium text-gray-500 bg-gray-100 px-2 py-0.5 rounded-full",children:"Inactive"});default:return null}};return e.jsxs("div",{className:"p-3 sm:p-4 md:p-6 lg:p-8 space-y-4 sm:space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg sm:rounded-xl text-white flex-shrink-0",children:[e.jsx(Ue,{size:20,className:"sm:hidden"}),e.jsx(Ue,{size:28,className:"hidden sm:block"})]}),e.jsx("span",{className:"truncate",children:"Manage Shop"})]}),e.jsx("p",{className:"text-gray-500 mt-1 text-xs sm:text-sm truncate",children:"শপ ম্যানেজ করুন - Configure and manage your store"})]}),e.jsxs("button",{onClick:()=>window.open(`https://${S||T?.domain||"store"}.allinbangla.com`,"_blank"),className:"flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition text-gray-700 font-medium shadow-sm text-sm w-full sm:w-auto",children:[e.jsx(Je,{size:16,className:"sm:hidden"}),e.jsx(Je,{size:18,className:"hidden sm:block"}),"Visit Store"]})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4",children:x.map((h,l)=>e.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 border border-blue-400 shadow-sm hover:shadow-md transition",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-gray-500",children:h.icon}),f?e.jsx(ue,{size:14,className:"animate-spin text-gray-400"}):e.jsx("span",{className:`text-[10px] sm:text-xs font-medium px-1.5 sm:px-2 py-0.5 rounded-full ${h.change.startsWith("+")||parseFloat(h.change)>0?"text-green-600 bg-green-50":parseFloat(h.change)<0?"text-red-600 bg-red-50":"text-gray-600 bg-gray-50"}`,children:h.change})]}),f?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{size:20,className:"animate-spin text-gray-400"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Loading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:h.value}),e.jsx("p",{className:"text-[10px] sm:text-sm text-gray-500 truncate",children:h.label})]})]},l))}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-gray-800 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(Ge,{size:18,className:"text-purple-500 sm:hidden"}),e.jsx(Ge,{size:20,className:"text-purple-500 hidden sm:block"}),"Shop Configuration"]}),e.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:N.map(h=>e.jsxs("div",{onClick:()=>h.section&&i(h.section),className:"group bg-white rounded-lg sm:rounded-xl p-3 sm:p-5 border border-gray-400 shadow-sm hover:shadow-lg hover:border-purple-200 transition-all cursor-pointer",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-3",children:[e.jsx("div",{className:`p-2 sm:p-3 rounded-lg sm:rounded-xl ${h.bgColor} ${h.color} group-hover:scale-110 transition-transform`,children:h.icon}),b(h.status)]}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base mb-0.5 sm:mb-1 group-hover:text-purple-600 transition truncate",children:h.title}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 mb-1 sm:mb-2 truncate",children:h.titleBn}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-2",children:h.description}),e.jsxs("div",{className:"flex items-center gap-1 text-purple-600 text-xs sm:text-sm font-medium mt-2 sm:mt-3 opacity-0 group-hover:opacity-100 transition",children:["Configure ",e.jsx(Be,{size:14})]})]},h.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg sm:rounded-xl p-4 sm:p-5 border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 bg-blue-500 rounded-lg text-white",children:[e.jsx(ds,{size:18,className:"sm:hidden"}),e.jsx(ds,{size:20,className:"hidden sm:block"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:"Security Settings"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"সিকিউরিটি সেটিংস"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:"Manage passwords, 2FA authentication, and access controls."}),e.jsxs("button",{onClick:()=>i("settings"),className:"text-xs sm:text-sm font-medium text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["Manage Security ",e.jsx(Be,{size:14})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 rounded-lg sm:rounded-xl p-4 sm:p-5 border border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsxs("div",{className:"p-1.5 sm:p-2 bg-amber-500 rounded-lg text-white",children:[e.jsx(bs,{size:18,className:"sm:hidden"}),e.jsx(bs,{size:20,className:"hidden sm:block"})]}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-base truncate",children:"Notifications"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"নোটিফিকেশন"})]})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-2 sm:mb-3",children:"Configure email, push, and SMS notifications for orders."}),e.jsxs("button",{onClick:()=>i("settings"),className:"text-xs sm:text-sm font-medium text-amber-600 hover:text-amber-700 flex items-center gap-1",children:["Manage Notifications ",e.jsx(Be,{size:14})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 rounded-lg sm:rounded-xl p-4 sm:p-6 text-white",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-base sm:text-xl font-bold mb-1",children:"Need Help Setting Up?"}),e.jsx("p",{className:"text-purple-100 text-xs sm:text-sm",children:"সাহায্য প্রয়োজন? আমাদের সাপোর্ট টিম সবসময় আপনার পাশে আছে।"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-wrap",children:[e.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-white text-purple-600 rounded-lg font-medium hover:bg-purple-50 transition text-xs sm:text-sm",children:"Watch Tutorial"}),e.jsx("button",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-purple-500 text-white rounded-lg font-medium hover:bg-purple-400 transition border border-purple-400 text-xs sm:text-sm",children:"Contact Support"})]})]})})]})},Ea=Object.freeze(Object.defineProperty({__proto__:null,default:ra},Symbol.toStringTag,{value:"Module"})),Fs="/api",Le={bkash:"https://www.logo.wine/a/logo/BKash/BKash-Icon-Logo.wine.svg",nagad:"https://hdnfltv.com/image/nitimages/pasted_1770952876471.webp",rocket:"https://hdnfltv.com/image/nitimages/pasted_1770952937066.webp",upay:"https://hdnfltv.com/image/nitimages/pasted_1770952990491.webp",tap:"https://hdnfltv.com/image/nitimages/pasted_1770953059804.webp",aamarpay:"https://hdnfltv.com/image/nitimages/pasted_1770950390967.webp"},na=[{id:"bkash",name:"bKash",logo:Le.bkash},{id:"nagad",name:"Nagad",logo:Le.nagad},{id:"rocket",name:"Rocket",logo:Le.rocket},{id:"upay",name:"UPay",logo:Le.upay},{id:"tap",name:"Tap",logo:Le.tap}],la=[{value:"merchant",label:"Merchant"},{value:"send_money",label:"Send Money"},{value:"personal",label:"Personal"}],Vs=({enabled:i,onChange:c})=>e.jsx("button",{type:"button",onClick:()=>c(!i),className:`relative inline-flex h-5 w-[38px] items-center rounded-full transition-colors ${i?"bg-[#1e90ff]":"bg-gray-300"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${i?"translate-x-5":"translate-x-0.5"}`})}),As=({title:i,subtitle:c,logo:T,enabled:S,onToggle:x,children:p})=>e.jsxs("div",{className:"bg-white rounded-lg shadow-[0_2px_6px_rgba(0,0,0,0.03)] px-3 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-2 pr-2",children:[e.jsxs("div",{className:"flex flex-col gap-0.5 w-[553px]",children:[T?e.jsx("img",{src:T,alt:i,className:"h-7 w-auto object-contain max-w-[120px]"}):e.jsx("h4",{className:"text-lg font-bold text-black tracking-tight",children:i}),e.jsx("p",{className:"text-xs text-[#6f6f6f]",children:c})]}),e.jsx(Vs,{enabled:S,onChange:x})]}),S&&p&&e.jsx("div",{className:"mt-2",children:p})]}),ia=({onBack:i,tenantId:c,onSave:T,onUpdatePaymentMethods:S})=>{const[x,p]=t.useState({cashOnDelivery:!0,aamarPay:{enabled:!1},bkash:{enabled:!0},selfMfs:{enabled:!0,selectedProviders:["bkash","nagad","rocket","upay","tap"],phoneNumber:"",mfsType:"merchant",paymentInstruction:"",qrCodeUrl:""},advancePayment:{enabled:!0,type:"percentage",percentage:0},paymentProcessMessage:""}),[f,F]=t.useState(!0),[N,b]=t.useState(!1),h=t.useRef(null);t.useEffect(()=>{(async()=>{if(!c){F(!1);return}try{const A=await fetch(`${Fs}/tenant-data/${c}/payment_methods`,{headers:{...pe(),"X-Tenant-Id":c}});if(!A.ok){F(!1);return}const z=(await A.json()).data||[],K=z.find(W=>W.provider==="cod"),V=z.find(W=>W.provider==="bkash"&&W.id.includes("merchant")),R=z.filter(W=>W.id.startsWith("self-mfs-")),k=R[0],Q=R.map(W=>W.id.replace("self-mfs-",""));p(W=>({...W,cashOnDelivery:K?.isEnabled??!0,bkash:{enabled:V?.isEnabled??!1,appKey:V?.appKey||"",secretKey:V?.secretKey||"",username:V?.username||"",password:V?.password||""},selfMfs:k?{enabled:!0,selectedProviders:Q.length>0?Q:["bkash","nagad","rocket","upay","tap"],phoneNumber:k.accountNumber||"",mfsType:k.paymentType||"merchant",paymentInstruction:k.paymentInstruction||"",qrCodeUrl:k?.qrCodeUrl||k.logo||""}:W.selfMfs}))}catch(A){console.error("Failed to load payment settings:",A)}finally{F(!1)}})()},[c]),t.useCallback((u,A)=>{p(B=>({...B,[u]:A}))},[]);const l=t.useCallback((u,A,B)=>{p(z=>({...z,[u]:{...z[u],[A]:B}}))},[]),y=t.useCallback(u=>{p(A=>({...A,selfMfs:{...A.selfMfs,selectedProviders:A.selfMfs.selectedProviders.includes(u)?A.selfMfs.selectedProviders.filter(B=>B!==u):[...A.selfMfs.selectedProviders,u]}}))},[]),H=t.useCallback(u=>{const A=u.target.files?.[0];if(A){const B=new FileReader;B.onload=()=>{l("selfMfs","qrCodeUrl",B.result)},B.readAsDataURL(A)}},[l]),q=t.useCallback(async()=>{if(!c){Ce.error("Tenant ID is required");return}console.log("[PaymentSettings] Saving for tenant:",c),console.log("[PaymentSettings] Settings:",JSON.stringify(x.selfMfs,null,2)),b(!0);try{const u=[];u.push({id:"cod-default",provider:"cod",name:"Cash On Delivery",isEnabled:x.cashOnDelivery}),x.bkash.enabled&&u.push({id:"bkash-merchant",provider:"bkash",name:"bKash Payment",isEnabled:x.bkash.enabled,appKey:x.bkash.appKey,secretKey:x.bkash.secretKey,username:x.bkash.username,password:x.bkash.password}),x.selfMfs.enabled&&x.selfMfs.selectedProviders.length>0&&x.selfMfs.selectedProviders.forEach(z=>{const K={bkash:"bKash",nagad:"Nagad",rocket:"Rocket",upay:"UPay",tap:"Tap"};u.push({id:`self-mfs-${z}`,provider:z,name:`${K[z]||z} (Manual)`,isEnabled:!0,paymentType:x.selfMfs.mfsType,accountNumber:x.selfMfs.phoneNumber,paymentInstruction:x.selfMfs.paymentInstruction,logo:x.selfMfs.qrCodeUrl,selectedProviders:x.selfMfs.selectedProviders,qrCodeUrl:x.selfMfs.qrCodeUrl})}),console.log("[PaymentSettings] Saving paymentMethods:",JSON.stringify(u,null,2));const A=await fetch(`${Fs}/tenant-data/${c}/payment_methods`,{method:"PUT",headers:{"Content-Type":"application/json",...pe(),"X-Tenant-Id":c},body:JSON.stringify({data:u})}),B=await A.json();if(console.log("[PaymentSettings] Server response:",B),!A.ok)throw new Error("Failed to save payment settings");await Ht(c,"payment_methods"),console.log("[PaymentSettings] Calling onUpdatePaymentMethods with:",u.length,"methods"),S?.(u),Ce.success("Payment settings saved successfully!"),T?.(x)}catch(u){console.error("Failed to save payment settings:",u),Ce.error("Failed to save payment settings")}finally{b(!1)}},[x,c,T,S]);return f?e.jsx("div",{className:"w-full max-w-[1146px] mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg px-[18px]py-4 sm:py-6",children:[e.jsxs("div",{className:"flex items-center gap-3.5 h-[42px] mb-6",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{className:"h-6 w-48 bg-gray-200 rounded animate-pulse"}),e.jsx("div",{className:"h-3 w-64 bg-gray-200 rounded animate-pulse"})]})]}),e.jsx("div",{className:"flex flex-col gap-4",children:[1,2,3,4].map(u=>e.jsx("div",{className:"bg-white rounded-lg shadow-[0_2px_6px_rgba(0,0,0,0.03)] px-3 py-4 h-20 animate-pulse",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"h-5 w-32 bg-gray-200 rounded"}),e.jsx("div",{className:"h-3 w-48 bg-gray-200 rounded"})]}),e.jsx("div",{className:"h-5 w-10 bg-gray-200 rounded-full"})]})},u))})]})}):e.jsxs("div",{className:"w-full max-w-[1146px] mx-auto",children:[!1,e.jsx("div",{className:"bg-white rounded-lg px-[18px]py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"flex items-center gap-3.5 h-[42px]",children:[e.jsx("button",{onClick:i,className:"flex items-center justify-center rotate-180",children:e.jsx(Ie,{size:13,className:"text-gray-600"})}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h2",{className:"text-xl font-medium text-black font-['Lato']",children:"Payment Gateway"}),e.jsx("p",{className:"text-xs text-[#a2a2a2] font-['Lato']",children:"Enable and configure your preferred delivery services"})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(As,{logo:Le.aamarpay,subtitle:"Configure AamarPay credentials",enabled:x.aamarPay.enabled,onToggle:u=>l("aamarPay","enabled",u)}),e.jsx(As,{logo:Le.bkash,subtitle:"Configure bKash merchant credentials",enabled:x.bkash.enabled,onToggle:u=>l("bkash","enabled",u),children:e.jsxs("div",{className:"flex flex-col gap-5 w-full",children:[e.jsx("p",{className:"text-xs text-[#6f6f6f] w-full",children:"Please provide your bKash credentials to integrate bKash merchant"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",placeholder:"Marchant App Key",className:"bg-[#f9f9f9] rounded-lg h-10 px-3 text-sm text-[#a2a2a2] w-[429px] focus:outline-none focus:ring-1 focus:ring-[#1e90ff]",value:x.bkash.appKey||"",onChange:u=>l("bkash","appKey",u.target.value)}),e.jsx("input",{type:"text",placeholder:"Marchant Secret Key",className:"bg-[#f9f9f9] rounded-lg h-10 px-3 text-sm text-[#a2a2a2] flex-1 focus:outline-none focus:ring-1 focus:ring-[#1e90ff]",value:x.bkash.secretKey||"",onChange:u=>l("bkash","secretKey",u.target.value)})]}),e.jsxs("div",{className:"flex gap-3 items-start",children:[e.jsx("input",{type:"text",placeholder:"Marchant Username",className:"bg-[#f9f9f9] rounded-lg h-10 px-3 text-sm text-[#a2a2a2] w-[429px] focus:outline-none focus:ring-1 focus:ring-[#1e90ff]",value:x.bkash.username||"",onChange:u=>l("bkash","username",u.target.value)}),e.jsx("input",{type:"password",placeholder:"Marchant Password",className:"bg-[#f9f9f9] rounded-lg h-10 px-3 text-sm text-[#a2a2a2] flex-1 focus:outline-none focus:ring-1 focus:ring-[#1e90ff]",value:x.bkash.password||"",onChange:u=>l("bkash","password",u.target.value)}),e.jsx("button",{className:"bg-[#1e90ff] border border-[#1e90ff] rounded-lg px-4 py-2 h-10 w-[120px] flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-semibold font-['Lato']",children:"Save"})})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-[0_2px_6px_rgba(0,0,0,0.03)] px-3 py-4 sm:py-6",children:[e.jsxs("div",{className:"flex items-center justify-between pr-2 py-4",children:[e.jsxs("div",{className:"flex flex-col gap-0.5 w-[553px]",children:[e.jsx("h4",{className:"text-lg font-bold text-black tracking-tight",children:"Manual Payment (Self MFS)"}),e.jsx("p",{className:"text-xs text-[#6f6f6f]",children:"Merchant API না থাকলে এখানে manual payment instruction দিন - এটি checkout এ customer দেখবে"})]}),e.jsx(Vs,{enabled:x.selfMfs.enabled,onChange:u=>l("selfMfs","enabled",u)})]}),x.selfMfs.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-4",children:[e.jsx("div",{className:"flex gap-3 items-center",children:na.map(u=>{const A=x.selfMfs.selectedProviders.includes(u.id);return e.jsxs("button",{type:"button",onClick:()=>y(u.id),className:`flex gap-1 h-10 items-center justify-center px-2 py-1 rounded-lg border ${A?"border-[#1e90ff]":"border-gray-300"} bg-white`,children:[A&&e.jsx($e,{size:18,className:"text-[#1e90ff]"}),e.jsx("img",{src:u.logo,alt:u.name,className:"h-7 w-auto object-contain"})]},u.id)})}),e.jsxs("div",{className:"flex gap-3 items-center text-sm font-['Lato']",children:[e.jsx("span",{className:"text-black",children:"Phone Number"}),e.jsxs("div",{className:"bg-[#f9f9f9] rounded-lg h-[39px] w-[273px] px-[19px] flex items-center",children:[e.jsx("span",{className:"text-black",children:"+88"}),e.jsx("input",{type:"text",placeholder:"01XX XXXXXXX",className:"bg-transparent ml-2 text-[#a2a2a2] flex-1 focus:outline-none",value:x.selfMfs.phoneNumber||"",onChange:u=>l("selfMfs","phoneNumber",u.target.value)})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("label",{className:"text-base font-medium text-black font-['Lato']",children:"Select MFS type"}),e.jsxs("div",{className:"bg-[#f9f9f9] rounded-lg flex items-center justify-between px-3 py-1",children:[e.jsx("select",{className:"bg-transparent text-sm text-black font-['Lato'] flex-1 focus:outline-none cursor-pointer appearance-none",value:x.selfMfs.mfsType,onChange:u=>l("selfMfs","mfsType",u.target.value),children:la.map(u=>e.jsx("option",{value:u.value,children:u.label},u.value))}),e.jsx(Ie,{size:24,className:"text-gray-500 rotate-90"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-base font-medium text-black font-['Lato']",children:"Payment Instruction"}),e.jsxs("div",{className:"group relative",children:[e.jsx(Ye,{size:14,className:"text-gray-400 cursor-help"}),e.jsx("div",{className:"absolute bottom-full left-0 mb-2 hidden group-hover:block w-64 p-2 bg-gray-800 text-white text-xs rounded-lg shadow-lg z-10",children:"এই instruction টি checkout page এ customer কে দেখানো হবে যখন তারা bKash/Nagad/Rocket select করবে। Image সহ সুন্দর করে লিখুন।"})]})]}),e.jsxs("div",{className:"bg-[#f9f9f9] rounded-lg overflow-hidden",children:[e.jsx("p",{className:"text-xs text-[#6f6f6f] px-3 py-2 border-b border-gray-200 bg-blue-50",children:"💡 এখানে image সহ manual payment instruction লিখুন। Customer checkout করার সময় এটি দেখবে।"}),e.jsx(Gt,{value:x.selfMfs.paymentInstruction||"",onChange:u=>l("selfMfs","paymentInstruction",u),placeholder:"যেমন: ১. এই নম্বরে Send Money করুন: 01XXXXXXXXX। ২. Transaction ID নোট করুন। ৩. Checkout এ TxnID দিন।",minHeight:"min-h-[200px]",hideLabel:!0})]})]})]}),e.jsx("div",{className:"w-[330px] h-[330px] border border-dashed border-[#d7d7d7] rounded-lg bg-white flex items-center justify-center",children:x.selfMfs.qrCodeUrl?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:x.selfMfs.qrCodeUrl,alt:"QR Code",className:"max-w-full max-h-[280px] object-contain"}),e.jsx("button",{onClick:()=>l("selfMfs","qrCodeUrl",""),className:"absolute -to p-2 -right-2 bg-red-500 text-white rounded-full p-1",children:e.jsx(je,{size:14})})]}):e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-base font-medium text-black font-['Lato']",children:"Add QR Code"}),e.jsx("div",{className:"w-[105px] h-[105px] bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(ps,{size:40,className:"text-gray-400"})}),e.jsxs("div",{className:"flex flex-col items-center gap-1 text-[#a2a2a2]",children:[e.jsx("p",{className:"text-sm font-['Lato']",children:"Drag and drop image here, or click add image."}),e.jsxs("p",{className:"text-[10px] text-center w-[264px] font-['Lato']",children:["Supported formats: JPG, PNG, Max size: 4MB.",e.jsx("br",{}),"Note: Use images with a 1:1 aspect ratio (150×150 pixels.)"]})]}),e.jsx("input",{ref:h,type:"file",accept:"image/*",className:"hidden",onChange:H}),e.jsx("button",{onClick:()=>h.current?.click(),className:"bg-[#ff9f1c] rounded-lg px-4 py-2 text-white text-sm font-semibold font-['Lato']",children:"Add Image"})]})})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx("button",{onClick:q,disabled:N,className:"bg-[#1e90ff] border border-[#1e90ff] rounded-lg px-3 sm:px-4 lg:px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:N?e.jsxs(e.Fragment,{children:[e.jsx(ue,{size:16,className:"animate-spin text-white"}),e.jsx("span",{className:"text-white text-sm font-semibold font-['Lato']",children:"Saving..."})]}):e.jsx("span",{className:"text-white text-sm font-semibold font-['Lato']",children:"Save Manual Payment Settings"})})})]})]})]})]})}),e.jsx("div",{className:"flex items-center justify-end w-full mt-5"})]})},Oa=Object.freeze(Object.defineProperty({__proto__:null,default:ia},Symbol.toStringTag,{value:"Module"})),oa=({orders:i,products:c=[],activeTenantId:T})=>{const[S,x]=t.useState(""),[p,f]=t.useState(!0),[F,N]=t.useState([]),[b,h]=t.useState([]),[l,y]=t.useState("Newest"),[H,q]=t.useState("Newest"),[u,A]=t.useState("All Status"),[B,z]=t.useState("10 Tags"),[K,V]=t.useState(""),[R,k]=t.useState([]),[Q,W]=t.useState(!0),[G,j]=t.useState(null),[$,I]=t.useState(""),[U,Z]=t.useState(!1);t.useEffect(()=>{(async()=>{if(T)try{W(!0);const{reviews:g}=await ye.getAllReviewsForTenant(T,{limit:1e3});k(g)}catch(g){console.error("Failed to fetch reviews:",g),k([])}finally{W(!1)}})()},[T]);const E=t.useMemo(()=>R.find(o=>o._id===G)||null,[R,G]),ae=async(o,g)=>{if(T){Z(!0);try{await ye.updateReviewStatus(T,o,g),k(n=>n.map(_=>_._id===o?{..._,status:g}:_)),v.success(g==="approved"?"Review approved - now visible in storefront":g==="rejected"?"Review rejected":"Review set to pending")}catch(n){console.error("Failed to update review status:",n),v.error("Failed to update review status")}finally{Z(!1)}}},le=async()=>{if(!(!E||!$.trim()||!T)){Z(!0);try{await ye.replyToReview(T,E._id,$.trim()),k(o=>o.map(g=>g._id===E._id?{...g,reply:$.trim(),repliedAt:new Date().toISOString(),status:"approved"}:g)),v.success("Reply sent and review approved"),I("")}catch(o){console.error("Failed to send reply:",o),v.error("Failed to send reply")}finally{Z(!1)}}},oe=o=>{switch(o){case"approved":return"bg-emerald-100 text-emerald-700";case"pending":return"bg-amber-100 text-amber-700";case"rejected":return"bg-rose-100 text-rose-700";default:return"bg-gray-100 text-gray-700"}},ie=o=>{try{return new Date(o).toLocaleDateString("en-BD",{day:"numeric",month:"short",year:"numeric"})}catch{return o}};t.useEffect(()=>{const o=setTimeout(()=>f(!1),600);return()=>clearTimeout(o)},[]);const ee=t.useMemo(()=>{const o=new Map;let g=100;if(i.forEach(n=>{const _=n.customerPhone||n.phone||"";if(!_)return;const D=o.get(_),de=n.total||n.grandTotal||0,Ne=n.createdAt||n.date||new Date().toISOString(),r=typeof Ne=="string"?Ne:new Date(Ne).toISOString();D?(D.totalOrders+=1,D.totalSpent+=de,D.orders.push(n),new Date(r)>new Date(D.lastOrderDate)&&(D.lastOrderDate=r),new Date(r)<new Date(D.firstOrderDate)&&(D.firstOrderDate=r),D.avgOrderValue=D.totalSpent/D.totalOrders):o.set(_,{id:_,name:n.customer||"Unknown Customer",phone:_,email:n.email||"",address:n.location||"",totalOrders:1,totalSpent:de,lastOrderDate:r,firstOrderDate:r,avgOrderValue:de,orders:[n],avatar:"https://hdnfltv.com/image/nitimages/pasted_1770973977439.webp",status:"Active",serialNumber:g++})}),o.size===0)for(let n=0;n<4;n++)o.set(`sample-${n}`,{id:`sample-${n}`,name:`Sample Customer ${n+1}`,phone:"0000-000000",email:"sample@example.com",address:"",totalOrders:1,totalSpent:0,lastOrderDate:new Date().toISOString(),firstOrderDate:new Date().toISOString(),avgOrderValue:0,orders:[],avatar:"https://hdnfltv.com/image/nitimages/pasted_1770973977439.webp",status:"Active",serialNumber:100});return Array.from(o.values()).sort((n,_)=>_.totalSpent-n.totalSpent)},[i]),re=t.useMemo(()=>{const o=ee.length||45,g=R.length||45,n=ee.filter(D=>D.totalOrders>1).length||45,_=ee.filter(D=>D.status==="Blocked").length||45;return{totalCustomers:o,totalReviews:g,repeatCustomers:n,blockedCustomers:_}},[ee,R]),w=t.useMemo(()=>{let o=[...ee];if(S.trim()){const g=S.toLowerCase();o=o.filter(n=>n.name.toLowerCase().includes(g)||n.phone.includes(g)||n.email?.toLowerCase().includes(g)||n.address?.toLowerCase().includes(g))}if(u!=="All Status"&&(o=o.filter(g=>g.status===u)),K.trim()){const g=K.toLowerCase();o=o.filter(n=>n.name.toLowerCase().includes(g)||n.phone.includes(g)||n.email?.toLowerCase().includes(g)||n.address?.toLowerCase().includes(g)||n.orders.some(_=>_.items?.some(D=>D.name?.toLowerCase().includes(g)||D.productName?.toLowerCase().includes(g))))}switch(l){case"Newest":o.sort((g,n)=>new Date(n.lastOrderDate).getTime()-new Date(g.lastOrderDate).getTime());break;case"Oldest":o.sort((g,n)=>new Date(g.firstOrderDate).getTime()-new Date(n.firstOrderDate).getTime());break;case"Name":o.sort((g,n)=>g.name.localeCompare(n.name));break;case"Most Orders":o.sort((g,n)=>n.totalOrders-g.totalOrders);break;case"Highest Spent":o.sort((g,n)=>n.totalSpent-g.totalSpent);break}return o},[ee,S,u,K,l]),J=o=>c.find(n=>n.id===o)?.name||`Product #${o}`,C=t.useMemo(()=>{let o=[...R];if(K.trim()){const g=K.toLowerCase();o=o.filter(n=>J(n.productId).toLowerCase().includes(g)||n.userName?.toLowerCase().includes(g)||n.comment?.toLowerCase().includes(g)||n.headline?.toLowerCase().includes(g))}switch(H){case"Newest":o.sort((g,n)=>new Date(n.createdAt).getTime()-new Date(g.createdAt).getTime());break;case"Oldest":o.sort((g,n)=>new Date(g.createdAt).getTime()-new Date(n.createdAt).getTime());break;case"Highest Rating":o.sort((g,n)=>n.rating-g.rating);break;case"Lowest Rating":o.sort((g,n)=>g.rating-n.rating);break;case"Most Helpful":o.sort((g,n)=>(n.helpful||0)-(g.helpful||0));break}return o},[R,K,H,c]),Y=()=>{F.length===w.length?N([]):N(w.map(o=>o.id))},te=o=>{N(g=>g.includes(o)?g.filter(n=>n!==o):[...g,o])},ge=()=>{b.length===C.length?h([]):h(C.map(o=>o._id))},Te=o=>{h(g=>g.includes(o)?g.filter(n=>n!==o):[...g,o])},fe=o=>`https://images.unsplash.com/photo-${15e11+o.split("").reduce((_,D)=>_+D.charCodeAt(0),0)%70}?w=100&h=100&fit=crop&crop=faces`,Se=o=>o>=4?{bg:"bg-[#E0F2FE]",text:"text-sky-600",starFill:"text-sky-500"}:o>=3?{bg:"bg-[#FFEDD5]",text:"text-orange-600",starFill:"text-orange-500"}:{bg:"bg-[#FEE2E2]",text:"text-red-600",starFill:"text-red-500"};return e.jsxs("div",{className:"min-h-screen bg-stone-50 font-['Poppins'] p-4 md:p-6 lg:p-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-4",children:[e.jsxs("h1",{className:"text-2xl font-bold text-teal-950",children:["Customers ",e.jsx("span",{className:"font-normal",children:"Review"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:items-center",children:[e.jsxs("div",{className:"relative w-full sm:w-80",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_e,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-16 py-2.5 bg-[#F1F5F9] border-none rounded-lg text-sm text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all",placeholder:"Search customer, phone, product...",value:K,onChange:o=>V(o.target.value)}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Search"})})]}),e.jsxs("div",{className:"flex items-center gap-3 overflow-x-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:u,onChange:o=>A(o.target.value),className:"appearance-none bg-[#F1F5F9] text-gray-700 text-sm font-medium py-2.5 pl-4 pr-10 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",style:{WebkitAppearance:"none",MozAppearance:"none",backgroundImage:"none"},children:[e.jsx("option",{children:"All Status"}),e.jsx("option",{children:"Active"}),e.jsx("option",{children:"Blocked"})]}),e.jsx(ve,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:B,onChange:o=>z(o.target.value),className:"appearance-none bg-[#F1F5F9] text-gray-700 text-sm font-medium py-2.5 pl-4 pr-10 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",style:{WebkitAppearance:"none",MozAppearance:"none",backgroundImage:"none"},children:[e.jsx("option",{children:"10 Tags"}),e.jsx("option",{children:"5 Tags"}),e.jsx("option",{children:"20 Tags"})]}),e.jsx(ve,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})]})]})]}),p?e.jsx(Ls,{count:4}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4 md:gap-6",children:[e.jsxs("div",{className:"bg-[#F0F9FF] rounded-xl p-5 flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-stone-900 text-base font-medium",children:"Customer"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:re.totalCustomers}),e.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"Total user"})]}),e.jsx("div",{className:"w-12 h-12 bg-[#0095FF] rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(Pe,{className:"w-6 h-6 text-white"})})]}),e.jsxs("div",{className:"bg-[#FFF7ED] rounded-xl p-5 flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-stone-900 text-base font-medium",children:"Review"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:re.totalReviews}),e.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"Consumers review"})]}),e.jsx("div",{className:"w-12 h-12 bg-[#F97316] rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(ts,{className:"w-6 h-6 text-white",fill:"currentColor"})})]}),e.jsxs("div",{className:"bg-[#F0FDF4] rounded-xl p-5 flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-stone-900 text-base font-medium",children:"Recurring customers"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:re.repeatCustomers}),e.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"Repeat customers"})]}),e.jsx("div",{className:"w-12 h-12 bg-[#22C55E] rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(We,{className:"w-6 h-6 text-white"})})]}),e.jsxs("div",{className:"bg-[#FEF2F2] rounded-xl p-5 flex items-start justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-stone-900 text-base font-medium",children:"Blocked"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:re.blockedCustomers}),e.jsx("p",{className:"text-gray-500 text-xs font-medium",children:"Blocked users"})]}),e.jsx("div",{className:"w-12 h-12 bg-[#EF4444] rounded-lg flex items-center justify-center shadow-sm",children:e.jsx(kt,{className:"w-6 h-6 text-white"})})]})]}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-3 sm:gap-4 lg:gap-6 items-start",children:[e.jsxs("div",{className:"w-full xl:flex-1 bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"relative w-full sm:max-w-md bg-[#F1F5F9] rounded-lg",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_e,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",value:S,onChange:o=>x(o.target.value),placeholder:"Search Customers",className:"block w-full pl-9 pr-16 py-2 bg-transparent border-none text-sm text-gray-900 placeholder-gray-500 focus:ring-0"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Search"})})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:"text-gray-500 text-sm",children:"Sort by"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:l,onChange:o=>y(o.target.value),className:"appearance-none bg-[#F1F5F9] text-gray-700 text-sm font-medium py-1.5 pl-3 pr-8 rounded-md focus:outline-none cursor-pointer",style:{WebkitAppearance:"none",MozAppearance:"none",backgroundImage:"none"},children:[e.jsx("option",{children:"Newest"}),e.jsx("option",{children:"Oldest"}),e.jsx("option",{children:"Name"}),e.jsx("option",{children:"Most Orders"}),e.jsx("option",{children:"Highest Spent"})]}),e.jsx(ve,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]}),e.jsx("button",{className:"p-1.5 bg-[#F1F5F9] rounded-md hover:bg-gray-200 transition",children:e.jsx(ys,{className:"w-4 h-4 text-gray-600"})})]})]}),e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-[#E0F2FE]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-12",children:e.jsx("div",{className:`w-5 h-5 rounded border border-gray-400 cursor-pointer flex items-center justify-center transition-colors ${F.length===w.length&&w.length>0?"bg-[#0095FF] border-[#0095FF]":"bg-transparent"}`,onClick:Y,children:F.length===w.length&&w.length>0&&e.jsx(we,{className:"w-3.5 h-3.5 text-white"})})}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Sl"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Image"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Name"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Contact"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm text-center",children:"Status"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm text-center",children:"Action"})]})}),e.jsx("tbody",{children:w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"p-8 text-center text-gray-500",children:"No customers found"})}):w.map((o,g)=>e.jsxs("tr",{className:"border-b border-gray-100 last:border-0 hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsx("div",{className:`w-5 h-5 rounded border border-gray-400 cursor-pointer flex items-center justify-center transition-colors ${F.includes(o.id)?"bg-[#0095FF] border-[#0095FF]":"bg-transparent"}`,onClick:()=>te(o.id),children:F.includes(o.id)&&e.jsx(we,{className:"w-3.5 h-3.5 text-white"})})}),e.jsx("td",{className:"py-4 px-2 text-sm text-gray-600",children:w.length-g}),e.jsx("td",{className:"py-4 px-2",children:e.jsx("img",{src:o.avatar,alt:"",className:"w-10 h-10 rounded-lg object-cover bg-gray-200"})}),e.jsx("td",{className:"py-4 px-2 text-sm font-medium text-gray-900",children:o.name}),e.jsx("td",{className:"py-4 px-2",children:e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsx("span",{className:"text-gray-900",children:o.phone}),e.jsx("span",{className:"text-gray-500 text-xs",children:o.email})]})}),e.jsx("td",{className:"py-4 px-2 text-center",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="Active"?"bg-[#DCFCE7] text-[#166534]":"bg-[#FEE2E2] text-[#991B1B]"}`,children:o.status})}),e.jsx("td",{className:"py-4 px-2 text-center",children:e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:e.jsx(Ke,{className:"w-5 h-5"})})})]},o.id))})]})}),e.jsx("div",{className:"md:hidden space-y-4 p-4",children:w.length===0?e.jsx("div",{className:"text-center text-gray-500 py-8",children:"No customers found"}):w.map(o=>e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-4 shadow-sm flex items-start gap-4",children:[e.jsx("div",{className:`mt-1 w-5 h-5 rounded border border-gray-400 cursor-pointer flex items-center justify-center flex-shrink-0 ${F.includes(o.id)?"bg-[#0095FF] border-[#0095FF]":"bg-transparent"}`,onClick:()=>te(o.id),children:F.includes(o.id)&&e.jsx(we,{className:"w-3.5 h-3.5 text-white"})}),e.jsx("img",{src:o.avatar,alt:"",className:"w-12 h-12 rounded-lg object-cover bg-gray-200 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:o.name}),e.jsx("p",{className:"text-xs text-gray-500",children:o.phone}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:o.email})]}),e.jsx("button",{className:"text-gray-400",children:e.jsx(Ke,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.status==="Active"?"bg-[#DCFCE7] text-[#166534]":"bg-[#FEE2E2] text-[#991B1B]"}`,children:o.status})})]})]},o.id))})]}),e.jsxs("div",{className:"w-full xl:w-[420px] bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Review"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500 text-sm hidden sm:inline",children:"Sort by"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:H,onChange:o=>q(o.target.value),className:"appearance-none bg-[#F1F5F9] text-gray-700 text-sm font-medium py-1.5 pl-3 pr-8 rounded-md focus:outline-none cursor-pointer",style:{WebkitAppearance:"none",MozAppearance:"none",backgroundImage:"none"},children:[e.jsx("option",{children:"Newest"}),e.jsx("option",{children:"Oldest"}),e.jsx("option",{children:"Highest Rating"}),e.jsx("option",{children:"Lowest Rating"}),e.jsx("option",{children:"Most Helpful"})]}),e.jsx(ve,{className:"absolute right-2 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 pointer-events-none"})]}),e.jsx("button",{className:"p-1.5 bg-[#F1F5F9] rounded-md hover:bg-gray-200 transition",children:e.jsx(ys,{className:"w-4 h-4 text-gray-600"})})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-[#E0F2FE]",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4 w-10",children:e.jsx("div",{className:`w-5 h-5 rounded border border-gray-400 cursor-pointer flex items-center justify-center transition-colors ${b.length===C.length&&C.length>0?"bg-[#0095FF] border-[#0095FF]":"bg-transparent"}`,onClick:ge,children:b.length===C.length&&C.length>0&&e.jsx(we,{className:"w-3.5 h-3.5 text-white"})})}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Sl"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Image"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Name"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm",children:"Star"}),e.jsx("th",{className:"py-4 px-2 text-gray-900 font-semibold text-sm text-center",children:"Action"})]})}),e.jsx("tbody",{children:C.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"p-8 text-center text-gray-500",children:"No reviews found"})}):C.map((o,g)=>{const n=Se(o.rating);return e.jsxs("tr",{className:`border-b border-gray-100 last:border-0 hover:bg-gray-50 cursor-pointer transition ${G===o._id?"bg-blue-50":""}`,onClick:()=>j(o._id),children:[e.jsx("td",{className:"p-4",children:e.jsx("div",{className:`w-5 h-5 rounded border border-gray-400 cursor-pointer flex items-center justify-center transition-colors ${b.includes(o._id)?"bg-[#0095FF] border-[#0095FF]":"bg-transparent"}`,onClick:_=>{_.stopPropagation(),Te(o._id)},children:b.includes(o._id)&&e.jsx(we,{className:"w-3.5 h-3.5 text-white"})})}),e.jsx("td",{className:"py-4 px-2 text-sm text-gray-600",children:C.length-g}),e.jsx("td",{className:"py-4 px-2",children:e.jsx("img",{src:fe(o.userName),alt:"",className:"w-9 h-9 rounded-lg object-cover bg-gray-200"})}),e.jsx("td",{className:"py-4 px-2",children:e.jsx("span",{className:"text-sm text-gray-900 font-medium block truncate max-w-[100px]",children:o.userName})}),e.jsx("td",{className:"py-4 px-2",children:e.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full ${n.bg}`,children:[e.jsx("span",{className:`text-xs font-bold ${n.text}`,children:o.rating}),e.jsx(ts,{className:`w-3 h-3 ${n.starFill}`,fill:"currentColor"})]})}),e.jsx("td",{className:"py-4 px-2 text-center",children:e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:e.jsx(Ke,{className:"w-4 h-4"})})})]},o._id)})})]})})]})]}),E&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm",onClick:()=>j(null),children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto animate-in fade-in zoom-in duration-200",onClick:o=>o.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-gray-100 p-5 flex items-center justify-between z-10",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Review Details"}),e.jsx("button",{onClick:()=>j(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(je,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"p-5 border-b border-gray-100",children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-4",children:"Customer Information"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:fe(E.userName),alt:E.userName,className:"w-14 h-14 rounded-full object-cover ring-2 ring-gray-100"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-base font-bold text-gray-900",children:E.userName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 mt-1",children:[e.jsx(Qe,{size:14}),e.jsx("span",{children:E.userEmail})]})]})]})]}),e.jsxs("div",{className:"p-5 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500",children:"Review Analysis"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold capitalize ${oe(E.status)}`,children:E.status})]}),e.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[[...Array(5)].map((o,g)=>e.jsx(ts,{size:20,className:g<E.rating?"text-amber-400 fill-amber-400":"text-gray-200"},g)),e.jsxs("span",{className:"ml-2 text-sm font-medium text-gray-600",children:["(",E.rating,"/5)"]})]}),E.headline&&e.jsx("p",{className:"font-bold text-gray-800 mb-2 text-lg",children:E.headline}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed mb-4",children:E.comment}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-gray-50 rounded",children:[e.jsx($s,{size:12}),e.jsx("span",{className:"font-medium",children:J(E.productId)})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ae,{size:12}),e.jsx("span",{children:ie(E.createdAt)})]})]})]}),E.reply?e.jsxs("div",{className:"p-5 border-b border-gray-100 bg-gray-50/50",children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3",children:"Your Reply"}),e.jsxs("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:E.reply}),E.repliedAt&&e.jsxs("p",{className:"text-xs text-gray-400 mt-3 flex items-center gap-1",children:[e.jsx(we,{size:12}),"Sent on ",ie(E.repliedAt)]})]})]}):e.jsxs("div",{className:"p-5 border-b border-gray-100",children:[e.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-gray-500 mb-3",children:"Write a Reply"}),e.jsx("textarea",{value:$,onChange:o=>I(o.target.value),placeholder:"Write a professional response to the customer...",className:"w-full p-4 bg-gray-50 border border-gray-200 rounded-xl text-sm resize-none focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all placeholder:text-gray-400",rows:4}),e.jsxs("button",{onClick:le,disabled:!$.trim()||U,className:"mt-3 w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-xl text-sm font-bold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm hover:shadow-md",children:[e.jsx(Ws,{size:16}),"Send Reply & Approve Review"]})]}),e.jsxs("div",{className:"p-5 bg-gray-50 rounded-b-2xl flex gap-3",children:[E.status!=="approved"&&e.jsxs("button",{onClick:()=>{ae(E._id,"approved"),j(null)},disabled:U,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-emerald-600 text-white rounded-xl text-sm font-bold hover:bg-emerald-700 disabled:opacity-50 transition-all shadow-sm",children:[e.jsx(we,{size:18}),"Approve"]}),E.status!=="rejected"&&e.jsxs("button",{onClick:()=>{ae(E._id,"rejected"),j(null)},disabled:U,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-rose-600 text-white rounded-xl text-sm font-bold hover:bg-rose-700 disabled:opacity-50 transition-all shadow-sm",children:[e.jsx(Us,{size:18}),"Reject"]})]})]})})]})},$a=Object.freeze(Object.defineProperty({__proto__:null,default:oa},Symbol.toStringTag,{value:"Module"})),da=({title:i,description:c,icon:T,iconBgColor:S,iconRingColor:x,onClick:p,isComingSoon:f=!1})=>e.jsxs("button",{onClick:p,disabled:f,className:`w-full text-left p-4 sm:p-5 bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 flex items-start gap-4 ${f?"opacity-60 cursor-not-allowed":"hover:border-gray-300 active:scale-[0.99]"}`,children:[e.jsx("div",{className:`w-10 sm:w-12 h-10 sm:h-12 rounded-full flex items-center justify-center flex-shrink-0 border-2 sm:border-4 shadow-sm ${S} ${x}`,children:T}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:i}),f&&e.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-[10px] sm:text-xs font-medium rounded-full",children:"Coming Soon"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-0.5 line-clamp-2",children:c})]}),!f&&e.jsx("div",{className:"flex-shrink-0 self-center",children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),ca=({onBack:i,onNavigate:c})=>{const T=[{id:"gtm",title:"Google Tag Manager",description:"Manage all marketing tags, analytics, and tracking scripts in one place.",icon:e.jsx(Os,{size:20,className:"text-white sm:w-6 sm:h-6"}),iconBgColor:"bg-blue-500",iconRingColor:"border-blue-100 ring-1 ring-blue-400",navigateTo:"settings_gtm",isComingSoon:!1},{id:"facebook",title:"Facebook Pixel",description:"Track conversions, optimize ads, and build remarketing audiences with Meta Pixel.",icon:e.jsx(Es,{size:20,className:"text-white sm:w-6 sm:h-6",fill:"white"}),iconBgColor:"bg-blue-600",iconRingColor:"border-blue-100 ring-1 ring-blue-500",navigateTo:"settings_facebook_pixel",isComingSoon:!1},{id:"tiktok",title:"TikTok Pixel",description:"Measure ad performance and optimize campaigns on TikTok.",icon:e.jsx(Me,{size:20,className:"text-white sm:w-6 sm:h-6"}),iconBgColor:"bg-gray-900",iconRingColor:"border-gray-200 ring-1 ring-gray-600",navigateTo:"settings_tiktok_pixel",isComingSoon:!0},{id:"seo",title:"SEO Tools",description:"Optimize your store for search engines with meta tags and structured data.",icon:e.jsx(_e,{size:20,className:"text-white sm:w-6 sm:h-6"}),iconBgColor:"bg-green-500",iconRingColor:"border-green-100 ring-1 ring-green-400",navigateTo:"settings_seo",isComingSoon:!0}];return e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-4 sm:space-y-6 lg:space-y-8 animate-fade-in px-3 sm:px-4 lg:px-2",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:i,className:"p-1.5 sm:p-2 hover:bg-gray-200 rounded-full transition flex-shrink-0",children:e.jsx(Xs,{size:18,className:"text-gray-600 sm:w-5 sm:h-5"})}),e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Marketing Integrations"})]}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:"Connect your marketing tools to track conversions, optimize ad spend, and improve your store's visibility."}),e.jsx("div",{className:"space-y-3 sm:space-y-4",children:T.map(S=>e.jsx(da,{title:S.title,description:S.description,icon:S.icon,iconBgColor:S.iconBgColor,iconRingColor:S.iconRingColor,onClick:()=>!S.isComingSoon&&c(S.navigateTo),isComingSoon:S.isComingSoon},S.id))}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg p-4 sm:p-5 mt-6",children:[e.jsx("h4",{className:"font-semibold text-orange-800 mb-2 text-sm sm:text-base",children:"💡 Pro Tip"}),e.jsx("p",{className:"text-xs sm:text-sm text-orange-700",children:"Use Google Tag Manager to manage all your tracking pixels in one place. Simply add your GTM container ID and configure Facebook, TikTok, and other pixels directly from GTM."})]})]})},Wa=Object.freeze(Object.defineProperty({__proto__:null,default:ca},Symbol.toStringTag,{value:"Module"})),ma=()=>{if(typeof window>"u")return"https://allinbangla.com/api";const i=window.location.hostname;if(i==="localhost"||i==="127.0.0.1"||i.endsWith(".localhost"))return"http://localhost:5001/api";const c=i.split("."),T=c.length>2?c.slice(-2).join("."):i;return`${window.location.protocol}//${T}/api`},Is=ma(),P={container:{backgroundColor:"#f9f9f9",minHeight:"100vh",position:"relative"},mainContent:{display:"flex",flexDirection:"column",maxWidth:"1146px",margin:"0 auto"},headerCard:{backgroundColor:"#ffffff",borderRadius:"8px",overflow:"hidden"},title:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"22px",color:"#023337",letterSpacing:"0.11px",margin:0},tabContainer:{backgroundColor:"rgba(235, 239, 240, 0.36)",borderRadius:"100px",padding:"4px",display:"flex",gap:"8px"},tabActive:{backgroundColor:"#1d2127",borderRadius:"100px",padding:"10px",minWidth:"100px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"none"},tabActiveText:{fontFamily:"'Inter', sans-serif",fontWeight:700,fontSize:"16px",color:"#ffffff",letterSpacing:"0.32px"},tabInactive:{backgroundColor:"transparent",borderRadius:"100px",padding:"10px",minWidth:"100px",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",cursor:"pointer",border:"none"},tabInactiveText:{fontFamily:"'Inter', sans-serif",fontWeight:400,fontSize:"16px",color:"#1d2127",letterSpacing:"0.32px"},tabDiscount:{fontFamily:"'Inter', sans-serif",fontWeight:400,fontSize:"12px",color:"#1d2127",letterSpacing:"0.24px"},planCard:{backgroundColor:"#ffffff",borderRadius:"24px",minHeight:"338px",display:"flex",flexDirection:"column",overflow:"hidden",padding:"30px 19px"},planTitle:{fontFamily:"'Inter', sans-serif",fontWeight:700,fontSize:"24px",color:"#2f2f2f",margin:0},planSubtitle:{fontFamily:"'Questrial', 'Poppins', sans-serif",fontWeight:400,fontSize:"14px",color:"#2f2f2f",margin:"4px 0 0 0"},priceContainer:{display:"flex",alignItems:"center",gap:"18px"},oldPrice:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"24px",color:"#afafaf",textDecoration:"line-through",position:"relative"},currentPrice:{fontFamily:"'Poppins', sans-serif",fontWeight:700,fontSize:"32px",color:"#2f2f2f"},priceMonth:{fontFamily:"'Inter', sans-serif",fontWeight:500,fontSize:"14px",color:"#2f2f2f"},featureColumn:{display:"flex",flexDirection:"column",gap:"12px"},featureItem:{display:"flex",alignItems:"flex-start",gap:"8px"},featureText:{fontFamily:"'Questrial', 'Poppins', sans-serif",fontWeight:400,fontSize:"16px",color:"#454452",marginTop:"4px"},featureSubText:{fontFamily:"'Questrial', 'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#454452"},subscribeButton:{height:"40px",borderRadius:"69px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontFamily:"'Inter', sans-serif",fontWeight:700,fontSize:"14px"},subscribeButtonOutline:{border:"1.5px solid",backgroundColor:"transparent"},subscribeButtonFilled:{border:"none",color:"#ffffff"},adsSection:{background:"linear-gradient(180deg, #ff6a00 0%, #ff9f1c 100%)",borderRadius:"8px",minHeight:"200px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},adsText:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"60px",color:"#ffffff",letterSpacing:"1.2px"},adsDots:{position:"absolute",bottom:"30px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"8px"},dot:{width:"12px",height:"12px",borderRadius:"50%"},dotActive:{backgroundColor:"#1e90ff"},dotInactive:{backgroundColor:"#ffffff",opacity:.5},requestCard:{backgroundColor:"#ffffff",borderRadius:"8px",overflow:"hidden"},requestTitle:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"22px",color:"#000000",margin:0},formLabel:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"16px",color:"#000000"},formInput:{backgroundColor:"#f9f9f9",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"10px 12px",height:"48px",fontFamily:"'Lato', sans-serif",fontSize:"15px",color:"#909090"},checkboxItem:{display:"flex",alignItems:"center",gap:"8px"},checkbox:{width:"26px",height:"26px",border:"2px solid #777",borderRadius:"4px",backgroundColor:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},checkboxLabel:{fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"15px",color:"#777"},requestButton:{backgroundColor:"#00cdba",borderRadius:"4px",height:"40px",width:"120px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",cursor:"pointer",fontFamily:"'PingFang SC', sans-serif",fontWeight:500,fontSize:"16px",color:"#ffffff"}},xa=[{id:"startup",name:"Startup",subtitle:"Hands-free hosting & updates.",oldPrice:500,price:300,buttonColor:"#008c09",buttonStyle:"outline",features:[["Free Sub-Domain & Hosting","User Friendly Dashboard","Unlimited Product Upload","Live Chat Support","Next.js Performance","Initial Load Time 0.2 sec"],["SSL & Security","Mobile First Approach","Customizable Theme"]]},{id:"enterprise",name:"Enterprise",subtitle:"Hands-free hosting & updates.",oldPrice:1e3,price:600,buttonColor:"#1e90ff",buttonStyle:"outline",features:[["Free Sub-Domain & Hosting","User Friendly Dashboard","Unlimited Product Upload","Live Chat Support","Next.js Performance","Initial Load Time 0.2 sec"],["SSL & Security","Mobile First Approach","Customizable Theme","Business Report"]]},{id:"advanced",name:"Advanced",subtitle:"Hands-free hosting & updates.",oldPrice:1500,price:900,buttonColor:"#f17800",buttonStyle:"outline",features:[["Free Sub-Domain & Hosting","User Friendly Dashboard","Unlimited Product Upload","Live Chat Support","Next.js Performance","Initial Load Time 0.2 sec"],["SSL & Security","Mobile First Approach","Customizable Theme","Business Report","Theme Customization Request"]]},{id:"premium",name:"Premium",subtitle:"Hands-free hosting & updates.",oldPrice:2e3,price:1200,buttonColor:"#3855f8",buttonStyle:"filled",features:[["Free Sub-Domain & Hosting","User Friendly Dashboard","Unlimited Product Upload","Live Chat Support","Next.js Performance","Initial Load Time 0.2 sec"],["SSL & Security","Mobile First Approach","Customizable Theme","Business Report","Full Frontend Customization"]]}],pa=({tenant:i,onUpgrade:c})=>{const[T,S]=t.useState("monthly"),[x,p]=t.useState({android:!1,ios:!1}),[f,F]=t.useState("Low"),[N,b]=t.useState(""),[h,l]=t.useState(""),[y,H]=t.useState(!1),[q,u]=t.useState(!1),[A,B]=t.useState([]),[z,K]=t.useState(0),R=(()=>{const j=i?.subscriptionEndsAt||i?.trialEndsAt;if(!j){if(i?.createdAt){const E=new Date(i.createdAt),ae=new Date(E);ae.setDate(ae.getDate()+30);const le=new Date,oe=ae.getTime()-le.getTime(),ie=Math.ceil(oe/(1e3*60*60*24));return{days:Math.max(0,ie),isExpiringSoon:ie<=7&&ie>0,isExpired:ie<=0}}return null}const $=new Date(j),I=new Date,U=$.getTime()-I.getTime(),Z=Math.ceil(U/(1e3*60*60*24));return{days:Math.max(0,Z),isExpiringSoon:Z<=7&&Z>0,isExpired:Z<=0}})();t.useEffect(()=>{(async()=>{try{const I=await(await fetch(`${Is}/tenant-data/global/billing_ads`)).json();I.data&&Array.isArray(I.data)&&B(I.data.filter(U=>U.active!==!1))}catch($){console.error("Error fetching ads:",$)}})()},[]),t.useEffect(()=>{if(A.length<=1)return;const j=setInterval(()=>{K($=>($+1)%A.length)},5e3);return()=>clearInterval(j)},[A.length]);const k=async()=>{if(!N.trim()){Ce.error("Please enter an app title");return}if(!h.trim()){Ce.error("Please enter a description");return}if(!x.android&&!x.ios){Ce.error("Please select at least one platform");return}if(!f){Ce.error("Please select a priority");return}if(!i?.id){Ce.error("Tenant information not available");return}H(!0);try{const j=pe(),$=await fetch(`${Is}/tenants/${i.id}/app-requests`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:j.Authorization||""},body:JSON.stringify({appTitle:N.trim(),description:h.trim(),platforms:x,priority:f})}),I=await $.json();if(!$.ok)throw new Error(I.error||"Failed to submit request");Ce.success("App request submitted successfully!"),b(""),l(""),p({android:!1,ios:!1}),F("Low")}catch(j){console.error("Error submitting app request:",j),Ce.error(j instanceof Error?j.message:"Failed to submit request")}finally{H(!1)}},Q=j=>T==="yearly"?Math.round(j*12*.8):j,W=j=>T==="yearly"?j*12:j,G=({color:j="#008c09"})=>e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:j,strokeWidth:"2"}),e.jsx("path",{d:"M8 12l3 3 5-5",stroke:j,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});return e.jsxs("div",{style:P.container,className:"p-3 sm:p-4 md:p-5",children:[e.jsxs("div",{style:P.mainContent,className:"flex flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{style:P.headerCard,className:"p-3 sm:p-5",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4",children:[e.jsx("h1",{style:P.title,children:"Billing & Subscription"}),R&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",borderRadius:"8px",backgroundColor:R.isExpired?"#FEE2E2":R.isExpiringSoon?"#FEF3C7":"#DCFCE7",border:`1px solid ${R.isExpired?"#FECACA":R.isExpiringSoon?"#FDE68A":"#BBF7D0"}`},children:[e.jsx(Ae,{size:18,style:{color:R.isExpired?"#DC2626":R.isExpiringSoon?"#D97706":"#16A34A"}}),e.jsx("span",{style:{fontFamily:"'Inter', sans-serif",fontWeight:600,fontSize:"14px",color:R.isExpired?"#DC2626":R.isExpiringSoon?"#D97706":"#16A34A"},children:R.isExpired?"Subscription Expired":`${R.days} Day${R.days!==1?"s":""} Left`})]})]}),e.jsxs("div",{style:P.tabContainer,children:[e.jsx("button",{style:T==="monthly"?P.tabActive:P.tabInactive,onClick:()=>S("monthly"),children:e.jsx("span",{style:T==="monthly"?P.tabActiveText:P.tabInactiveText,children:"Monthly"})}),e.jsxs("button",{style:T==="yearly"?P.tabActive:P.tabInactive,onClick:()=>S("yearly"),children:[e.jsx("span",{style:T==="yearly"?P.tabActiveText:P.tabInactiveText,children:"Yearly"}),T!=="yearly"&&e.jsx("span",{style:P.tabDiscount,children:"-20% off"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mt-4 sm:mt-6",children:xa.map(j=>e.jsxs("div",{style:P.planCard,className:"p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{style:P.planTitle,children:j.name}),e.jsx("p",{style:P.planSubtitle,children:j.subtitle})]}),e.jsxs("div",{style:P.priceContainer,children:[e.jsxs("span",{style:P.oldPrice,children:["৳",W(j.oldPrice)]}),e.jsxs("span",{children:[e.jsxs("span",{style:P.currentPrice,children:["৳",Q(j.price)]}),e.jsxs("span",{style:P.priceMonth,children:["/",T==="yearly"?"Year":"Month"]})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5 mt-4 sm:mt-6",children:j.features.map(($,I)=>e.jsx("div",{style:P.featureColumn,children:$.map((U,Z)=>e.jsxs("div",{style:P.featureItem,children:[e.jsx(G,{color:j.buttonColor}),e.jsx("div",{children:e.jsx("span",{style:P.featureText,children:U==="Initial Load Time 0.2 sec"?e.jsxs(e.Fragment,{children:["Initial Load Time 0.2 sec",e.jsx("br",{}),e.jsx("span",{style:P.featureSubText,children:"(no reload time)"})]}):U})})]},Z))},I))}),e.jsx("div",{className:"mt-auto flex justify-center sm:justify-end pt-4 sm:pt-6",children:e.jsx("button",{style:{...P.subscribeButton,...j.buttonStyle==="outline"?{...P.subscribeButtonOutline,borderColor:j.buttonColor,color:j.buttonColor}:{...P.subscribeButtonFilled,backgroundColor:j.buttonColor}},className:"w-full sm:w-[233px]",onClick:()=>u(!0),children:"SUBSCRIBE NOW"})})]},j.id))})]}),e.jsx("div",{style:P.adsSection,children:A.length>0?e.jsxs(e.Fragment,{children:[A[z]?.linkUrl?e.jsx("a",{href:A[z].linkUrl,target:"_blank",rel:"noopener noreferrer",style:{width:"100%",height:"100%",display:"block"},children:e.jsx("img",{src:A[z].imageUrl,alt:A[z].title||"Advertisement",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}})}):e.jsx("img",{src:A[z].imageUrl,alt:A[z].title||"Advertisement",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}}),A.length>1&&e.jsx("div",{style:P.adsDots,children:A.map((j,$)=>e.jsx("div",{onClick:()=>K($),style:{...P.dot,...$===z?P.dotActive:P.dotInactive,cursor:"pointer"}},$))})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{style:P.adsText,children:"Ads Section"}),e.jsxs("div",{style:P.adsDots,children:[e.jsx("div",{style:{...P.dot,...P.dotActive}}),e.jsx("div",{style:{...P.dot,...P.dotInactive}}),e.jsx("div",{style:{...P.dot,...P.dotInactive}}),e.jsx("div",{style:{...P.dot,...P.dotInactive}}),e.jsx("div",{style:{...P.dot,...P.dotInactive}})]})]})}),e.jsxs("div",{style:P.requestCard,className:"p-3 sm:p-5",children:[e.jsx("h2",{style:P.requestTitle,children:"Request a New App"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 sm:mt-6",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3 w-full sm:w-[364px] sm:flex-shrink-0",children:[e.jsx("label",{style:P.formLabel,children:"App Title:"}),e.jsx("input",{type:"text",placeholder:"Ex E-commerce Delivery App",value:N,onChange:j=>b(j.target.value),style:P.formInput})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3 flex-1",children:[e.jsx("label",{style:P.formLabel,children:"Brief Description:"}),e.jsx("input",{type:"text",placeholder:"Ex E-commerce Delivery App",value:h,onChange:j=>l(j.target.value),style:P.formInput})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row flex-wrap gap-4 sm:gap-6 mt-4 sm:mt-6 items-start lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[e.jsx("span",{style:P.formLabel,children:"Platform:"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[e.jsxs("div",{style:P.checkboxItem,onClick:()=>p({...x,android:!x.android}),children:[e.jsx("div",{style:{...P.checkbox,backgroundColor:x.android?"#00cdba":"transparent",borderColor:x.android?"#00cdba":"#777"},children:x.android&&e.jsx($e,{size:16,color:"#fff"})}),e.jsx("span",{style:P.checkboxLabel,children:"Android"})]}),e.jsxs("div",{style:P.checkboxItem,onClick:()=>p({...x,ios:!x.ios}),children:[e.jsx("div",{style:{...P.checkbox,backgroundColor:x.ios?"#00cdba":"transparent",borderColor:x.ios?"#00cdba":"#777"},children:x.ios&&e.jsx($e,{size:16,color:"#fff"})}),e.jsx("span",{style:P.checkboxLabel,children:"iOS"})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 sm:gap-3",children:[e.jsx("span",{style:P.formLabel,children:"Priority:"}),e.jsx("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:["Low","Standard","High (ASAP)"].map(j=>e.jsxs("div",{style:P.checkboxItem,onClick:()=>F(j),children:[e.jsx("div",{style:{...P.checkbox,backgroundColor:f===j?"#00cdba":"transparent",borderColor:f===j?"#00cdba":"#777"},children:f===j&&e.jsx($e,{size:16,color:"#fff"})}),e.jsx("span",{style:P.checkboxLabel,children:j})]},j))})]}),e.jsxs("button",{style:{...P.requestButton,opacity:y?.7:1,cursor:y?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},onClick:k,disabled:y,children:[y&&e.jsx(ue,{size:18,className:"animate-spin"}),y?"Submitting...":"Request App"]})]})]})]}),q&&e.jsx(qt,{isOpen:q,onClose:()=>u(!1)})]})},Ua=Object.freeze(Object.defineProperty({__proto__:null,default:pa},Symbol.toStringTag,{value:"Module"})),ua=[{id:"1",title:"Getting Started with Your Dashboard",description:"Learn the basics of navigating your admin dashboard and understanding key features.",youtubeUrl:"",duration:"5:30",category:"getting-started",order:1},{id:"2",title:"Adding Your First Product",description:"Step-by-step guide to adding products, setting prices, and managing inventory.",youtubeUrl:"",duration:"8:45",category:"products",order:2},{id:"3",title:"Managing Orders & Shipping",description:"Learn how to process orders, update status, and configure shipping options.",youtubeUrl:"",duration:"7:20",category:"orders",order:3},{id:"4",title:"Customizing Your Store Design",description:"Personalize your store with themes, colors, and branding elements.",youtubeUrl:"",duration:"10:15",category:"customization",order:4},{id:"5",title:"Understanding Analytics & Reports",description:"Track your sales, customer behavior, and business performance.",youtubeUrl:"",duration:"6:50",category:"analytics",order:5},{id:"6",title:"Managing Customers & Reviews",description:"Handle customer accounts, respond to reviews, and build relationships.",youtubeUrl:"",duration:"5:40",category:"customers",order:6}],He={"getting-started":{label:"Getting Started",icon:e.jsx(Tt,{size:18}),color:"from-emerald-500 to-teal-500"},products:{label:"Products",icon:e.jsx(ms,{size:18}),color:"from-blue-500 to-cyan-500"},orders:{label:"Orders",icon:e.jsx(Pt,{size:18}),color:"from-violet-500 to-purple-500"},customization:{label:"Customization",icon:e.jsx(Ge,{size:18}),color:"from-pink-500 to-rose-500"},analytics:{label:"Analytics",icon:e.jsx(os,{size:18}),color:"from-amber-500 to-orange-500"},customers:{label:"Customers",icon:e.jsx(Pe,{size:18}),color:"from-indigo-500 to-blue-500"},settings:{label:"Settings",icon:e.jsx(Ue,{size:18}),color:"from-gray-500 to-slate-500"}},ha=({tutorials:i=ua})=>{const[c,T]=t.useState(""),[S,x]=t.useState(null),[p,f]=t.useState(null),F=[...new Set(i.map(l=>l.category))],N=i.filter(l=>{const y=!c||l.title.toLowerCase().includes(c.toLowerCase())||l.description.toLowerCase().includes(c.toLowerCase()),H=!S||l.category===S;return y&&H}).sort((l,y)=>l.order-y.order),b=l=>{if(!l)return"";const y=l.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s]+)/)?.[1];return y?`https://www.youtube.com/embed/${y}`:""},h=l=>{if(!l)return"";const y=l.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\s]+)/)?.[1];return y?`https://img.youtube.com/vi/${y}/maxresdefault.jpg`:""};return e.jsxs("div",{className:"space-y-6 sm:space-y-8 animate-fade-in p-4 sm:p-6 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 flex items-center gap-2 sm:gap-3",children:[e.jsxs("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-violet-500 to-purple-600 flex items-center justify-center text-white",children:[e.jsx(js,{size:16,className:"sm:hidden"}),e.jsx(js,{size:20,className:"hidden sm:block"})]}),"Tutorials"]}),e.jsx("p",{className:"text-gray-500 mt-1 sm:mt-2 text-sm sm:text-base",children:"Learn how to make the most of your dashboard with video tutorials"})]})}),e.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_e,{className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search tutorials...",value:c,onChange:l=>T(l.target.value),className:"w-full pl-10 sm:pl-12 pr-4 py-2.5 sm:py-3 rounded-lg sm:rounded-xl border border-gray-200 bg-white text-gray-900 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-violet-500/30 focus:border-violet-500 transition-all text-sm sm:text-base"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap overflow-x-auto pb-2 scrollbar-hide",children:[e.jsx("button",{onClick:()=>x(null),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium transition-all whitespace-nowrap flex-shrink-0 ${S?"bg-gray-100 text-gray-600 hover:bg-gray-200":"bg-violet-500 text-white shadow-md"}`,children:"All"}),F.map(l=>{const y=He[l]||{label:l,icon:e.jsx(Me,{size:18})};return e.jsxs("button",{onClick:()=>x(l),className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium transition-all flex items-center gap-1.5 sm:gap-2 whitespace-nowrap flex-shrink-0 ${S===l?"bg-violet-500 text-white shadow-md":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[y.icon,e.jsx("span",{className:"hidden xs:inline",children:y.label})]},l)})]})]}),p&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/70 backdrop-blur-sm p-0 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-4xl overflow-hidden shadow-2xl max-h-[90vh] flex flex-col",children:[e.jsx("div",{className:"relative aspect-video bg-black flex-shrink-0",children:p.youtubeUrl?e.jsx("iframe",{src:b(p.youtubeUrl),title:p.title,className:"w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-gradient-to-br from-gray-800 to-gray-900 text-white p-4",children:[e.jsxs("div",{className:"w-14 h-14 sm:w-20 sm:h-20 rounded-full bg-white/10 flex items-center justify-center mb-3 sm:mb-4",children:[e.jsx(Me,{size:28,className:"text-white/60 sm:hidden"}),e.jsx(Me,{size:40,className:"text-white/60 hidden sm:block"})]}),e.jsx("p",{className:"text-base sm:text-lg font-medium text-center",children:"Video Coming Soon"}),e.jsx("p",{className:"text-xs sm:text-sm text-white/60 mt-1 text-center",children:"This tutorial will be available shortly"})]})}),e.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:p.title}),e.jsx("p",{className:"text-gray-500 mt-1 sm:mt-2 text-sm sm:text-base",children:p.description}),e.jsxs("div",{className:"flex flex-col xs:flex-row items-start xs:items-center justify-between gap-3 mt-3 sm:mt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-wrap",children:[e.jsxs("span",{className:"flex items-center gap-1.5 text-xs sm:text-sm text-gray-500",children:[e.jsx(Ae,{size:14,className:"sm:hidden"}),e.jsx(Ae,{size:16,className:"hidden sm:block"}),p.duration]}),e.jsx("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-medium bg-gradient-to-r ${He[p.category]?.color||"from-gray-500 to-gray-600"} text-white`,children:He[p.category]?.label||p.category})]}),e.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg sm:rounded-xl font-medium hover:bg-gray-200 transition-all text-sm w-full xs:w-auto",children:"Close"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:N.map(l=>{const y=He[l.category]||{label:l.category,icon:e.jsx(Me,{size:18}),color:"from-gray-500 to-gray-600"},H=l.thumbnailUrl||h(l.youtubeUrl);return e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-100 shadow-sm overflow-hidden hover:shadow-xl transition-all duration-300 group cursor-pointer active:scale-[0.98]",onClick:()=>f(l),children:[e.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden",children:[H?e.jsx("img",{src:H,alt:l.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-violet-500/10 to-purple-500/10",children:e.jsx("div",{className:`w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br ${y.color} flex items-center justify-center text-white shadow-lg`,children:y.icon})}),e.jsx("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsxs("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-white/95 flex items-center justify-center shadow-xl transform scale-90 group-hover:scale-100 transition-transform",children:[e.jsx(vs,{size:24,className:"text-violet-600 ml-1 sm:hidden",fill:"currentColor"}),e.jsx(vs,{size:28,className:"text-violet-600 ml-1 hidden sm:block",fill:"currentColor"})]})}),e.jsxs("div",{className:"absolute bottom-2 sm:bottom-3 right-2 sm:right-3 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-black/80 text-white text-[10px] sm:text-xs font-medium rounded-md flex items-center gap-1",children:[e.jsx(Ae,{size:10,className:"sm:hidden"}),e.jsx(Ae,{size:12,className:"hidden sm:block"}),l.duration]}),e.jsx("div",{className:`absolute to p-2 sm:to p-3 left-2 sm:left-3 px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-medium bg-gradient-to-r ${y.color} text-white shadow-md`,children:y.label})]}),e.jsxs("div",{className:"p-3 sm:p-5",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm sm:text-lg mb-1 sm:mb-2 group-hover:text-violet-600 transition-colors line-clamp-2",children:l.title}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-2",children:l.description}),e.jsxs("div",{className:"flex items-center justify-between mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm text-gray-500",children:[e.jsx(Ns,{size:14,className:"text-amber-500 sm:hidden"}),e.jsx(Ns,{size:16,className:"text-amber-500 hidden sm:block"}),"Quick tip"]}),e.jsxs("span",{className:"flex items-center gap-1 text-xs sm:text-sm font-medium text-violet-600 group-hover:gap-2 transition-all",children:["Watch now",e.jsx(Ie,{size:14,className:"sm:hidden"}),e.jsx(Ie,{size:16,className:"hidden sm:block"})]})]})]})]},l.id)})}),N.length===0&&e.jsxs("div",{className:"text-center py-12 sm:py-16",children:[e.jsxs("div",{className:"w-16 h-16 sm:w-20 sm:h-20 mx-auto mb-4 sm:mb-6 rounded-full bg-gray-100 flex items-center justify-center",children:[e.jsx(Me,{size:32,className:"text-gray-400 sm:hidden"}),e.jsx(Me,{size:40,className:"text-gray-400 hidden sm:block"})]}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"No tutorials found"}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:c?"Try adjusting your search or filters":"Tutorials will appear here once added"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-violet-500 to-purple-600 rounded-xl sm:rounded-2xl p-4 sm:p-8 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute to p-0 right-0 w-48 sm:w-64 h-48 sm:h-64 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 sm:w-48 h-32 sm:h-48 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/2"}),e.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row items-center justify-between gap-4 sm:gap-6",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-1 sm:mb-2",children:"Need more help?"}),e.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:"Can't find what you're looking for? Our support team is here to help you 24/7."})]}),e.jsxs("a",{href:"https://wa.me/8801410050031",className:"px-4 sm:px-6 py-2.5 sm:py-3 bg-white text-violet-600 rounded-lg sm:rounded-xl font-semibold hover:bg-gray-50 transition-all flex items-center gap-2 whitespace-nowrap text-sm sm:text-base w-full sm:w-auto justify-center",children:["Contact Support",e.jsx(Je,{size:16,className:"sm:hidden"}),e.jsx(Je,{size:18,className:"hidden sm:block"})]})]})]})]})},Xa=Object.freeze(Object.defineProperty({__proto__:null,default:ha},Symbol.toStringTag,{value:"Module"})),ze=()=>{if(typeof window<"u"){const i=window.location.hostname;if(i!=="localhost"&&i!=="127.0.0.1")return window.location.origin}return import.meta?.env?.VITE_API_BASE_URL||"http://localhost:5001"},ga=({tenantId:i})=>{const[c,T]=t.useState("Customer"),[S,x]=t.useState([]),[p,f]=t.useState(""),[F,N]=t.useState(!1),[b,h]=t.useState([]),[l,y]=t.useState(""),[H]=t.useState("+88"),[q,u]=t.useState(""),[A,B]=t.useState(""),[z,K]=t.useState({smsBalance:0,minuteBalance:0}),[V,R]=t.useState(!0),[k,Q]=t.useState(!1),[W,G]=t.useState([]),[j,$]=t.useState(!1),[I,U]=t.useState(!1),[Z,E]=t.useState({Customer:0,Supplier:0,Employee:0}),[ae,le]=t.useState(!1),[oe,ie]=t.useState(!1),[ee,re]=t.useState({provider:"greenweb",apiKey:"",apiToken:"",apiUrl:"",userId:"",senderId:"",voiceSupported:!1,isActive:!1});t.useEffect(()=>{i&&rs.setTenantId(i)},[i]);const w=t.useCallback(async()=>{try{const a=await fetch(`${ze()}/api/sms/config`,{headers:{"X-Tenant-Id":i,...pe()}});if(a.ok){const m=await a.json();re(m)}}catch(a){console.error("Error fetching SMS config:",a)}},[i]),J=async()=>{ie(!0);try{const a=await fetch(`${ze()}/api/sms/config`,{method:"POST",headers:{"Content-Type":"application/json","X-Tenant-Id":i,...pe()},body:JSON.stringify(ee)});if(a.ok)v.success("SMS configuration saved successfully"),le(!1),Y();else{const m=await a.json();v.error(m.error||"Failed to save configuration")}}catch{v.error("Failed to save SMS configuration")}finally{ie(!1)}},C=t.useCallback(async()=>{N(!0);try{const a=await rs.getEntities();E({Customer:a.filter(O=>O.type==="Customer").length,Supplier:a.filter(O=>O.type==="Supplier").length,Employee:a.filter(O=>O.type==="Employee").length});const m=await rs.getEntities(c,p||void 0);x(m)}catch{v.error("Failed to fetch contacts")}finally{N(!1)}},[c,p]),Y=t.useCallback(async()=>{R(!0);try{const a=await fetch(`${ze()}/api/sms/balance`,{headers:{"X-Tenant-Id":i,...pe()}});a.ok&&K(await a.json())}catch(a){console.error("Error fetching SMS balance:",a)}finally{R(!1)}},[i]),te=t.useCallback(async()=>{$(!0);try{const a=await fetch(`${ze()}/api/sms/history`,{headers:{"X-Tenant-Id":i,...pe()}});a.ok&&G(await a.json())}catch(a){console.error("Error fetching SMS history:",a)}finally{$(!1)}},[i]);t.useEffect(()=>{(async()=>{try{const m=await fetch(`${ze()}/api/tenants/${i}/config`,{headers:{"X-Tenant-Id":i,...pe()}});if(m.ok){const O=await m.json();B(`
- ${O.websiteName||"Shop"}${O.phones?.[0]?`(${O.phones[0]})`:""}`)}}catch{B(`
- Shop`)}})()},[i]),t.useEffect(()=>{C(),Y(),w()},[C,Y,w]),t.useEffect(()=>{const a=setTimeout(C,300);return()=>clearTimeout(a)},[p,c]);const ge=a=>{if(!a)return"";const m=a.replace(/\D/g,"");return m.startsWith("88")?m.substring(2):m},Te=a=>{const m=ge(a);return m.startsWith("0")?`+88 ${m}`:`+88 0${m}`},fe=a=>{if(b.some(m=>m.id===a._id)){v.error("Contact already added");return}h(m=>[...m,{id:a._id||"",name:a.name,phone:a.phone,type:a.type}]),v.success(`Added ${a.name}`)},Se=a=>h(m=>m.filter(O=>O.id!==a)),o=()=>{const a=S.filter(m=>!b.some(O=>O.id===m._id)).map(m=>({id:m._id||"",name:m.name,phone:m.phone,type:m.type}));if(a.length===0){v.error("All contacts already selected");return}h(m=>[...m,...a]),v.success(`Added ${a.length} contacts`)},g=()=>{if(!l){v.error("Please enter a phone number");return}const a=ge(l);if(a.length<10||a.length>11){v.error("Invalid phone number");return}const m=a.startsWith("0")?a:`0${a}`;if(b.some(O=>ge(O.phone)===a)){v.error("Phone number already added");return}h(O=>[...O,{id:`manual-${Date.now()}`,name:"Manual Entry",phone:m,type:"Customer"}]),y(""),v.success("Phone number added")},n=q.length+A.length,_=Math.ceil(n/160)||0,D=async()=>{if(b.length===0){v.error("Please select at least one recipient");return}if(!q.trim()){v.error("Please write a message");return}if(z.smsBalance<b.length*_){v.error("Insufficient SMS balance");return}U(!0);try{const a=await fetch(`${ze()}/api/sms/send`,{method:"POST",headers:{"Content-Type":"application/json","X-Tenant-Id":i,...pe()},body:JSON.stringify({recipients:b.map(O=>({phone:ge(O.phone),name:O.name})),message:q+A,type:"sms"})}),m=await a.json();a.ok?(v.success(`SMS sent to ${m.sentCount} recipients`),h([]),u(""),Y(),k&&te()):v.error(m.error||"Failed to send SMS")}catch{v.error("Failed to send SMS")}finally{U(!1)}},de=async()=>{if(b.length===0){v.error("Please select at least one recipient");return}if(!q.trim()){v.error("Please write a message");return}if(z.minuteBalance<b.length){v.error("Insufficient minute balance");return}U(!0);try{const a=await fetch(`${ze()}/api/sms/send-voice`,{method:"POST",headers:{"Content-Type":"application/json","X-Tenant-Id":i,...pe()},body:JSON.stringify({recipients:b.map(O=>({phone:ge(O.phone),name:O.name})),message:q+A,type:"voice"})}),m=await a.json();a.ok?(v.success(`Voice message sent to ${m.sentCount} recipients`),h([]),u(""),Y(),k&&te()):v.error(m.error||"Failed to send voice message")}catch{v.error("Failed to send voice message")}finally{U(!1)}},Ne=()=>e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ue,{size:20,className:"text-blue-600"}),"Bulk SMS API Configuration"]}),e.jsx("button",{onClick:()=>le(!1),className:"p-2 hover:bg-gray-100 rounded-full transition",children:e.jsx(je,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(Ye,{size:16,className:"text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-700",children:"Configure your bulk SMS API credentials to send SMS and voice messages. Settings are saved per tenant."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMS Provider"}),e.jsxs("select",{value:ee.provider,onChange:a=>re(m=>({...m,provider:a.target.value})),className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[e.jsx("option",{value:"greenweb",children:"GreenWeb SMS"}),e.jsx("option",{value:"ssl_wireless",children:"SSL Wireless"}),e.jsx("option",{value:"bulksmsbd",children:"BulkSMSBD"}),e.jsx("option",{value:"custom",children:"Custom API"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:ee.apiKey,onChange:a=>re(m=>({...m,apiKey:a.target.value})),placeholder:"Enter API Key",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Token"}),e.jsx("input",{type:"password",value:ee.apiToken,onChange:a=>re(m=>({...m,apiToken:a.target.value})),placeholder:"Enter API Token",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),ee.provider==="custom"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Custom API URL"}),e.jsx("input",{type:"text",value:ee.apiUrl,onChange:a=>re(m=>({...m,apiUrl:a.target.value})),placeholder:"https://api.example.com/sms/send",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID (optional)"}),e.jsx("input",{type:"text",value:ee.userId,onChange:a=>re(m=>({...m,userId:a.target.value})),placeholder:"Enter User ID",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sender ID"}),e.jsx("input",{type:"text",value:ee.senderId,onChange:a=>re(m=>({...m,senderId:a.target.value})),placeholder:"e.g., 8809617624588",className:"w-full px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ee.voiceSupported,onChange:a=>re(m=>({...m,voiceSupported:a.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Voice messages supported"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:ee.isActive,onChange:a=>re(m=>({...m,isActive:a.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Enable SMS"})]})]})]}),e.jsxs("div",{className:"p-4 border-t flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>le(!1),className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition text-sm font-medium",children:"Cancel"}),e.jsxs("button",{onClick:J,disabled:oe,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-sm font-medium disabled:opacity-50",children:[oe?e.jsx(ue,{size:16,className:"animate-spin"}):e.jsx(us,{size:16}),"Save Configuration"]})]})]})}),r=()=>e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ws,{size:20,className:"text-blue-600"}),"SMS History"]}),e.jsx("button",{onClick:()=>Q(!1),className:"p-2 hover:bg-gray-100 rounded-full transition",children:e.jsx(je,{size:20,className:"text-gray-500"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ue,{size:32,className:"animate-spin text-blue-600"})}):W.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ve,{size:48,className:"mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No SMS history yet"})]}):e.jsx("div",{className:"space-y-3",children:W.map(a=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a.type==="voice"?e.jsx(Cs,{size:16,className:"text-purple-600"}):e.jsx(Ve,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:a.type==="voice"?"Voice Message":"SMS"}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${a.status==="sent"?"bg-green-100 text-green-700":a.status==="failed"?"bg-red-100 text-red-700":a.status==="partial"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:a.status==="sent"?"Sent":a.status==="failed"?"Failed":a.status==="partial"?"Partial":"Pending"})]}),e.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[e.jsx(Ae,{size:12}),new Date(a.createdAt).toLocaleString()]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:a.message}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pe,{size:12}),a.recipients.length," recipients"]}),e.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(we,{size:12}),a.sentCount," sent"]}),a.failedCount>0&&e.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[e.jsx(Us,{size:12}),a.failedCount," failed"]})]})]},a._id))})})]})});return e.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] p-3 sm:p-4 md:p-6",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Marketing"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Send SMS and voice messages to your contacts"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>{le(!0),w()},className:"flex items-center justify-center gap-2 px-4 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition text-sm font-medium",children:[e.jsx(Ue,{size:18}),"SMS Settings"]}),e.jsxs("button",{onClick:()=>{Q(!0),te()},className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition text-sm font-medium",children:[e.jsx(ws,{size:18}),"SMS History"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-3 sm:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"flex border-b border-gray-200",children:["Customer","Supplier","Employee"].map(a=>e.jsx("button",{onClick:()=>T(a),className:`flex-1 px-3 py-3 text-sm font-medium transition relative ${c===a?"text-gray-900 border-b-2 border-orange-500":"text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[a==="Customer"&&e.jsx(Pe,{size:16}),a==="Supplier"&&e.jsx(Ft,{size:16}),a==="Employee"&&e.jsx(At,{size:16}),e.jsx("span",{children:a}),e.jsxs("sup",{className:"text-xs text-gray-400",children:["(",Z[a],")"]})]})},a))}),e.jsx("div",{className:"p-3 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search by name or phone number",value:p,onChange:a=>f(a.target.value),className:"w-full pl-9 pr-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),e.jsx("button",{onClick:o,className:"px-3 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition text-sm font-medium whitespace-nowrap",children:"Select All"}),e.jsx("button",{onClick:C,className:"p-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition",title:"Refresh",children:e.jsx(We,{size:18,className:`text-gray-600 ${F?"animate-spin":""}`})})]})}),e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:F?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ue,{size:24,className:"animate-spin text-blue-600"})}):S.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pe,{size:40,className:"mx-auto text-gray-300 mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No contacts found"})]}):S.map(a=>e.jsxs("div",{className:`flex items-center justify-between p-3 border-b border-gray-50 hover:bg-gray-50 transition ${b.some(m=>m.id===a._id)?"bg-orange-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-medium text-sm ${a.type==="Customer"?"bg-blue-100 text-blue-700":a.type==="Supplier"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:a.name}),e.jsx("p",{className:"text-xs text-gray-500",children:Te(a.phone)})]})]}),e.jsx("button",{onClick:()=>fe(a),disabled:b.some(m=>m.id===a._id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition ${b.some(m=>m.id===a._id)?"bg-green-100 text-green-700 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"}`,children:b.some(m=>m.id===a._id)?e.jsx($e,{size:16}):"Add"})]},a._id))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-blue-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"MINUTE BALANCE"}),V?e.jsx(ue,{size:16,className:"animate-spin text-blue-600"}):e.jsx("span",{className:"text-lg font-bold text-blue-600",children:z.minuteBalance})]}),e.jsxs("a",{href:"#",onClick:a=>{a.preventDefault(),v("Contact admin to buy minutes")},className:"flex items-center gap-1 text-orange-500 hover:text-orange-600 text-sm font-medium mt-2",children:["Buy Minutes ",e.jsx(Ie,{size:14})]})]}),e.jsxs("div",{className:"flex-1 bg-white rounded-xl border border-green-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-600 flex items-center gap-1",children:[e.jsx(Ve,{size:14})," SMS BALANCE"]}),V?e.jsx(ue,{size:16,className:"animate-spin text-green-600"}):e.jsx("span",{className:"text-lg font-bold text-green-600",children:z.smsBalance})]}),e.jsxs("a",{href:"#",onClick:a=>{a.preventDefault(),v("Contact admin to buy SMS")},className:"flex items-center gap-1 text-blue-600 hover:text-blue-700 text-sm font-medium mt-2 bg-blue-50 px-3 py-1 rounded-lg w-fit",children:["Buy SMS ",e.jsx(Ie,{size:14})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Phone Number",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm",children:[e.jsx("span",{className:"text-lg",children:"🇧🇩"}),e.jsx("span",{className:"text-gray-700",children:H})]}),e.jsx("input",{type:"text",value:l,onChange:a=>y(a.target.value.replace(/\D/g,"")),placeholder:"XXXXXXXXXX",className:"flex-1 px-4 py-2.5 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",maxLength:11}),e.jsx("button",{onClick:g,className:"px-4 py-2.5 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition",children:e.jsx(Hs,{size:18})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["SMS Sending to (",b.length,")"]}),b.length===0?e.jsx("div",{className:"flex items-center justify-center py-4 sm:py-6 border-2 border-dashed border-gray-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-400",children:"Select contacts from the list"})}):e.jsx("div",{className:"flex flex-wrap gap-2 max-h-[100px] overflow-y-auto",children:b.map(a=>e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1.5 bg-blue-50 text-blue-700 rounded-full text-sm",children:[e.jsx("span",{children:a.name}),e.jsx("button",{onClick:()=>Se(a.id),className:"p-0.5 hover:bg-blue-100 rounded-full",children:e.jsx(je,{size:14})})]},a.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Write your message"}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:q,onChange:a=>u(a.target.value),placeholder:"Write your message here",rows:5,className:"w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm resize-none"}),e.jsx("p",{className:"absolute bottom-3 right-3 text-xs text-gray-400",children:A.trim()})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("p",{className:"text-xs text-gray-500",children:[n," Character | ",_," SMS (160 Character/SMS)"]}),z.smsBalance<b.length*_&&b.length>0&&e.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[e.jsx(xs,{size:12}),"Insufficient balance"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:D,disabled:I||b.length===0||!q.trim(),className:"flex items-center justify-center gap-2 py-3 px-4 border-2 border-blue-200 text-blue-600 rounded-lg hover:bg-blue-50 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[I?e.jsx(ue,{size:18,className:"animate-spin"}):e.jsx(Ws,{size:18}),"Send SMS"]}),e.jsxs("button",{onClick:de,disabled:I||b.length===0||!q.trim(),className:"flex items-center justify-center gap-2 py-3 px-4 bg-blue-400 text-white rounded-lg hover:bg-blue-500 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[I?e.jsx(ue,{size:18,className:"animate-spin"}):e.jsx(Cs,{size:18}),"Send Voice Message"]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 flex items-start gap-2",children:[e.jsx(Ye,{size:16,className:"text-blue-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-xs text-blue-700",children:"SMS will be sent through bulk SMS gateway. Standard SMS charges apply. Voice messages are converted to speech and delivered as phone calls."})]})]})]})]}),k&&e.jsx(r,{}),ae&&e.jsx(Ne,{})]})},Ha=Object.freeze(Object.defineProperty({__proto__:null,default:ga},Symbol.toStringTag,{value:"Module"})),L={container:{backgroundColor:"#f9f9f9",minHeight:"100vh",position:"relative"},mainContent:{backgroundColor:"#ffffff",display:"flex",flexDirection:"column",gap:"20px",padding:"20px",overflow:"hidden"},headerRow:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},title:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"22px",color:"#023337",letterSpacing:"0.11px",margin:0},filtersRow:{display:"flex",alignItems:"center",gap:"24px",flexWrap:"wrap"},dateRangeGroup:{display:"flex",alignItems:"center",gap:"8px"},filterButton:{backgroundColor:"#f9f9f9",display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 7px",borderRadius:"8px",border:"none",cursor:"pointer",gap:"8px"},filterButtonText:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#000000"},filterToText:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#000000"},clearFilterButton:{backgroundColor:"#ffffff",border:"1px solid #ff6a00",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",padding:"6px 16px 6px 12px",borderRadius:"8px",height:"48px",cursor:"pointer"},clearFilterText:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"15px",background:"linear-gradient(180deg, #ff6a00 0%, #ff9f1c 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",letterSpacing:"-0.3px"},tableHeader:{height:"48px",background:"linear-gradient(180deg, #e0f7fa 0%, #b2ebf2 100%)",display:"grid",gridTemplateColumns:"60px 150px 150px 1fr 120px 160px 40px",alignItems:"center",padding:"0 20px"},tableHeaderText:{fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"16px",color:"#000000"},tableRow:{height:"68px",borderBottom:"0.5px solid #b9b9b9",display:"grid",gridTemplateColumns:"60px 150px 150px 1fr 120px 160px 40px",alignItems:"center",padding:"0 20px"},cellText:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#1d1a1a"},entityTitle:{fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"16px",color:"#1d1a1a"},entitySubtitle:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#6a717f"},actionBadge:{display:"flex",alignItems:"center",gap:"4px"},actionIcon:{width:"16px",height:"16px",borderRadius:"28px",display:"flex",alignItems:"center",justifyContent:"center"},bulkBadge:{backgroundColor:"#ded8ff",borderRadius:"28px",padding:"0 8px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},bulkText:{fontFamily:"'Poppins', sans-serif",fontWeight:300,fontSize:"12px",color:"#2300e8"},pagination:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px"},pageButton:{width:"32px",height:"32px",borderRadius:"8px",border:"1px solid #e0e0e0",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#ffffff",cursor:"pointer",fontFamily:"'Poppins', sans-serif",fontSize:"14px",color:"#1d1a1a"},pageButtonActive:{backgroundColor:"#38bdf8",border:"none",color:"#ffffff"},navButton:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",border:"none",backgroundColor:"transparent",cursor:"pointer",fontFamily:"'Poppins', sans-serif",fontSize:"14px",color:"#1d1a1a"},dropdown:{position:"absolute",top:"100%",left:0,marginTop:"4px",backgroundColor:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",zIndex:50,minWidth:"150px",overflow:"hidden"},dropdownItem:{padding:"10px 16px",fontFamily:"'Poppins', sans-serif",fontSize:"12px",color:"#1d1a1a",cursor:"pointer",border:"none",width:"100%",textAlign:"left",backgroundColor:"transparent"},dotsIcon:{width:"24px",height:"24px",cursor:"pointer",color:"#6a717f"}},fa=typeof import.meta<"u"?"https://allinbangla.com":"",ba=()=>{if(typeof window>"u")return null;try{return localStorage.getItem("admin_auth_token")}catch{return null}},ya=({tenantId:i})=>{const[c,T]=t.useState(null),[S,x]=t.useState([]),[p,f]=t.useState(!0),[F,N]=t.useState(1),[b,h]=t.useState(0),[l,y]=t.useState(0);t.useState(null);const[H,q]=t.useState(null),[u,A]=t.useState(!1),[B,z]=t.useState(null),[K,V]=t.useState(new Set);t.useEffect(()=>{const r=ba();T(r)},[]);const[R,k]=t.useState(""),[Q,W]=t.useState(""),[G,j]=t.useState("all"),[$,I]=t.useState("all"),[U,Z]=t.useState(10),[E,ae]=t.useState(!1),[le,oe]=t.useState(!1),[ie,ee]=t.useState(!1),re=[{value:"all",label:"All Type"},{value:"product",label:"Product"},{value:"inventory",label:"Inventory"},{value:"order",label:"Order"},{value:"category",label:"Category"},{value:"user",label:"User"},{value:"gallery",label:"Gallery"},{value:"carousel",label:"Carousel"},{value:"popup",label:"Popup"},{value:"campaign",label:"Campaign"},{value:"expense",label:"Expense"},{value:"income",label:"Income"},{value:"due",label:"Due"},{value:"review",label:"Review"},{value:"settings",label:"Settings"},{value:"other",label:"Other"}],w=[{value:"all",label:"All Actions"},{value:"create",label:"Create"},{value:"update",label:"Update"},{value:"delete",label:"Delete"},{value:"bulk_create",label:"Bulk Create"},{value:"bulk_update",label:"Bulk Update"},{value:"bulk_delete",label:"Bulk Delete"},{value:"login",label:"Login"},{value:"logout",label:"Logout"},{value:"export",label:"Export"},{value:"import",label:"Import"},{value:"other",label:"Other"}],J=[5,10,20,50,100],C=async()=>{f(!0);try{const r=new URLSearchParams;r.append("page",F.toString()),r.append("limit",U.toString()),i&&r.append("tenantId",i),R&&r.append("startDate",R),Q&&r.append("endDate",Q),G!=="all"&&r.append("resourceType",G),$!=="all"&&r.append("actionType",$);const a=await fetch(`${fa}/api/audit-logs?${r.toString()}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(a.ok){const m=await a.json();x(m.data||[]);const O=m.pagination||{total:0,pages:0};h(O.pages),y(O.total)}else console.error("Failed to fetch activity logs"),x([])}catch(r){console.error("Error fetching activity logs:",r),x([])}finally{f(!1)}};t.useEffect(()=>{c&&C()},[F,U,R,Q,G,$,c,i]);const Y=()=>{k(""),W(""),j("all"),I("all"),Z(10),N(1)},te=(r,a)=>{const m={width:"12px",height:"12px"};if(a==="inventory")return e.jsx(ks,{style:{...m,color:"#ff6a00"}});switch(r){case"create":case"bulk_create":return e.jsx(qs,{style:{...m,color:"#22c55e"}});case"update":case"bulk_update":return e.jsx(ks,{style:{...m,color:"#6366f1"}});case"delete":case"bulk_delete":return e.jsx(Lt,{style:{...m,color:"#ef4444"}});case"login":return e.jsx(Mt,{style:{...m,color:"#a855f7"}});case"logout":return e.jsx(zt,{style:{...m,color:"#ff6a00"}});case"export":return e.jsx(cs,{style:{...m,color:"#06b6d4"}});case"import":return e.jsx(ps,{style:{...m,color:"#6366f1"}});default:return e.jsx(Ss,{style:{...m,color:"#6b7280"}})}},ge=(r,a)=>{if(a==="inventory")return"#ffefd8";if(a==="admin"||a==="user")return"#d8ffe8";if(a==="order")return r==="delete"||r==="bulk_delete"?"#ffd8d8":"#d8f0ff";switch(r){case"create":case"bulk_create":return"#d8ffe8";case"update":case"bulk_update":return"#ded8ff";case"delete":case"bulk_delete":return"#ffd8d8";case"login":case"logout":return"#ded8ff";default:return"#ded8ff"}},Te=(r,a)=>{const m=a.charAt(0).toUpperCase()+a.slice(1),O=r.replace("bulk_","");return`${m}_${O}`},fe=r=>new Date(r).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}),Se=r=>r.startsWith("bulk_"),o=r=>{if(r.actionType.startsWith("bulk_")||r.metadata?.affectedItems&&r.metadata.affectedItems.length>1||r.metadata?.orderIds&&r.metadata.orderIds.length>1||r.metadata?.productIds&&r.metadata.productIds.length>1||r.metadata?.itemCount&&r.metadata.itemCount>1)return!0;const a=r.details.match(/\((\d+)\s*items?\)/i);return!!(a&&parseInt(a[1])>1)},g=r=>{if(r.metadata?.affectedItems)return r.metadata.affectedItems.length;if(r.metadata?.orderIds)return r.metadata.orderIds.length;if(r.metadata?.productIds)return r.metadata.productIds.length;if(r.metadata?.itemCount)return r.metadata.itemCount;const a=r.details.match(/\((\d+)\s*items?\)/i);return a?parseInt(a[1]):1};t.useEffect(()=>{const r=a=>{const m=a.target;!m.closest(".dropdown-container")&&!m.closest(".action-menu-container")&&(ae(!1),oe(!1),ee(!1),z(null))};return document.addEventListener("mousedown",r),()=>document.removeEventListener("mousedown",r)},[]);const n=r=>{q(r),A(!0),z(null)},_=r=>{V(a=>{const m=new Set(a);return m.has(r)?m.delete(r):m.add(r),m})},D=r=>{const a=r.resourceType.charAt(0).toUpperCase()+r.resourceType.slice(1);if(r.metadata?.affectedItems)return r.metadata.affectedItems.map(ce=>ce.name||ce.id||`${a} ${ce}`);if(r.metadata?.orderIds)return r.metadata.orderIds.map(ce=>`Order ${ce.slice(-4)}`);if(r.metadata?.productIds)return r.metadata.productIds.map((ce,ke)=>`Product ${ke+1}`);const m=r.details.match(/\((\d+)\s*items?\)/i);if(m){const ce=Math.min(parseInt(m[1]),10);return Array.from({length:ce},(ke,Fe)=>`${a} ${Fe+1}`)}const O=r.details.match(/(\d+)\s+(products?|orders?|items?)/i);if(O){const ce=Math.min(parseInt(O[1]),10);return Array.from({length:ce},(ke,Fe)=>`${a} ${Fe+1}`)}return[r.resourceName||a]},de=r=>{const a=r.resourceType.charAt(0).toUpperCase()+r.resourceType.slice(1);if(r.metadata?.changes)return r.metadata.changes.map(O=>`${O.name||O.id} (${O.oldStatus||"previous"} to ${O.newStatus||"new"})`);const m=g(r);if(m>1){const O=r.actionType.replace("bulk_","");return Array.from({length:Math.min(m,8)},(ce,ke)=>`${a} ${ke+1} (${O}d successfully)`)}return[r.details]},Ne=({log:r,onClose:a})=>{const m=o(r);g(r);const O=m?D(r):[r.resourceName||r.resourceType],ce=m?de(r):[r.details],ke=K.has(r._id),Fe=S.findIndex(he=>he._id===r._id)+1+(F-1)*U;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:a,children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-4 overflow-hidden",onClick:he=>he.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 lg:px-6 py-4 border-b border-gray-100",children:[e.jsxs("span",{className:"text-sm text-gray-500 font-poppins",children:["SI : ",Fe]}),e.jsx("span",{className:"text-sm text-gray-500 font-poppins",children:fe(r.createdAt)})]}),e.jsxs("div",{className:"px-6 py-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-sm text-gray-500 font-poppins w-20 shrink-0",children:"Action"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center",style:{backgroundColor:ge(r.actionType,r.resourceType)},children:te(r.actionType,r.resourceType)}),e.jsx("span",{className:"text-sm font-medium text-gray-900 font-poppins",children:Te(r.actionType,r.resourceType)})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-sm text-gray-500 font-poppins w-20 shrink-0",children:"Action by"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900 font-poppins",children:[": ",r.userName]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("span",{className:"text-sm text-gray-500 font-poppins w-20 shrink-0",children:"Entity"}),m?e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:O.slice(0,10).map((he,me)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-900"}),e.jsx("span",{className:"text-sm text-gray-900 font-poppins",children:he})]},me))}),O.length>10&&e.jsxs("span",{className:"text-xs text-gray-500 mt-2 block",children:["+",O.length-10," more items"]})]}):e.jsxs("span",{className:"text-sm font-medium text-gray-900 font-poppins",children:[": ",r.resourceName||`${r.resourceType} ${r.resourceId?.slice(-4)||""}`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("span",{className:"text-sm text-gray-500 font-poppins",children:"Description"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-48 overflow-y-auto",children:m?e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm text-gray-700 font-poppins font-medium",children:r.details}),ce.length>1&&e.jsxs("div",{className:"space-y-1 mt-3 pt-3 border-t border-gray-200",children:[ce.slice(0,10).map((he,me)=>e.jsx("p",{className:"text-sm text-gray-600 font-poppins",children:he},me)),ce.length>10&&e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["+",ce.length-10," more changes"]})]})]}):e.jsx("p",{className:"text-sm text-gray-700 font-poppins",children:r.details})})]})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-center",children:e.jsxs("button",{onClick:()=>_(r._id),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 transition-colors font-poppins",children:[ke?e.jsx(_t,{className:"w-5 h-5 text-blue-500"}):e.jsx(Dt,{className:"w-5 h-5"}),e.jsx("span",{children:"Mark as Read"})]})})]})})};return e.jsx("div",{style:L.container,children:e.jsxs("div",{style:L.mainContent,children:[e.jsxs("div",{style:L.headerRow,children:[e.jsx("h1",{style:L.title,children:"Activity Log"}),e.jsxs("div",{style:L.filtersRow,children:[e.jsxs("div",{style:L.dateRangeGroup,children:[e.jsxs("div",{style:{position:"relative"},className:"dropdown-container",children:[e.jsxs("button",{style:L.filterButton,onClick:()=>{},children:[e.jsx("span",{style:L.filterButtonText,children:R||"01-01-2025"}),e.jsx(ve,{style:{width:"10px",height:"10px",transform:"rotate(0deg)",color:"#000"}})]}),e.jsx("input",{type:"date",value:R,onChange:r=>k(r.target.value),style:{position:"absolute",opacity:0,top:0,left:0,width:"100%",height:"100%",cursor:"pointer"}})]}),e.jsx("span",{style:L.filterToText,children:"To"}),e.jsxs("div",{style:{position:"relative"},className:"dropdown-container",children:[e.jsxs("button",{style:L.filterButton,onClick:()=>{},children:[e.jsx("span",{style:L.filterButtonText,children:Q||"01-01-2026"}),e.jsx(ve,{style:{width:"10px",height:"10px",transform:"rotate(0deg)",color:"#000"}})]}),e.jsx("input",{type:"date",value:Q,onChange:r=>W(r.target.value),style:{position:"absolute",opacity:0,top:0,left:0,width:"100%",height:"100%",cursor:"pointer"}})]})]}),e.jsxs("div",{style:{position:"relative"},className:"dropdown-container",children:[e.jsxs("button",{style:L.filterButton,onClick:()=>{ae(!E),oe(!1),ee(!1)},children:[e.jsx("span",{style:L.filterButtonText,children:re.find(r=>r.value===G)?.label||"All Type"}),e.jsx(ve,{style:{width:"10px",height:"10px",transform:E?"rotate(180deg)":"rotate(0deg)",color:"#000",transition:"transform 0.2s"}})]}),E&&e.jsx("div",{style:L.dropdown,children:re.map(r=>e.jsx("button",{onClick:()=>{j(r.value),ae(!1),N(1)},style:{...L.dropdownItem,backgroundColor:G===r.value?"#e0f7fa":"transparent"},children:r.label},r.value))})]}),e.jsxs("div",{style:{position:"relative"},className:"dropdown-container",children:[e.jsxs("button",{style:L.filterButton,onClick:()=>{oe(!le),ae(!1),ee(!1)},children:[e.jsx("span",{style:L.filterButtonText,children:w.find(r=>r.value===$)?.label||"All Actions"}),e.jsx(ve,{style:{width:"10px",height:"10px",transform:le?"rotate(180deg)":"rotate(0deg)",color:"#000",transition:"transform 0.2s"}})]}),le&&e.jsx("div",{style:L.dropdown,children:w.map(r=>e.jsx("button",{onClick:()=>{I(r.value),oe(!1),N(1)},style:{...L.dropdownItem,backgroundColor:$===r.value?"#e0f7fa":"transparent"},children:r.label},r.value))})]}),e.jsxs("div",{style:{position:"relative"},className:"dropdown-container",children:[e.jsxs("button",{style:L.filterButton,onClick:()=>{ee(!ie),ae(!1),oe(!1)},children:[e.jsx("span",{style:L.filterButtonText,children:"By Admin"}),e.jsx(ve,{style:{width:"10px",height:"10px",transform:ie?"rotate(180deg)":"rotate(0deg)",color:"#000",transition:"transform 0.2s"}})]}),ie&&e.jsx("div",{style:L.dropdown,children:J.map(r=>e.jsxs("button",{onClick:()=>{Z(r),ee(!1),N(1)},style:{...L.dropdownItem,backgroundColor:U===r?"#e0f7fa":"transparent"},children:[r," Items"]},r))})]}),e.jsxs("button",{style:L.clearFilterButton,onClick:Y,children:[e.jsx(It,{style:{width:"24px",height:"24px",color:"#ff6a00"}}),e.jsx("span",{style:L.clearFilterText,children:"Clear filter"})]})]})]}),e.jsx("div",{style:{backgroundColor:"#ffffff",overflow:"hidden"},children:p?e.jsx(ct,{}):S.length===0?e.jsxs("div",{style:{padding:"48px",textAlign:"center"},children:[e.jsx(Ss,{style:{width:"48px",height:"48px",color:"#d1d5db",margin:"0 auto 12px"}}),e.jsx("h3",{style:{...L.entityTitle,marginBottom:"4px"},children:"No Activity Logs Found"}),e.jsx("p",{style:L.entitySubtitle,children:"No logs match your current filters"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:L.tableHeader,children:[e.jsx("span",{style:L.tableHeaderText,children:"SL"}),e.jsx("span",{style:L.tableHeaderText,children:"Action"}),e.jsx("span",{style:L.tableHeaderText,children:"Entity"}),e.jsx("span",{style:L.tableHeaderText,children:"Description"}),e.jsx("span",{style:L.tableHeaderText,children:"Name"}),e.jsx("span",{style:L.tableHeaderText,children:"Date & Time"}),e.jsx("span",{})]}),S.map((r,a)=>e.jsxs("div",{style:L.tableRow,children:[e.jsx("span",{style:L.cellText,children:(F-1)*U+a+1}),e.jsxs("div",{style:L.actionBadge,children:[e.jsx("div",{style:{...L.actionIcon,backgroundColor:ge(r.actionType,r.resourceType)},children:te(r.actionType,r.resourceType)}),e.jsx("span",{style:L.cellText,children:Te(r.actionType,r.resourceType)})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("span",{style:{...L.entityTitle,fontSize:"16px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"120px"},children:r.resourceName||`${r.resourceType.charAt(0).toUpperCase()+r.resourceType.slice(1)} ${r.resourceId?.slice(-4)||""}`}),e.jsx("span",{style:L.entitySubtitle,children:r.resourceType.charAt(0).toUpperCase()+r.resourceType.slice(1)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx("span",{style:L.cellText,children:r.details}),Se(r.actionType)&&e.jsx("div",{style:L.bulkBadge,children:e.jsx("span",{style:L.bulkText,children:"Bulk"})})]}),e.jsx("span",{style:L.cellText,children:r.userName}),e.jsx("span",{style:L.cellText,children:fe(r.createdAt)}),e.jsxs("div",{className:"action-menu-container",style:{position:"relative"},children:[e.jsx("button",{onClick:()=>z(B===r._id?null:r._id),style:{...L.dotsIcon,background:"none",border:"none",padding:"4px",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center"},className:"hover:bg-gray-100 transition-colors",children:e.jsx(Ke,{style:{width:"20px",height:"20px",color:"#6a717f"}})}),B===r._id&&e.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"4px",backgroundColor:"#ffffff",border:"1px solid #e0e0e0",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:50,minWidth:"120px",overflow:"hidden"},children:e.jsxs("button",{onClick:()=>n(r),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",width:"100%",border:"none",backgroundColor:"transparent",cursor:"pointer",fontFamily:"'Poppins', sans-serif",fontSize:"13px",color:"#1d1a1a"},className:"hover:bg-gray-50 transition-colors",children:[e.jsx(is,{style:{width:"16px",height:"16px",color:"#6366f1"}}),e.jsx("span",{children:"View"})]})})]})]},r._id))]})}),u&&H&&e.jsx(Ne,{log:H,onClose:()=>{A(!1),q(null)}}),b>1&&e.jsxs("div",{style:L.pagination,children:[e.jsxs("button",{style:L.navButton,onClick:()=>N(r=>Math.max(r-1,1)),disabled:F===1,children:[e.jsx(hs,{style:{width:"16px",height:"16px"}}),e.jsx("span",{children:"Previous"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[Array.from({length:Math.min(5,b)},(r,a)=>{let m;return b<=5||F<=3?m=a+1:F>=b-2?m=b-4+a:m=F-2+a,e.jsx("button",{onClick:()=>N(m),style:{...L.pageButton,...F===m?L.pageButtonActive:{}},children:m},m)}),b>5&&F<b-2&&e.jsxs(e.Fragment,{children:[e.jsx("span",{style:{color:"#6b7280"},children:"..."}),e.jsx("button",{onClick:()=>N(b),style:L.pageButton,children:b})]})]}),e.jsxs("button",{style:L.navButton,onClick:()=>N(r=>Math.min(r+1,b)),disabled:F===b,children:[e.jsx("span",{children:"Next"}),e.jsx(Ie,{style:{width:"16px",height:"16px"}})]})]})]})})},qa=Object.freeze(Object.defineProperty({__proto__:null,default:ya},Symbol.toStringTag,{value:"Module"})),ns="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzY0NzQ4YiIgc3Ryb2tlLXdpZHRoPSIxLjUiPjxjaXJjbGUgY3g9IjEyIiBjeT0iOCIgcj0iNCIvPjxwYXRoIGQ9Ik00IDIwYzAtNCA0LTggOC04czggNCA4IDgiLz48L3N2Zz4=",ja=i=>({super_admin:"Super Admin",tenant_admin:"Tenant Admin",admin:"Admin",staff:"Staff",customer:"Customer"})[i||"admin"]||"Admin",va=i=>i?new Date(i).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"}):"N/A",zs=({type:i,message:c})=>e.jsxs("div",{className:`flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 rounded-lg sm:rounded-xl text-xs sm:text-sm font-medium ${i==="success"?"bg-green-50 text-green-700 border-green-100":"bg-red-50 text-red-700 border-red-100"} border`,children:[i==="success"?e.jsx(we,{size:16,className:"flex-shrink-0"}):e.jsx(xs,{size:16,className:"flex-shrink-0"}),e.jsx("span",{className:"truncate",children:c})]}),Oe=({label:i,icon:c,value:T,onChange:S,readOnly:x,type:p="text",placeholder:f,textarea:F})=>e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:i}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 to p-2.5 sm:to p-3 text-gray-400",children:c}),F?e.jsx("textarea",{className:"w-full pl-9 pr-4 py-2 sm:py-2.5 rounded-lg border border-gray-200 focus:border-purple-500 focus:ring-2 focus:ring-purple-100 text-sm h-20 resize-none",value:T,onChange:N=>S?.(N.target.value),placeholder:f}):e.jsx("input",{type:p,className:`w-full pl-9 pr-4 py-2 sm:py-2.5 rounded-lg border border-gray-200 text-sm ${x?"bg-gray-50 text-gray-500":"focus:border-purple-500 focus:ring-2 focus:ring-purple-100"}`,value:T,onChange:N=>S?.(N.target.value),readOnly:x,placeholder:f})]})]}),Na=({user:i,onUpdateProfile:c,activeTenant:T})=>{const S=t.useRef(null),[x,p]=t.useState({name:"",username:"",email:"",phone:"",address:""}),[f,F]=t.useState(ns),[N,b]=t.useState(null),[h,l]=t.useState(!1),[y,H]=t.useState(!1),[q,u]=t.useState(!1),[A,B]=t.useState(!1),[z,K]=t.useState({current:"",next:"",confirm:""}),[V,R]=t.useState(null);t.useEffect(()=>{i&&(p({name:i.name||"",username:i.username||"",email:i.email||"",phone:i.phone||"",address:i.address||""}),F(i.image||ns))},[i]);const k=(I,U)=>{b({type:I,msg:U}),setTimeout(()=>b(null),4e3)};t.useEffect(()=>{const I=U=>{if((U.ctrlKey||U.metaKey)&&U.key==="s"){U.preventDefault();const Z=document.querySelector("form");Z&&Z.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}};return window.addEventListener("keydown",I),()=>window.removeEventListener("keydown",I)},[]);const Q=I=>{if(I.preventDefault(),!i||!c)return k("error","No active session");l(!0),c({...i,...x,image:f,updatedAt:new Date().toISOString()}),k("success","Profile updated"),l(!1)},W=async I=>{const U=I.target.files?.[0];if(U){H(!0);try{const Z=await _s(U,{quality:.82,maxDimension:600});F(Z),k("success","Photo ready - save to apply")}catch{k("error","Image processing failed")}H(!1),I.target.value=""}},G=I=>{F(I),k("success","Photo selected - save to apply"),u(!1)},j=I=>{if(I.preventDefault(),!i||!c)return R({type:"error",msg:"No session"});if(z.next.length<6)return R({type:"error",msg:"Min 6 characters"});if(z.next!==z.confirm)return R({type:"error",msg:"Passwords must match"});c({...i,password:z.next,updatedAt:new Date().toISOString()}),R({type:"success",msg:"Password updated"}),K({current:"",next:"",confirm:""}),setTimeout(()=>{R(null),B(!1)},1500)},$=()=>{i&&(p({name:i.name||"",username:i.username||"",email:i.email||"",phone:i.phone||"",address:i.address||""}),F(i.image||ns))};return e.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6 max-w-6xl mx-auto animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Profile Details"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:"Manage your personal information and settings"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsxs("button",{type:"button",onClick:$,className:"flex-1 sm:flex-none px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 text-sm font-medium flex items-center justify-center gap-2",children:[e.jsx(Rt,{size:16})," Reset"]}),e.jsx("button",{type:"submit",form:"profile-form",disabled:h,className:"flex-1 sm:flex-none px-5 py-2 rounded-lg bg-purple-600 text-white font-semibold hover:bg-purple-700 shadow-lg shadow-purple-200 flex items-center justify-center gap-2 text-sm",children:h?e.jsxs(e.Fragment,{children:[e.jsx(ue,{size:16,className:"animate-spin"})," Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(us,{size:16})," Save Changes"]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsxs("form",{id:"profile-form",onSubmit:Q,className:"p-4 sm:p-6 space-y-5 sm:space-y-6",children:[N&&e.jsx(zs,{type:N.type,message:N.msg}),e.jsxs("div",{className:"flex flex-col items-center pb-5 sm:pb-6 border-b border-gray-100",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("img",{src:f,alt:"Profile",className:"w-28 h-28 sm:w-32 sm:h-32 rounded-2xl object-cover border-4 border-gray-100 bg-gray-50 shadow-md"}),e.jsxs("div",{className:"absolute -bottom-2 -right-2 flex gap-1.5",children:[e.jsx("button",{type:"button",onClick:()=>u(!0),className:"bg-white border border-gray-200 text-gray-600 rounded-full p-2 shadow-md hover:scale-105 transition",title:"Choose from Gallery",children:e.jsx(Bt,{size:16})}),e.jsx("button",{type:"button",onClick:()=>S.current?.click(),className:"bg-purple-600 text-white rounded-full p-2 shadow-md hover:bg-purple-700 hover:scale-105 transition",title:"Upload new",children:y?e.jsx(ue,{size:16,className:"animate-spin"}):e.jsx(Bs,{size:16})})]}),e.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:W})]}),e.jsx("p",{className:"text-xs sm:text-sm font-bold uppercase tracking-widest text-gray-400 mb-1",children:ja(i?.role)}),e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:x.name||"Admin"}),e.jsx("p",{className:"text-gray-500 text-sm",children:x.email}),e.jsxs("div",{className:"mt-3 flex flex-wrap justify-center gap-2 text-xs",children:[e.jsxs("span",{className:"bg-purple-100 text-purple-700 px-3 py-1 rounded-full flex items-center gap-1.5",children:[e.jsx(ds,{size:12})," ",i?.roleId?"Custom Role":"Full Access"]}),e.jsxs("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full flex items-center gap-1.5",children:[e.jsx(Ae,{size:12})," Since ",va(i?.createdAt)]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-5",children:[e.jsx(Oe,{label:"Full Name",icon:e.jsx(Re,{size:16}),value:x.name,onChange:I=>p({...x,name:I}),placeholder:"John Doe"}),e.jsx(Oe,{label:"Username",icon:e.jsx(Et,{size:16}),value:x.username,onChange:I=>p({...x,username:I.toLowerCase().replace(/\s/g,"")}),placeholder:"johndoe"}),e.jsx(Oe,{label:"Phone",icon:e.jsx(Hs,{size:16}),value:x.phone,onChange:I=>p({...x,phone:I}),placeholder:"+880 1XXX-XXXXXX"}),e.jsx(Oe,{label:"Email",icon:e.jsx(Qe,{size:16}),value:x.email,readOnly:!0}),e.jsx("div",{className:"sm:col-span-2",children:e.jsx(Oe,{label:"Address",icon:e.jsx(Ot,{size:16}),value:x.address,onChange:I=>p({...x,address:I}),textarea:!0,placeholder:"Street, City, Postal Code, Country"})})]})]}),e.jsx("div",{className:"px-4 sm:px-6 pb-4 sm:pb-6 pt-0",children:e.jsxs("button",{onClick:()=>B(!0),className:"w-full flex items-center justify-between bg-gray-50 border border-gray-200 rounded-xl px-4 sm:px-5 py-3 sm:py-4 hover:bg-gray-100 transition text-sm font-medium text-gray-700",children:[e.jsxs("span",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(ls,{size:18,className:"text-gray-500"}),"Change Password"]}),e.jsx(Be,{size:18,className:"text-gray-400"})]})})]}),A&&e.jsx("div",{className:"fixed inset-0 z-[120] bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center p-0 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-t-2xl sm:rounded-2xl w-full sm:max-w-md shadow-2xl",children:[e.jsxs("div",{className:"p-4 sm:p-5 border-b flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-800 text-sm sm:text-base",children:"Change Password"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Use a strong, unique password"})]}),e.jsx("button",{onClick:()=>B(!1),className:"text-gray-400 hover:text-gray-600 text-xl p-1",children:"×"})]}),e.jsxs("form",{onSubmit:j,className:"p-4 sm:p-5 space-y-3 sm:space-y-4",children:[V&&e.jsx(zs,{type:V.type,message:V.msg}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Current Password"}),e.jsx("input",{type:"password",className:"w-full mt-1 px-3 py-2 rounded-lg border text-sm",value:z.current,onChange:I=>K({...z,current:I.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"New Password"}),e.jsx("input",{type:"password",className:"w-full mt-1 px-3 py-2 rounded-lg border text-sm",value:z.next,onChange:I=>K({...z,next:I.target.value}),placeholder:"Min 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-semibold text-gray-500 uppercase",children:"Confirm Password"}),e.jsx("input",{type:"password",className:"w-full mt-1 px-3 py-2 rounded-lg border text-sm",value:z.confirm,onChange:I=>K({...z,confirm:I.target.value})})]})]}),e.jsxs("div",{className:"flex flex-col-reverse xs:flex-row justify-end gap-2 sm:gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>B(!1),className:"px-4 py-2 rounded-lg border text-gray-600 hover:bg-gray-50 text-sm",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-5 py-2 rounded-lg bg-purple-600 text-white font-semibold hover:bg-purple-700 text-sm",children:"Save"})]})]})]})}),e.jsx(Gs,{isOpen:q,onClose:()=>u(!1),onSelect:G,title:"Select Profile Photo"})]})},Ga=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"})),ne={container:{display:"flex",flexDirection:"column",gap:"20px",width:"100%",maxWidth:"666px",margin:"0 auto"},headerCard:{backgroundColor:"white",borderRadius:"8px",padding:"24px 18px",overflow:"visible"},headerRow:{display:"flex",alignItems:"center",gap:"14px",height:"42px"},backButton:{display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",cursor:"pointer",padding:"4px"},title:{fontFamily:"'Lato', sans-serif",fontWeight:500,fontSize:"20px",color:"black",margin:0},instructionsCard:{backgroundColor:"white",borderRadius:"8px",border:"1px solid #da0000",padding:"14px 9px",overflow:"hidden"},instructionsContent:{display:"flex",flexDirection:"column",gap:"10px",padding:"10px"},instructionsTitle:{fontFamily:"'Lato', sans-serif",fontWeight:500,fontSize:"20px",color:"black",margin:0},instructionsText:{fontFamily:"'Lato', sans-serif",fontWeight:400,fontSize:"14px",color:"black",lineHeight:"1.6",margin:0},boldText:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"14px",color:"black"},videoButton:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#ffefef",borderRadius:"8px",padding:"8px 12px",border:"none",cursor:"pointer",width:"fit-content"},videoIcon:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"},videoText:{fontFamily:"'Lato', sans-serif",fontWeight:500,fontSize:"16px",color:"black",margin:0},domainCard:{backgroundColor:"white",borderRadius:"8px",padding:"14px 9px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"},domainContent:{display:"flex",flexDirection:"column",gap:"17px",width:"100%",padding:"14px 2px"},domainInput:{width:"100%",height:"48px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"none",padding:"0 13px",fontFamily:"'Lato', sans-serif",fontWeight:400,fontSize:"14px",color:"#333",outline:"none"},saveButton:{width:"100%",height:"40px",backgroundColor:"#1e90ff",borderRadius:"8px",border:"1px solid #1e90ff",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},saveButtonText:{fontFamily:"'Lato', sans-serif",fontWeight:600,fontSize:"14px",color:"white"}},wa=({onBack:i,tenantId:c,currentDomain:T})=>{const[S,x]=t.useState(T||""),[p,f]=t.useState(!1);t.useEffect(()=>{T&&x(T)},[T]);const F=async()=>{if(!S.trim()){v.error("Please enter a domain");return}if(!/^[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]?\.[a-zA-Z]{2,}$/.test(S.trim())){v.error("Please enter a valid domain (e.g., example.com)");return}f(!0);try{const h=await fetch(`/api/tenants/${c}/setup-domain`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({customDomain:S.trim()})});if(!h.ok){const l=await h.json();throw new Error(l.message||"Cannot save domain in local development. Please try again in production.")}v.success("Domain saved successfully! Please configure your DNS settings.")}catch(h){v.error(h.message||"HI, Cannot save domain in local development. Please try again in production.")}finally{f(!1)}},N=()=>{window.open("https://www.youtube.com/watch?v=YOUR_VIDEO_ID","_blank")};return e.jsxs("div",{style:ne.container,children:[e.jsx("div",{style:ne.headerCard,children:e.jsxs("div",{style:ne.headerRow,children:[e.jsx("button",{onClick:i,style:ne.backButton,children:e.jsx(hs,{size:20,color:"black"})}),e.jsx("p",{style:ne.title,children:"Shop Domain"})]})}),e.jsx("div",{style:ne.instructionsCard,children:e.jsxs("div",{style:ne.instructionsContent,children:[e.jsx("p",{style:ne.instructionsTitle,children:"Instructions"}),e.jsxs("div",{style:ne.instructionsText,children:[e.jsx("p",{style:{margin:"0 0 12px 0"},children:"Configure DNS Settings in Cloudflare"}),e.jsx("p",{style:{margin:"0 0 8px 0"},children:"The Steps in the Below:"}),e.jsxs("p",{style:{margin:"0 0 4px 0"},children:["1. Point ",e.jsx("span",{style:ne.boldText,children:"A Record for @: 159.198.47.126"})]}),e.jsxs("p",{style:{margin:"0 0 12px 0"},children:["2. Point ",e.jsx("span",{style:ne.boldText,children:"CNAME Record for www:your_domain.com"})]}),e.jsxs("p",{style:{margin:0},children:["Add the following DNS record to your ",e.jsx("span",{style:ne.boldText,children:"Cloudflare DNS"})," with"," ",e.jsx("span",{style:ne.boldText,children:"TTL: Auto"})," and"," ",e.jsx("span",{style:ne.boldText,children:"Proxy Status: Proxied."})," Set SSL mode to"," ",e.jsx("span",{style:ne.boldText,children:"Flexible"}),". Allow up to 24 hours for verification."]})]}),e.jsxs("button",{onClick:N,style:ne.videoButton,children:[e.jsx("div",{style:ne.videoIcon,children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",fill:"#FF0000"}),e.jsx("path",{d:"M10 8.5V15.5L16 12L10 8.5Z",fill:"white"})]})}),e.jsx("p",{style:ne.videoText,children:"View Video Instruction"})]})]})}),e.jsx("div",{style:ne.domainCard,children:e.jsxs("div",{style:ne.domainContent,children:[e.jsx("input",{type:"text",value:S,onChange:b=>x(b.target.value),placeholder:"Your_domain.com",style:ne.domainInput}),e.jsx("button",{onClick:F,disabled:p,style:{...ne.saveButton,opacity:p?.7:1,cursor:p?"wait":"pointer"},children:e.jsx("span",{style:ne.saveButtonText,children:p?"Saving...":"Save"})})]})})]})},Va=Object.freeze(Object.defineProperty({__proto__:null,default:wa},Symbol.toStringTag,{value:"Module"})),Ms=()=>{if(typeof window<"u"){const i=window.location.hostname;if(i!=="localhost"&&i!=="127.0.0.1")return window.location.origin}return import.meta?.env?.VITE_API_BASE_URL||"http://localhost:5001"},Ca=({tenantId:i,onBack:c})=>{const[T,S]=t.useState(!1),[x,p]=t.useState(!0),[f,F]=t.useState({enabled:!1,pointsPerCurrency:1,currencyAmount:100,calculationType:"manual",rewardPercentage:5,referralEnabled:!1,referralPointsPerReferral:50}),N=t.useCallback(async()=>{try{p(!0);const l=await fetch(`${Ms()}/api/reward-points/config`,{headers:{"X-Tenant-Id":i,...pe()}});if(l.ok){const y=await l.json();y&&F(H=>({...H,...y}))}}catch(l){console.error("Error fetching reward point config:",l)}finally{p(!1)}},[i]);t.useEffect(()=>{i&&N()},[i,N]),t.useEffect(()=>{const l=y=>{(y.ctrlKey||y.metaKey)&&y.key==="s"&&(y.preventDefault(),b())};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)});const b=async()=>{try{if(S(!0),(await fetch(`${Ms()}/api/reward-points/config`,{method:"PUT",headers:{"Content-Type":"application/json","X-Tenant-Id":i,...pe()},body:JSON.stringify(f)})).ok)v.success("Reward point settings saved successfully!");else throw new Error("Failed to save settings")}catch(l){console.error("Error saving reward point config:",l),v.error("Failed to save settings")}finally{S(!1)}},h=()=>f.calculationType==="percentage"?Math.floor(1e3*f.rewardPercentage/100):Math.floor(1e3/f.currencyAmount*f.pointsPerCurrency);return x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(ue,{className:"w-8 h-8 animate-spin text-blue-600"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-3 sm:px-4 lg:px-6 py-4 sticky top-0 z-10",children:e.jsxs("div",{className:"flex items-center justify-between max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[c&&e.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Xs,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-orange-500 rounded-xl flex items-center justify-center",children:e.jsx(Ps,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Reward Point Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure your customer reward point system"})]})]})]}),e.jsxs("button",{onClick:b,disabled:T,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 font-medium shadow-lg shadow-blue-500/25",children:[T?e.jsx(ue,{className:"w-4 h-4 animate-spin"}):e.jsx(us,{className:"w-4 h-4"}),"Save Changes"]})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-3 sm:px-4 lg:px-6 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-400 to-green-500 rounded-xl flex items-center justify-center",children:e.jsx(Ps,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Enable Reward Point System"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reward customers with points for purchases"})]})]}),e.jsx("button",{onClick:()=>F(l=>({...l,enabled:!l.enabled})),className:`relative w-14 h-7 rounded-full transition-colors duration-200 ${f.enabled?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute to p-0.5 w-6 h-6 bg-white rounded-full shadow-md transition-transform duration-200 ${f.enabled?"translate-x-7":"translate-x-0.5"}`})})]}),f.enabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-xl",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Point Value Configuration"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1.5",children:"Number of Points"}),e.jsx("input",{type:"number",value:f.pointsPerCurrency,onChange:l=>F(y=>({...y,pointsPerCurrency:Number(l.target.value)})),min:"1",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-center font-semibold text-lg"})]}),e.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-white border border-gray-200 rounded-xl",children:e.jsx("span",{className:"text-gray-400 font-bold",children:"="})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1.5",children:"Currency Amount (৳)"}),e.jsx("input",{type:"number",value:f.currencyAmount,onChange:l=>F(y=>({...y,currencyAmount:Number(l.target.value)})),min:"1",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-center font-semibold text-lg"})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Customer earns ",f.pointsPerCurrency," point(s) for every ৳",f.currencyAmount," spent"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Reward Calculation Method"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${f.calculationType==="manual"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"calculationType",checked:f.calculationType==="manual",onChange:()=>F(l=>({...l,calculationType:"manual"})),className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Manual Calculation"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Set fixed points per currency amount"})]})]}),e.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-xl border-2 cursor-pointer transition-all ${f.calculationType==="percentage"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("input",{type:"radio",name:"calculationType",checked:f.calculationType==="percentage",onChange:()=>F(l=>({...l,calculationType:"percentage"})),className:"w-5 h-5 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Percentage Based"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Calculate points as percentage of purchase"})]})]})]})]}),f.calculationType==="percentage"&&e.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-xl",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reward Point Percentage"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:f.rewardPercentage,onChange:l=>F(y=>({...y,rewardPercentage:Number(l.target.value)})),min:"0",max:"100",step:"0.5",className:"flex-1 px-4 py-2.5 border border-purple-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all text-center font-semibold text-lg"}),e.jsx("span",{className:"text-lg font-semibold text-purple-600",children:"%"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Customer earns ",f.rewardPercentage,"% of purchase amount as points"]})]}),e.jsx("div",{className:"p-4 bg-gradient-to-br from-amber-50 to-orange-50 rounded-xl border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Ye,{className:"w-4 h-4 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-800 text-sm",children:"Example Calculation"}),e.jsxs("p",{className:"text-sm text-amber-700 mt-1",children:["For a ৳1,000 purchase, customer will earn approximately"," ",e.jsxs("span",{className:"font-bold text-amber-900",children:[h()," points"]})]})]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 h-fit",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-violet-400 to-purple-500 rounded-xl flex items-center justify-center",children:e.jsx(Pe,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Enable Referral Reward Point"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reward customers for referrals"})]})]}),e.jsx("button",{onClick:()=>F(l=>({...l,referralEnabled:!l.referralEnabled})),className:`relative w-14 h-7 rounded-full transition-colors duration-200 ${f.referralEnabled?"bg-green-500":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute to p-0.5 w-6 h-6 bg-white rounded-full shadow-md transition-transform duration-200 ${f.referralEnabled?"translate-x-7":"translate-x-0.5"}`})})]}),f.referralEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Reward Point Per Referral"}),e.jsx("input",{type:"number",value:f.referralPointsPerReferral,onChange:l=>F(y=>({...y,referralPointsPerReferral:Number(l.target.value)})),min:"0",className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none transition-all text-center font-semibold text-lg"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Points awarded when a referred customer makes their first purchase"})]}),e.jsx("div",{className:"mt-4 p-4 bg-gradient-to-br from-violet-50 to-purple-50 rounded-xl border border-violet-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-violet-100 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Pe,{className:"w-4 h-4 text-violet-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-violet-800 text-sm",children:"How it works"}),e.jsxs("p",{className:"text-sm text-violet-700 mt-1",children:["When a customer refers someone and they make a purchase, the referrer earns"," ",e.jsxs("span",{className:"font-bold text-violet-900",children:[f.referralPointsPerReferral," points"]})]})]})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Quick Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Point System"}),e.jsx("span",{className:`font-medium ${f.enabled?"text-green-600":"text-gray-400"}`,children:f.enabled?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Referral Rewards"}),e.jsx("span",{className:`font-medium ${f.referralEnabled?"text-green-600":"text-gray-400"}`,children:f.referralEnabled?"Active":"Inactive"})]}),f.enabled&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Calculation Method"}),e.jsx("span",{className:"font-medium text-blue-600 capitalize",children:f.calculationType==="percentage"?"Percentage":"Manual"})]})]})]})]})]})})]})},Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Ca},Symbol.toStringTag,{value:"Module"})),Sa=({products:i=[],tenantId:c,categories:T=[],storeInfo:S})=>{const[x,p]=t.useState(""),[f,F]=t.useState(""),[N,b]=t.useState(!1),[h,l]=t.useState([]),[y,H]=t.useState(!1),[q,u]=t.useState(i),[A,B]=t.useState(T),[z,K]=t.useState([]),[V,R]=t.useState(0),[k,Q]=t.useState(0),[W,G]=t.useState(!1),[j,$]=t.useState([]),[I,U]=t.useState({start:"",end:""}),[Z,E]=t.useState(!1),[ae,le]=t.useState(!1),[oe,ie]=t.useState("supplier"),[ee,re]=t.useState(!1),[w,J]=t.useState(!1),[C,Y]=t.useState(!1),[te,ge]=t.useState(null),[Te,fe]=t.useState(!1),[Se,o]=t.useState(!1),g=t.useRef(null),[n,_]=t.useState({dateOfPurchase:new Date().toISOString().split("T")[0],amount:0,cashPaid:0,note:"",supplierName:"",mobileNumber:"",countryCode:"+88",address:"",customInvoiceNumber:!1,invoiceNumber:"",employeeInfo:!1,employeeName:"",employeeNumber:"",sendSMS:!1}),[D,de]=t.useState({name:"",currentStock:0,purchasePrice:0,sellPrice:0,unit:"",category:"",subCategory:"",description:"",sellOnline:!1,sellInBulk:!1,lowStockAlert:!1,vatApplicable:!1,warranty:!1,discount:!1,barcode:!1,image:""});t.useEffect(()=>{(async()=>{if(c)try{if(i.length===0){const d=await ye.getProducts(c);u(d||[])}if(T.length===0){const d=await ye.getCatalog("categories",[],c);B(d||[])}}catch(d){console.error("Error loading data:",d)}})()},[i,T,c]),t.useEffect(()=>{i.length>0&&u(i),T.length>0&&B(T)},[i,T]),t.useEffect(()=>{(async()=>{if(D.category&&c)try{const X=(await ye.getCatalog("subcategories",[],c)).filter(se=>se.category===D.category||se.parentCategory===D.category);K(X||[])}catch(d){console.error("Error loading subcategories:",d),K([])}else K([])})()},[D.category,c]);const Ne=async()=>{if(c)try{const s=await fetch("/api/purchases",{headers:{"X-Tenant-Id":c,...pe()}});if(s.ok){const d=await s.json();$(d||[])}}catch(s){console.error("Error loading purchases:",s)}};t.useEffect(()=>{W&&c&&Ne()},[W,c]);const r=t.useMemo(()=>{if(!x.trim())return q;const s=x.toLowerCase();return q.filter(d=>d.name.toLowerCase().includes(s)||d.sku?.toLowerCase().includes(s)||d.category?.toLowerCase().includes(s))},[q,x]),a=s=>{const d=s.category?.substring(0,2).toUpperCase()||"PR",X=Math.random().toString(36).substring(2,8).toUpperCase();return`${d}-${X}`},m=t.useCallback(s=>{l(d=>d.find(se=>se.productId===s.id)?d.map(se=>se.productId===s.id?{...se,quantity:se.quantity+1,total:(se.quantity+1)*se.price}:se):[...d,{productId:s.id,productName:s.name,productImage:s.image||"",sku:s.sku||a(s),quantity:1,price:s.costPrice||s.price||0,total:s.costPrice||s.price||0,stock:s.stock||0}])},[]),O=t.useCallback(()=>{if(!f.trim())return;const s=q.find(d=>d.sku?.toLowerCase()===f.toLowerCase());s?(m(s),F(""),v.success(`Added ${s.name}`)):v.error("Product not found with this barcode/SKU")},[f,q,m]),ce=(s,d,X)=>{l(se=>se.map(xe=>{if(xe.productId===s){const be={...xe,[d]:X};return(d==="quantity"||d==="price")&&(be.total=Number(be.quantity)*Number(be.price)),be}return xe}))},ke=s=>{l(d=>d.filter(X=>X.productId!==s))},Fe=()=>{l([]),R(0),Q(0)},he=t.useMemo(()=>h.reduce((s,d)=>s+d.total,0),[h]),me=t.useMemo(()=>he-(Number(V)||0)+(Number(k)||0),[he,V,k]),Ks=s=>h.find(d=>d.productId===s)?.quantity||0,gs=()=>{const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let d="";for(let X=0;X<6;X++)d+=s.charAt(Math.floor(Math.random()*s.length));return d},Qs=()=>{if(h.length===0){v.error("Please add at least one product");return}re(!0)},Js=()=>{_(s=>({...s,dateOfPurchase:new Date().toISOString().split("T")[0],amount:me,cashPaid:me})),re(!1),E(!0)},Ys=()=>{if(h.length===0){v.error("Please add at least one product");return}J(!0)},Zs=()=>{_(s=>({...s,dateOfPurchase:new Date().toISOString().split("T")[0],amount:me,cashPaid:0})),J(!1),le(!0)},et=async()=>{if(!c){v.error("Tenant ID is required");return}if(!n.supplierName.trim()){v.error("Supplier name is required");return}if(!n.mobileNumber.trim()){v.error("Mobile number is required");return}H(!0);try{const s=n.customInvoiceNumber&&n.invoiceNumber?n.invoiceNumber:gs(),d={items:h.map(se=>({productId:se.productId,productName:se.productName,image:se.productImage,sku:se.sku,quantity:se.quantity,unitPrice:se.price,totalPrice:se.total})),totalAmount:me,subTotal:he,discount:Number(V)||0,deliveryCharge:Number(k)||0,paymentType:"cash",supplierName:n.supplierName,mobileNumber:n.countryCode+n.mobileNumber,address:n.address,note:n.note,cashPaid:me,dueAmount:0,invoiceNumber:s,employeeName:n.employeeInfo?n.employeeName:"",employeeNumber:n.employeeInfo?n.employeeNumber:"",dateOfPurchase:n.dateOfPurchase};if(!(await fetch("/api/purchases",{method:"POST",headers:{"Content-Type":"application/json","X-Tenant-Id":c,...pe()},body:JSON.stringify(d)})).ok)throw new Error("Failed to create purchase");if(ge({invoiceNumber:s,date:new Date().toLocaleString("bn-BD"),supplierName:n.supplierName,mobileNumber:n.countryCode+n.mobileNumber,address:n.address,items:h,subTotal:he,discount:Number(V)||0,deliveryCharge:Number(k)||0,grandTotal:me,paidAmount:me,dueAmount:0,paymentType:"cash",buyerName:"admin"}),E(!1),Y(!0),v.success("Payment successful!"),c){const se=await ye.getProducts(c);u(se||[])}}catch(s){console.error("Error:",s),v.error("Failed to process payment")}finally{H(!1)}},st=async()=>{if(!c){v.error("Tenant ID is required");return}if(!n.supplierName.trim()){v.error("Supplier name is required");return}if(!n.mobileNumber.trim()){v.error("Mobile number is required");return}H(!0);try{const s=n.customInvoiceNumber&&n.invoiceNumber?n.invoiceNumber:gs(),d=me-n.cashPaid,X={items:h.map(xe=>({productId:xe.productId,productName:xe.productName,image:xe.productImage,sku:xe.sku,quantity:xe.quantity,unitPrice:xe.price,totalPrice:xe.total})),totalAmount:me,subTotal:he,discount:Number(V)||0,deliveryCharge:Number(k)||0,paymentType:"due",supplierName:n.supplierName,mobileNumber:n.countryCode+n.mobileNumber,address:n.address,note:n.note,cashPaid:n.cashPaid,dueAmount:d,invoiceNumber:s,employeeName:n.employeeInfo?n.employeeName:"",employeeNumber:n.employeeInfo?n.employeeNumber:"",dateOfPurchase:n.dateOfPurchase,dueType:oe};if(!(await fetch("/api/purchases",{method:"POST",headers:{"Content-Type":"application/json","X-Tenant-Id":c,...pe()},body:JSON.stringify(X)})).ok)throw new Error("Failed to create purchase");if(ge({invoiceNumber:s,date:new Date().toLocaleString("bn-BD"),supplierName:n.supplierName,mobileNumber:n.countryCode+n.mobileNumber,address:n.address,items:h,subTotal:he,discount:Number(V)||0,deliveryCharge:Number(k)||0,grandTotal:me,paidAmount:n.cashPaid,dueAmount:d,paymentType:"due",buyerName:"admin"}),le(!1),Y(!0),v.success("Purchase saved!"),c){const xe=await ye.getProducts(c);u(xe||[])}}catch(s){console.error("Error:",s),v.error("Failed to save purchase")}finally{H(!1)}},tt=()=>{Y(!1),ge(null),Fe(),at()},at=()=>{_({dateOfPurchase:new Date().toISOString().split("T")[0],amount:0,cashPaid:0,note:"",supplierName:"",mobileNumber:"",countryCode:"+88",address:"",customInvoiceNumber:!1,invoiceNumber:"",employeeInfo:!1,employeeName:"",employeeNumber:"",sendSMS:!1})},rt=async s=>{const d=s.target.files?.[0];if(d){if(d.size>5*1024*1024){v.error("Image size should be less than 5MB");return}try{const X=new FormData;X.append("file",d),X.append("tenantId",c||"default");const xe=await fetch("https://allinbangla.com/api/upload",{method:"POST",body:X});if(xe.ok){const be=await xe.json();de(Ze=>({...Ze,image:be.url||be.imageUrl})),v.success("Image uploaded")}else{const be=new FileReader;be.onload=()=>de(Ze=>({...Ze,image:be.result})),be.readAsDataURL(d)}}catch{const se=new FileReader;se.onload=()=>de(xe=>({...xe,image:se.result})),se.readAsDataURL(d)}}},nt=async()=>{if(!D.name.trim()){v.error("Product name is required");return}if(!c){v.error("Tenant ID is required");return}o(!0);try{const s={name:D.name,price:D.sellPrice,costPrice:D.purchasePrice,stock:D.currentStock,category:D.category,subCategory:D.subCategory,description:D.description,image:D.image,unit:D.unit,status:"active",sku:`SKU-${Date.now().toString(36).toUpperCase()}`};if(!(await fetch("/api/products",{method:"POST",headers:{"Content-Type":"application/json","X-Tenant-Id":c,...pe()},body:JSON.stringify(s)})).ok)throw new Error("Failed to add product");v.success("Product added successfully!");const X=await ye.getProducts(c);u(X||[]),Xe(),fe(!1)}catch{v.error("Failed to add product")}finally{o(!1)}},Xe=()=>{de({name:"",currentStock:0,purchasePrice:0,sellPrice:0,unit:"",category:"",subCategory:"",description:"",sellOnline:!1,sellInBulk:!1,lowStockAlert:!1,vatApplicable:!1,warranty:!1,discount:!1,barcode:!1,image:""})},lt=()=>{window.print()},it=t.useMemo(()=>j.reduce((s,d)=>s+(d.totalAmount||0),0),[j]),ot=t.useMemo(()=>{const s={};return j.forEach(d=>{const X=new Date(d.createdAt).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});s[X]||(s[X]=[]),s[X].push(d)}),s},[j]),dt=["Pieces","Kg","Gram","Liter","ML","Meter","Box","Pack","Set","Pair"];return W?e.jsxs("div",{className:"p-2 sm:p-3 md:p-4 lg:p-6 bg-white min-h-screen",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-4 sm:mb-6",children:[e.jsxs("button",{onClick:()=>G(!1),className:"flex items-center gap-1.5 sm:gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(hs,{className:"w-4 h-4 sm:w-5 sm:h-5"}),e.jsx("span",{className:"font-semibold text-sm sm:text-base",children:"Purchase Report"})]}),e.jsxs("div",{className:"flex flex-col xs:flex-row items-stretch xs:items-center gap-2 sm:gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center gap-1.5 px-3 sm:px-4 py-1.5 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-xs sm:text-sm",children:[e.jsx(cs,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Download/Print"}),e.jsx("span",{className:"xs:hidden",children:"Print"})]}),e.jsxs("div",{className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-gray-100 rounded-lg font-medium text-xs sm:text-sm text-center xs:text-left",children:["Total: ",e.jsxs("span",{className:"text-blue-600",children:["৳",it.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("input",{type:"date",className:"flex-1 xs:flex-initial px-2 sm:px-3 py-1.5 sm:py-2 border rounded-lg text-xs sm:text-sm min-w-0",value:I.start,onChange:s=>U(d=>({...d,start:s.target.value}))}),e.jsx("span",{className:"text-xs sm:text-sm",children:"-"}),e.jsx("input",{type:"date",className:"flex-1 xs:flex-initial px-2 sm:px-3 py-1.5 sm:py-2 border rounded-lg text-xs sm:text-sm min-w-0",value:I.end,onChange:s=>U(d=>({...d,end:s.target.value}))})]}),e.jsxs("button",{onClick:Ne,className:"flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 border rounded-lg hover:bg-gray-50 text-xs sm:text-sm",children:[e.jsx(We,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),Object.entries(ot).map(([s,d])=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h3",{className:"text-blue-600 font-medium",children:s}),e.jsxs("span",{className:"text-blue-600",children:["Total Purchase: ৳",d.reduce((X,se)=>X+se.totalAmount,0).toLocaleString()]})]}),e.jsx("div",{className:"space-y-3",children:d.map(X=>e.jsx("div",{className:"p-4 border rounded-lg hover:shadow-sm transition",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-500 text-sm",children:["#",X.purchaseNumber]}),e.jsxs("p",{className:"text-blue-600 font-medium",children:["Total Price: ৳",X.totalAmount]}),e.jsxs("p",{className:"text-blue-600",children:["Total Item: ",X.items?.length||0]}),e.jsx("p",{className:"text-gray-500 text-sm",children:new Date(X.createdAt).toLocaleString()})]}),e.jsxs("div",{className:"text-right",children:[X.supplierName&&e.jsxs("p",{className:"text-gray-600",children:["Supplier Name: ",X.supplierName]}),e.jsx("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium mt-2 ${X.paymentType==="cash"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:X.paymentType?.toUpperCase()||"CASH"})]})]})},X._id))})]},s)),j.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(ms,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No purchase records found"})]})]}):e.jsxs("div",{className:"p-2 sm:p-3 md:p-4 bg-white min-h-screen relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[e.jsx("h1",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"Purchase"}),e.jsx("button",{onClick:()=>G(!0),className:"text-blue-600 hover:text-blue-700 text-xs sm:text-sm font-medium",children:"View Purchase Report →"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 md:gap-6",children:[e.jsxs("div",{className:"bg-white border rounded-lg",children:[e.jsxs("div",{className:"p-2 sm:p-3 border-b",children:[e.jsx("h2",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-2 sm:mb-3",children:"Select Products to Purchase"}),e.jsxs("div",{className:"flex gap-1 sm:gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(_e,{className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:x,onChange:s=>p(s.target.value),className:"w-full pl-7 sm:pl-9 pr-2 sm:pr-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"})]}),N&&e.jsx("input",{type:"text",placeholder:"Barcode",value:f,onChange:s=>F(s.target.value),onKeyPress:s=>s.key==="Enter"&&O(),autoFocus:!0,className:"flex-1 px-2 sm:px-4 py-1.5 sm:py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"}),e.jsx("button",{onClick:()=>b(!N),className:`p-1.5 sm:p-2 border rounded-lg transition ${N?"border-blue-500 bg-blue-50 text-blue-600":"border-gray-300 hover:bg-gray-50"}`,children:e.jsx(Ts,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>fe(!0),className:"p-1.5 sm:p-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:e.jsx(qs,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})]})]}),e.jsx("div",{className:"max-h-[400px] sm:max-h-[500px] md:max-h-[600px] overflow-y-auto",children:r.map(s=>{const d=Ks(s.id);return e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 p-2 sm:p-3 border-b hover:bg-gray-50",children:[e.jsx("img",{src:s.image||"/placeholder.png",alt:s.name,className:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-lg bg-gray-100",onError:X=>{X.target.src="/placeholder.png"}}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xs sm:text-sm font-medium text-blue-600 truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 mt-0.5 sm:mt-1",children:[e.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["Price: ",s.costPrice||s.price]}),e.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["Stock: ",s.stock||0]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>m(s),className:"flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1.5 sm:py-2 bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] text-white rounded-lg hover:from-[#2BAEE8] hover:to-[#1A7FE8] text-xs sm:text-sm font-medium",children:["Add ",e.jsx(ve,{className:"w-3 h-3 sm:w-4 sm:h-4"})]}),d>0&&e.jsx("span",{className:"absolute -top-1 sm:-to p-2 -right-1 sm:-right-2 w-4 h-4 sm:w-5 sm:h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:d})]})]},s.id)})})]}),e.jsxs("div",{className:"bg-white border rounded-lg flex flex-col",children:[e.jsxs("div",{className:"p-2 sm:p-3 border-b flex items-center justify-between",children:[e.jsxs("h2",{className:"text-sm sm:text-base font-semibold text-gray-900",children:["Selected Products: (",h.length,")"]}),h.length>0&&e.jsx("button",{onClick:Fe,className:"text-xs sm:text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Clear cart"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto max-h-[250px] sm:max-h-[300px] md:max-h-[350px]",children:h.length===0?e.jsxs("div",{className:"p-4 sm:p-6 md:p-8 text-center text-gray-500",children:[e.jsx($s,{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 mx-auto mb-2 sm:mb-3 text-gray-300"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"No products selected"}),e.jsx("p",{className:"text-xs mt-1",children:"Add products from the left panel"})]}):h.map(s=>e.jsx("div",{className:"p-2 sm:p-3 border-b",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx("img",{src:s.productImage||"/placeholder.png",alt:s.productName,className:"w-10 h-10 sm:w-12 sm:h-12 md:w-14 md:h-14 object-cover rounded-lg bg-gray-100"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-1 sm:gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xs sm:text-sm font-medium truncate",children:s.productName}),e.jsxs("span",{className:"inline-block px-1.5 sm:px-2 py-0.5 bg-teal-100 text-teal-700 text-xs rounded mt-0.5 sm:mt-1",children:["Stock ",s.stock]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[e.jsx("input",{type:"text",value:s.sku,onChange:d=>ce(s.productId,"sku",d.target.value),className:"w-24 sm:w-28 md:w-32 px-1.5 sm:px-2 py-1 sm:py-1.5 border border-gray-300 rounded text-sm",placeholder:"SKU"}),e.jsx("button",{className:"p-1 sm:p-1.5 border border-gray-300 rounded hover:bg-gray-50",children:e.jsx(Ts,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-500"})}),e.jsxs("button",{className:"p-1 sm:p-1.5 border border-gray-300 rounded hover:bg-gray-50 flex items-center text-xs text-gray-600",children:[e.jsx(as,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"hidden sm:inline ml-1",children:"expire"})]}),e.jsx("button",{onClick:()=>ke(s.productId),className:"p-1 sm:p-1.5 text-red-500 hover:bg-red-50 rounded",children:e.jsx(je,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1.5 sm:gap-2 md:gap-3 mt-1.5 sm:mt-2 md:mt-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-red-500 font-medium",children:"Quantity *"}),e.jsx("input",{type:"number",min:"1",value:s.quantity,onChange:d=>ce(s.productId,"quantity",Number(d.target.value)||1),className:"w-full mt-0.5 sm:mt-1 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 md:py-2 border border-gray-300 rounded-lg text-xs sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-red-500 font-medium",children:"Price *"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:s.price,onChange:d=>ce(s.productId,"price",Number(d.target.value)||0),className:"w-full mt-0.5 sm:mt-1 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 md:py-2 border border-gray-300 rounded-lg text-xs sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-red-500 font-medium",children:"Total *"}),e.jsx("input",{type:"text",value:s.total.toFixed(2),readOnly:!0,className:"w-full mt-0.5 sm:mt-1 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 md:py-2 border border-gray-200 rounded-lg text-xs sm:text-sm bg-gray-50"})]})]})]})]})},s.productId))}),e.jsx("div",{className:"flex justify-center py-1 sm:py-2 border-t",children:e.jsx("button",{className:"p-0.5 sm:p-1 rounded-full bg-gray-100 hover:bg-gray-200",children:e.jsx(ve,{className:"w-4 h-4 sm:w-5 sm:h-5 text-gray-600"})})}),e.jsxs("div",{className:"p-2 sm:p-3 md:p-4 border-t bg-gray-50",children:[e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 md:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total"}),e.jsxs("span",{className:"font-medium",children:["৳ ",he.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Discount"}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("input",{type:"number",min:"0",value:V,onChange:s=>R(s.target.value),className:"w-20 sm:w-24 md:w-28 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 border border-gray-300 rounded text-sm text-right"}),e.jsxs("select",{className:"px-1 sm:px-2 py-1 sm:py-1.5 border border-gray-300 rounded text-sm",children:[e.jsx("option",{children:"৳"}),e.jsx("option",{children:"%"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Charge"}),e.jsx("input",{type:"number",min:"0",value:k,onChange:s=>Q(s.target.value),className:"w-20 sm:w-24 md:w-28 px-1.5 sm:px-2 md:px-3 py-1 sm:py-1.5 border border-gray-300 rounded text-sm text-right"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 sm:pt-3 border-t",children:[e.jsx("span",{className:"text-base sm:text-lg font-semibold",children:"Grand Total"}),e.jsxs("span",{className:"text-lg sm:text-xl font-bold text-blue-600",children:["৳ ",me.toFixed(2)]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:gap-4 mt-2 sm:mt-3 md:mt-4",children:[e.jsxs("button",{onClick:Qs,disabled:h.length===0,className:`py-2 sm:py-2.5 md:py-3 px-2 sm:px-3 md:px-4 rounded-lg font-medium text-white flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm ${h.length===0?"bg-gray-400 cursor-not-allowed":"bg-gray-800 hover:bg-gray-900"}`,children:["Cash ",e.jsx(Be,{className:"w-3 h-3 sm:w-4 sm:h-4"})]}),e.jsxs("button",{onClick:Ys,disabled:h.length===0,className:`py-2 sm:py-2.5 md:py-3 px-2 sm:px-3 md:px-4 rounded-lg font-medium text-white flex items-center justify-center gap-1 sm:gap-2 text-xs sm:text-sm ${h.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:["Due ",e.jsx(Be,{className:"w-3 h-3 sm:w-4 sm:h-4"})]})]})]})]})]}),Z&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>E(!1)}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Confirm Payment"}),e.jsx("button",{onClick:()=>E(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Purchase"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:n.dateOfPurchase,onChange:s=>_(d=>({...d,dateOfPurchase:s.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg"}),e.jsx(as,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Amount ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:n.amount,readOnly:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Note"}),e.jsx("input",{type:"text",value:n.note,onChange:s=>_(d=>({...d,note:s.target.value})),placeholder:"Note",className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n.supplierName,onChange:s=>_(d=>({...d,supplierName:s.target.value})),placeholder:"Supplier Name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg pr-10"}),e.jsx(Re,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Number"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:n.countryCode,onChange:s=>_(d=>({...d,countryCode:s.target.value})),className:"px-3 py-3 border border-gray-300 rounded-lg bg-white",children:[e.jsx("option",{value:"+88",children:"🇧🇩 +88"}),e.jsx("option",{value:"+91",children:"🇮🇳 +91"}),e.jsx("option",{value:"+1",children:"🇺🇸 +1"})]}),e.jsx("input",{type:"text",value:n.mobileNumber,onChange:s=>_(d=>({...d,mobileNumber:s.target.value})),placeholder:"XXXXXXXXXXX",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",value:n.address,onChange:s=>_(d=>({...d,address:s.target.value})),placeholder:"Address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-sm font-medium",children:"Custom Invoice Number"}),e.jsx("button",{onClick:()=>_(s=>({...s,customInvoiceNumber:!s.customInvoiceNumber})),className:`relative w-12 h-6 rounded-full transition-colors ${n.customInvoiceNumber?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${n.customInvoiceNumber?"translate-x-7":"translate-x-1"}`})})]}),n.customInvoiceNumber&&e.jsx("input",{type:"text",value:n.invoiceNumber,onChange:s=>_(d=>({...d,invoiceNumber:s.target.value})),placeholder:"Enter Invoice Number",className:"w-full px-4 py-3 border border-gray-300 rounded-lg"}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-sm font-medium",children:"Employee Information"}),e.jsx("button",{onClick:()=>_(s=>({...s,employeeInfo:!s.employeeInfo})),className:`relative w-12 h-6 rounded-full transition-colors ${n.employeeInfo?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${n.employeeInfo?"translate-x-7":"translate-x-1"}`})})]}),n.employeeInfo&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n.employeeName,onChange:s=>_(d=>({...d,employeeName:s.target.value})),placeholder:"Employee",className:"w-full px-4 py-3 border border-gray-300 rounded-lg pr-10"}),e.jsx(Re,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Number"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{className:"px-3 py-3 border border-gray-300 rounded-lg bg-white",children:e.jsx("option",{children:"🇧🇩 +88"})}),e.jsx("input",{type:"text",value:n.employeeNumber,onChange:s=>_(d=>({...d,employeeNumber:s.target.value})),placeholder:"XXXXXXXXXXX",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg"})]})]})]})]}),e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("button",{onClick:()=>_(s=>({...s,sendSMS:!s.sendSMS})),className:`relative w-12 h-6 rounded-full transition-colors ${n.sendSMS?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${n.sendSMS?"translate-x-7":"translate-x-1"}`})}),e.jsx("span",{className:"text-sm",children:"Send SMS"}),e.jsx("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-0.5 rounded",children:"💬 SMS Balance 30"})]}),e.jsx("button",{onClick:et,disabled:y,className:`w-full py-3 px-4 rounded-lg font-medium text-white ${y?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:y?"Processing...":"Confirm Payment"})]})]})]}),ae&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>le(!1)}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Money Given Entry"}),e.jsx("button",{onClick:()=>le(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>ie("customer"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition ${oe==="customer"?"bg-white shadow":"text-gray-600"}`,children:"CUSTOMER"}),e.jsx("button",{onClick:()=>ie("supplier"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition ${oe==="supplier"?"bg-white shadow":"text-gray-600"}`,children:"SUPPLIER"})]}),e.jsx("div",{className:"bg-gray-100 rounded-lg py-3 text-center",children:e.jsxs("span",{className:"font-medium",children:["Total payable ",me.toFixed(0)]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Purchase"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:n.dateOfPurchase,onChange:s=>_(d=>({...d,dateOfPurchase:s.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg"}),e.jsx(as,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Cash Paid ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:n.cashPaid,onChange:s=>_(d=>({...d,cashPaid:Number(s.target.value)||0})),placeholder:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Supplier Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n.supplierName,onChange:s=>_(d=>({...d,supplierName:s.target.value})),placeholder:"Supplier Name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg pr-10"}),e.jsx(Re,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Mobile Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("select",{value:n.countryCode,onChange:s=>_(d=>({...d,countryCode:s.target.value})),className:"px-3 py-3 border border-gray-300 rounded-lg bg-white",children:e.jsx("option",{value:"+88",children:"🇧🇩 +88"})}),e.jsx("input",{type:"text",value:n.mobileNumber,onChange:s=>_(d=>({...d,mobileNumber:s.target.value})),placeholder:"XXXXXXXXXXX",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("input",{type:"text",value:n.address,onChange:s=>_(d=>({...d,address:s.target.value})),placeholder:"Address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:n.note,onChange:s=>_(d=>({...d,note:s.target.value})),placeholder:"Note",className:"w-full px-4 py-3 border border-gray-300 rounded-lg pr-10"}),e.jsx(We,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-sm font-medium",children:"Custom Invoice Number"}),e.jsx("button",{onClick:()=>_(s=>({...s,customInvoiceNumber:!s.customInvoiceNumber})),className:`relative w-12 h-6 rounded-full transition-colors ${n.customInvoiceNumber?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${n.customInvoiceNumber?"translate-x-7":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsx("span",{className:"text-sm font-medium",children:"Employee Information"}),e.jsx("button",{onClick:()=>_(s=>({...s,employeeInfo:!s.employeeInfo})),className:`relative w-12 h-6 rounded-full transition-colors ${n.employeeInfo?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${n.employeeInfo?"translate-x-7":"translate-x-1"}`})})]})]}),e.jsxs("div",{className:"p-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx("button",{onClick:()=>_(s=>({...s,sendSMS:!s.sendSMS})),className:`relative w-12 h-6 rounded-full transition-colors ${n.sendSMS?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("span",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${n.sendSMS?"translate-x-7":"translate-x-1"}`})}),e.jsx("span",{className:"text-sm",children:"Send SMS"}),e.jsx("span",{className:"text-sm text-green-600 bg-green-100 px-2 py-0.5 rounded",children:"💬 SMS Balance 30"})]}),e.jsx("button",{onClick:st,disabled:y,className:`w-full py-3 px-4 rounded-lg font-medium text-white ${y?"bg-gray-400":"bg-gray-800 hover:bg-gray-900"}`,children:y?"Processing...":"Save"})]})]})]}),C&&te&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-green-600",children:"Successful"}),e.jsx("button",{onClick:tt,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6",id:"invoice-content",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:S?.name||"Store Name"}),e.jsx("p",{className:"text-sm text-gray-600",children:S?.address||"Store Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:S?.phone||"Store Phone"})]}),e.jsx("h4",{className:"text-center text-lg font-bold mb-4",children:"ইনভয়েস"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"সাপ্লায়ার:"})," ",te.supplierName||"[দেওয়া হয়নি]"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"কিনেছেন:"})," ",te.buyerName]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"মোবাইল:"})," ",te.mobileNumber||"[দেওয়া হয়নি]"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"ইনভয়েস নম্বর:"})," ",te.invoiceNumber]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"ঠিকানা:"})," ",te.address||"[দেওয়া হয়নি]"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-gray-600",children:"তারিখ:"})," ",te.date]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm mb-4 border",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 border text-left",children:"#"}),e.jsx("th",{className:"p-2 border text-left",children:"পণ্যের নাম"}),e.jsx("th",{className:"p-2 border text-center",children:"পরিমাণ"}),e.jsx("th",{className:"p-2 border text-center",children:"ইউনিট"}),e.jsx("th",{className:"p-2 border text-right",children:"ইউনিট মূল্য"}),e.jsx("th",{className:"p-2 border text-right",children:"মোট"})]})}),e.jsxs("tbody",{children:[te.items.map((s,d)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"p-2 border",children:[d+1,"."]}),e.jsxs("td",{className:"p-2 border",children:[e.jsx("div",{children:s.productName}),e.jsxs("div",{className:"text-xs text-gray-500",children:["বারকোড: ",s.sku]})]}),e.jsx("td",{className:"p-2 border text-center",children:s.quantity}),e.jsx("td",{className:"p-2 border text-center",children:"পিস"}),e.jsxs("td",{className:"p-2 border text-right",children:["৳",s.price.toFixed(2)]}),e.jsxs("td",{className:"p-2 border text-right",children:["৳",s.total.toFixed(2)]})]},s.productId)),e.jsxs("tr",{className:"font-medium",children:[e.jsx("td",{colSpan:3,className:"p-2 border text-center",children:"মোট"}),e.jsx("td",{className:"p-2 border text-center",children:te.items.reduce((s,d)=>s+d.quantity,0)}),e.jsx("td",{className:"p-2 border"}),e.jsxs("td",{className:"p-2 border text-right",children:["৳",te.subTotal.toFixed(2)]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("p",{children:["পূর্বের বাকি: ",e.jsx("span",{className:"text-blue-600",children:"৳ 0"})]}),e.jsxs("p",{children:["বর্তমান বাকি: ",e.jsx("span",{className:"text-blue-600",children:"৳ 0"})]}),e.jsxs("p",{children:["টোটাল বাকি: ",e.jsx("span",{className:"text-blue-600",children:"৳ 0"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{children:["সাব টোটাল: ৳",te.subTotal.toFixed(2)]}),e.jsxs("p",{children:["(-) ছাড়: ৳",te.discount]}),e.jsxs("p",{children:["ডেলিভারি: ৳",te.deliveryCharge]}),e.jsxs("p",{className:"font-medium",children:["মোট: ৳",te.grandTotal.toFixed(2)]}),e.jsxs("p",{children:["পরিশোধিত: ৳",te.paidAmount.toFixed(2)]}),e.jsxs("p",{children:["বাকি আছে: ",e.jsxs("span",{className:"text-blue-600",children:["৳",te.dueAmount.toFixed(2)]})]})]})]}),e.jsx("p",{className:"text-sm mt-4",children:"এমাউন্ট (কথায়):"})]}),e.jsx("div",{className:"p-4 border-t",children:e.jsxs("button",{onClick:lt,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 flex items-center justify-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5"}),"Print"]})})]})}),Te&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40",onClick:()=>{fe(!1),Xe()}}),e.jsxs("div",{className:"fixed inset-y-0 right-0 w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Add Product"}),e.jsx("button",{onClick:()=>{fe(!1),Xe()},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(je,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.jsx("div",{onClick:()=>g.current?.click(),className:"w-full h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-gray-400",children:D.image?e.jsx("img",{src:D.image,alt:"Preview",className:"h-full w-full object-contain rounded-lg"}):e.jsxs(e.Fragment,{children:[e.jsx(ps,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-blue-600",children:"Click to upload"}),e.jsx("span",{className:"text-xs text-gray-500",children:"JPG, PNG up to 5MB"})]})}),e.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:rt,className:"hidden"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:D.name,onChange:s=>de(d=>({...d,name:s.target.value})),placeholder:"Product Name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Stock"}),e.jsx("input",{type:"number",value:D.currentStock,onChange:s=>de(d=>({...d,currentStock:Number(s.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price"}),e.jsx("input",{type:"number",value:D.purchasePrice,onChange:s=>de(d=>({...d,purchasePrice:Number(s.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Sell Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:D.sellPrice,onChange:s=>de(d=>({...d,sellPrice:Number(s.target.value)||0})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Units"}),e.jsxs("select",{value:D.unit,onChange:s=>de(d=>({...d,unit:s.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Select Unit"}),dt.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:D.category,onChange:s=>de(d=>({...d,category:s.target.value,subCategory:""})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"",children:"Select Category"}),A.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sub-Category"}),e.jsxs("select",{value:D.subCategory,onChange:s=>de(d=>({...d,subCategory:s.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg",disabled:!D.category,children:[e.jsx("option",{value:"",children:"Select Sub-Category"}),z.map(s=>e.jsx("option",{value:s.name,children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:D.description,onChange:s=>de(d=>({...d,description:s.target.value})),placeholder:"Product description",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"p-4 border-t flex gap-3",children:[e.jsx("button",{onClick:()=>{fe(!1),Xe()},className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{onClick:nt,disabled:Se||!D.name.trim(),className:`flex-1 py-3 px-4 rounded-lg font-medium text-white ${Se||!D.name.trim()?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"}`,children:Se?"Adding...":"Add New Product"})]})]})]}),ee&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Confirm Cash Payment"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-1",children:"Are you sure you want to proceed with cash payment?"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mb-4 sm:mb-6",children:["Total Amount: ",e.jsxs("span",{className:"font-bold text-blue-600",children:["৳ ",me.toFixed(2)]}),e.jsx("br",{}),"Items: ",e.jsxs("span",{className:"font-medium",children:[h.length," product(s)"]})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>re(!1),className:"flex-1 py-2 sm:py-2.5 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 text-sm sm:text-base",children:"Cancel"}),e.jsx("button",{onClick:Js,className:"flex-1 py-2 sm:py-2.5 px-4 bg-gray-800 text-white rounded-lg font-medium hover:bg-gray-900 text-sm sm:text-base",children:"Confirm"})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-4 sm:p-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2 sm:mb-3",children:"Confirm Due Payment"}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-1",children:"Are you sure you want to proceed with due payment?"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mb-4 sm:mb-6",children:["Total Amount: ",e.jsxs("span",{className:"font-bold text-blue-600",children:["৳ ",me.toFixed(2)]}),e.jsx("br",{}),"Items: ",e.jsxs("span",{className:"font-medium",children:[h.length," product(s)"]})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>J(!1),className:"flex-1 py-2 sm:py-2.5 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 text-sm sm:text-base",children:"Cancel"}),e.jsx("button",{onClick:Zs,className:"flex-1 py-2 sm:py-2.5 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 text-sm sm:text-base",children:"Confirm"})]})]})})]})},Qa=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"}));export{Ra as A,Ba as a,Ea as b,Oa as c,$a as d,Wa as e,Ua as f,Xa as g,Ha as h,qa as i,Ga as j,Va as k,Ka as l,Qa as m};
