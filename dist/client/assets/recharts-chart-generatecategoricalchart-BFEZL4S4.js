import{R as X,r as _}from"./react-core-KcGD0Z1V.js";import{t as ue,b as V,g as pt,a as vt,c as pe,r as Pt}from"./pkg-lodash-CH_GMSlH.js";import{c as ve}from"./pkg-clsx-B-dksMZM.js";import{i as fe}from"./pkg-tiny-invariant-BaFNuDhB.js";import{S as zt}from"./recharts-container-surface-B1pxCyr0.js";import{L as he}from"./recharts-container-layer-zUiNMosr.js";import{T as et}from"./recharts-component-tooltip-CT2QRPIL.js";import{L as ye}from"./recharts-component-legend-DNyBi4NO.js";import{D as ge}from"./recharts-shape-dot-XvSm0ov4.js";import{i as xe}from"./recharts-shape-rectangle-CWuur83B.js";import{g as me,b as Y,f as Wt,c as Ht,d as At,v as _t,r as Yt,a as ae,p as Ie}from"./recharts-util-reactutils-Is6lFQr1.js";import{B as Mt}from"./recharts-cartesian-brush-IGJ9ENbJ.js";import{a as Ae}from"./recharts-util-domutils-CpG4EuV8.js";import{u as Me,g as nt,a as ft,f as wt,h as be}from"./recharts-util-datautils-CozywqZh.js";import{e as ut,i as mt,j as Te,k as Ee,c as ke,l as Oe,m as Se,n as Dt,o as Ce,p as Pe,q as we,r as Bt,s as Ot,u as Ut,v as De,w as re,x as ie,y as ne}from"./recharts-util-chartutils-xkzwGM0S.js";import{d as Lt}from"./recharts-util-detectreferenceelementsdomain-Bq6b8DLL.js";import{i as Xt,p as Ft}from"./recharts-util-polarutils-BkfcQsLh.js";import{s as Be}from"./recharts-util-shallowequal-DtegYOaT.js";import{e as St,S as Ct}from"./recharts-util-events-B2jJkyB5.js";import{b as $t}from"./recharts-util-types-TQdZ910Z.js";import{A as Le}from"./recharts-chart-accessibilitymanager-WhgZg7Ak.js";import{i as Ge}from"./recharts-util-isdomainspecifiedbyuser-BpKFYaHU.js";import{i as Re,a as Ne,b as qt,g as je}from"./recharts-util-activeshapeutils-Drwk7ebA.js";import{C as Ke}from"./recharts-component-cursor-Bvli-adJ.js";import{C as ze}from"./recharts-es6-context-C_jymOAj.js";import{g as We}from"./recharts-util-getlegendprops-C-SxjwYw.js";var He=["item"],_e=["children","className","width","height","style","compact","title","desc"];function ot(r){"@babel/helpers - typeof";return ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ot(r)}function ht(){return ht=Object.assign?Object.assign.bind():function(r){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&(r[d]=n[d])}return r},ht.apply(this,arguments)}function Vt(r,a){return Xe(r)||Ue(r,a)||se(r,a)||Ye()}function Ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(r,a){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var d,x,I,O,C=[],L=!0,D=!1;try{if(I=(n=n.call(r)).next,a!==0)for(;!(L=(d=I.call(n)).done)&&(C.push(d.value),C.length!==a);L=!0);}catch(B){D=!0,x=B}finally{try{if(!L&&n.return!=null&&(O=n.return(),Object(O)!==O))return}finally{if(D)throw x}}return C}}function Xe(r){if(Array.isArray(r))return r}function Jt(r,a){if(r==null)return{};var n=Fe(r,a),d,x;if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(r);for(x=0;x<I.length;x++)d=I[x],!(a.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(r,d)&&(n[d]=r[d])}return n}function Fe(r,a){if(r==null)return{};var n={},d=Object.keys(r),x,I;for(I=0;I<d.length;I++)x=d[I],!(a.indexOf(x)>=0)&&(n[x]=r[x]);return n}function $e(r,a){if(!(r instanceof a))throw new TypeError("Cannot call a class as a function")}function qe(r,a){for(var n=0;n<a.length;n++){var d=a[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(r,le(d.key),d)}}function Ve(r,a,n){return a&&qe(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),r}function Je(r,a,n){return a=bt(a),Qe(r,oe()?Reflect.construct(a,n||[],bt(r).constructor):a.apply(r,n))}function Qe(r,a){if(a&&(ot(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return w(r)}function oe(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oe=function(){return!!r})()}function bt(r){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bt(r)}function w(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Ze(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(a&&a.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),a&&Gt(r,a)}function Gt(r,a){return Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,x){return d.__proto__=x,d},Gt(r,a)}function st(r){return aa(r)||ea(r)||se(r)||ta()}function ta(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function se(r,a){if(r){if(typeof r=="string")return Rt(r,a);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rt(r,a)}}function ea(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function aa(r){if(Array.isArray(r))return Rt(r)}function Rt(r,a){(a==null||a>r.length)&&(a=r.length);for(var n=0,d=new Array(a);n<a;n++)d[n]=r[n];return d}function Qt(r,a){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(r);a&&(d=d.filter(function(x){return Object.getOwnPropertyDescriptor(r,x).enumerable})),n.push.apply(n,d)}return n}function s(r){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{};a%2?Qt(Object(n),!0).forEach(function(d){M(r,d,n[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach(function(d){Object.defineProperty(r,d,Object.getOwnPropertyDescriptor(n,d))})}return r}function M(r,a,n){return a=le(a),a in r?Object.defineProperty(r,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[a]=n,r}function le(r){var a=ra(r,"string");return ot(a)=="symbol"?a:String(a)}function ra(r,a){if(ot(r)!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var d=n.call(r,a);if(ot(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(r)}var ia={xAxis:["bottom","top"],yAxis:["left","right"]},na={width:"100%",height:"100%"},ce={x:0,y:0};function It(r){return r}var oa=function(a,n){return n==="horizontal"?a.x:n==="vertical"?a.y:n==="centric"?a.angle:a.radius},sa=function(a,n,d,x){var I=n.find(function(B){return B&&B.index===d});if(I){if(a==="horizontal")return{x:I.coordinate,y:x.y};if(a==="vertical")return{x:x.x,y:I.coordinate};if(a==="centric"){var O=I.coordinate,C=x.radius;return s(s(s({},x),Ft(x.cx,x.cy,C,O)),{},{angle:O,radius:C})}var L=I.coordinate,D=x.angle;return s(s(s({},x),Ft(x.cx,x.cy,L,D)),{},{angle:D,radius:L})}return ce},Tt=function(a,n){var d=n.graphicalItems,x=n.dataStartIndex,I=n.dataEndIndex,O=(d??[]).reduce(function(C,L){var D=L.props.data;return D&&D.length?[].concat(st(C),st(D)):C},[]);return O.length>0?O:a&&a.length&&ft(x)&&ft(I)?a.slice(x,I+1):[]};function de(r){return r==="number"?[0,"auto"]:void 0}var Nt=function(a,n,d,x){var I=a.graphicalItems,O=a.tooltipAxis,C=Tt(n,a);return d<0||!I||!I.length||d>=C.length?null:I.reduce(function(L,D){var B,R=(B=D.props.data)!==null&&B!==void 0?B:n;R&&a.dataStartIndex+a.dataEndIndex!==0&&(R=R.slice(a.dataStartIndex,a.dataEndIndex+1));var N;if(O.dataKey&&!O.allowDuplicatedCategory){var j=R===void 0?C:R;N=wt(j,O.dataKey,x)}else N=R&&R[d]||C[d];return N?[].concat(st(L),[ke(D,N)]):L},[])},Zt=function(a,n,d,x){var I=x||{x:a.chartX,y:a.chartY},O=oa(I,d),C=a.orderedTooltipTicks,L=a.tooltipAxis,D=a.tooltipTicks,B=Oe(O,C,D,L);if(B>=0&&D){var R=D[B]&&D[B].value,N=Nt(a,n,B,R),j=sa(d,C,B,I);return{activeTooltipIndex:B,activeLabel:R,activePayload:N,activeCoordinate:j}}return null},la=function(a,n){var d=n.axes,x=n.graphicalItems,I=n.axisType,O=n.axisIdKey,C=n.stackGroups,L=n.dataStartIndex,D=n.dataEndIndex,B=a.layout,R=a.children,N=a.stackOffset,j=ne(B,I);return d.reduce(function(H,S){var g,y=S.props,c=y.type,u=y.dataKey,t=y.allowDataOverflow,e=y.allowDuplicatedCategory,i=y.scale,l=y.ticks,o=y.includeHidden,h=S.props[O];if(H[h])return H;var v=Tt(a.data,{graphicalItems:x.filter(function(P){return P.props[O]===h}),dataStartIndex:L,dataEndIndex:D}),b=v.length,p,A,f;Ge(S.props.domain,t,c)&&(p=Bt(S.props.domain,null,t),j&&(c==="number"||i!=="auto")&&(f=Ot(v,u,"category")));var T=de(c);if(!p||p.length===0){var m,E=(m=S.props.domain)!==null&&m!==void 0?m:T;if(u){if(p=Ot(v,u,c),c==="category"&&j){var G=be(p);e&&G?(A=p,p=Pt(0,b)):e||(p=Ut(E,p,S).reduce(function(P,W){return P.indexOf(W)>=0?P:[].concat(st(P),[W])},[]))}else if(c==="category")e?p=p.filter(function(P){return P!==""&&!vt(P)}):p=Ut(E,p,S).reduce(function(P,W){return P.indexOf(W)>=0||W===""||vt(W)?P:[].concat(st(P),[W])},[]);else if(c==="number"){var k=De(v,x.filter(function(P){return P.props[O]===h&&(o||!P.props.hide)}),u,I,B);k&&(p=k)}j&&(c==="number"||i!=="auto")&&(f=Ot(v,u,"category"))}else j?p=Pt(0,b):C&&C[h]&&C[h].hasStack&&c==="number"?p=N==="expand"?[0,1]:re(C[h].stackGroups,L,D):p=ie(v,x.filter(function(P){return P.props[O]===h&&(o||!P.props.hide)}),c,B,!0);if(c==="number")p=Lt(R,p,h,I,l),E&&(p=Bt(E,p,t));else if(c==="category"&&E){var z=E,K=p.every(function(P){return z.indexOf(P)>=0});K&&(p=z)}}return s(s({},H),{},M({},h,s(s({},S.props),{},{axisType:I,domain:p,categoricalDomain:f,duplicateDomain:A,originalDomain:(g=S.props.domain)!==null&&g!==void 0?g:T,isCategorical:j,layout:B})))},{})},ca=function(a,n){var d=n.graphicalItems,x=n.Axis,I=n.axisType,O=n.axisIdKey,C=n.stackGroups,L=n.dataStartIndex,D=n.dataEndIndex,B=a.layout,R=a.children,N=Tt(a.data,{graphicalItems:d,dataStartIndex:L,dataEndIndex:D}),j=N.length,H=ne(B,I),S=-1;return d.reduce(function(g,y){var c=y.props[O],u=de("number");if(!g[c]){S++;var t;return H?t=Pt(0,j):C&&C[c]&&C[c].hasStack?(t=re(C[c].stackGroups,L,D),t=Lt(R,t,c,I)):(t=Bt(u,ie(N,d.filter(function(e){return e.props[O]===c&&!e.props.hide}),"number",B),x.defaultProps.allowDataOverflow),t=Lt(R,t,c,I)),s(s({},g),{},M({},c,s(s({axisType:I},x.defaultProps),{},{hide:!0,orientation:pt(ia,"".concat(I,".").concat(S%2),null),domain:t,originalDomain:u,isCategorical:H,layout:B})))}return g},{})},da=function(a,n){var d=n.axisType,x=d===void 0?"xAxis":d,I=n.AxisComp,O=n.graphicalItems,C=n.stackGroups,L=n.dataStartIndex,D=n.dataEndIndex,B=a.children,R="".concat(x,"Id"),N=ae(B,I),j={};return N&&N.length?j=la(a,{axes:N,graphicalItems:O,axisType:x,axisIdKey:R,stackGroups:C,dataStartIndex:L,dataEndIndex:D}):O&&O.length&&(j=ca(a,{Axis:I,graphicalItems:O,axisType:x,axisIdKey:R,stackGroups:C,dataStartIndex:L,dataEndIndex:D})),j},ua=function(a){var n=nt(a),d=ut(n,!1,!0);return{tooltipTicks:d,orderedTooltipTicks:pe(d,function(x){return x.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Dt(n,d)}},te=function(a){var n=a.children,d=a.defaultShowTooltip,x=Y(n,Mt),I=0,O=0;return a.data&&a.data.length!==0&&(O=a.data.length-1),x&&x.props&&(x.props.startIndex>=0&&(I=x.props.startIndex),x.props.endIndex>=0&&(O=x.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:I,dataEndIndex:O,activeTooltipIndex:-1,isTooltipActive:!!d}},pa=function(a){return!a||!a.length?!1:a.some(function(n){var d=At(n&&n.type);return d&&d.indexOf("Bar")>=0})},ee=function(a){return a==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:a==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:a==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},va=function(a,n){var d=a.props,x=a.graphicalItems,I=a.xAxisMap,O=I===void 0?{}:I,C=a.yAxisMap,L=C===void 0?{}:C,D=d.width,B=d.height,R=d.children,N=d.margin||{},j=Y(R,Mt),H=Y(R,ye),S=Object.keys(L).reduce(function(e,i){var l=L[i],o=l.orientation;return!l.mirror&&!l.hide?s(s({},e),{},M({},o,e[o]+l.width)):e},{left:N.left||0,right:N.right||0}),g=Object.keys(O).reduce(function(e,i){var l=O[i],o=l.orientation;return!l.mirror&&!l.hide?s(s({},e),{},M({},o,pt(e,"".concat(o))+l.height)):e},{top:N.top||0,bottom:N.bottom||0}),y=s(s({},g),S),c=y.bottom;j&&(y.bottom+=j.props.height||Mt.defaultProps.height),H&&n&&(y=Se(y,x,d,n));var u=D-y.left-y.right,t=B-y.top-y.bottom;return s(s({brushBottom:c},y),{},{width:Math.max(u,0),height:Math.max(t,0)})},za=function(a){var n,d=a.chartName,x=a.GraphicalChild,I=a.defaultTooltipEventType,O=I===void 0?"axis":I,C=a.validateTooltipEventTypes,L=C===void 0?["axis"]:C,D=a.axisComponents,B=a.legendContent,R=a.formatAxisMap,N=a.defaultProps,j=function(g,y){var c=y.graphicalItems,u=y.stackGroups,t=y.offset,e=y.updateId,i=y.dataStartIndex,l=y.dataEndIndex,o=g.barSize,h=g.layout,v=g.barGap,b=g.barCategoryGap,p=g.maxBarSize,A=ee(h),f=A.numericAxisName,T=A.cateAxisName,m=pa(c),E=m&&Ce({barSize:o,stackGroups:u}),G=[];return c.forEach(function(k,z){var K=Tt(g.data,{graphicalItems:[k],dataStartIndex:i,dataEndIndex:l}),P=k.props,W=P.dataKey,F=P.maxBarSize,$=k.props["".concat(f,"Id")],Et=k.props["".concat(T,"Id")],J={},U=D.reduce(function(Z,tt){var kt=y["".concat(tt.axisType,"Map")],jt=k.props["".concat(tt.axisType,"Id")];kt&&kt[jt]||tt.axisType==="zAxis"||fe();var Kt=kt[jt];return s(s({},Z),{},M(M({},tt.axisType,Kt),"".concat(tt.axisType,"Ticks"),ut(Kt)))},J),yt=U[T],Q=U["".concat(T,"Ticks")],lt=u&&u[$]&&u[$].hasStack&&Pe(k,u[$].stackGroups),gt=At(k.type).indexOf("Bar")>=0,at=Dt(yt,Q),q=[];if(gt){var ct,rt,dt=vt(F)?p:F,it=(ct=(rt=Dt(yt,Q,!0))!==null&&rt!==void 0?rt:dt)!==null&&ct!==void 0?ct:0;q=we({barGap:v,barCategoryGap:b,bandSize:it!==at?it:at,sizeList:E[Et],maxBarSize:dt}),it!==at&&(q=q.map(function(Z){return s(s({},Z),{},{position:s(s({},Z.position),{},{offset:Z.position.offset-it/2})})}))}var xt=k&&k.type&&k.type.getComposedData;xt&&G.push({props:s(s({},xt(s(s({},U),{},{displayedData:K,props:g,dataKey:W,item:k,bandSize:at,barPosition:q,offset:t,stackedData:lt,layout:h,dataStartIndex:i,dataEndIndex:l}))),{},M(M(M({key:k.key||"item-".concat(z)},f,U[f]),T,U[T]),"animationId",e)),childIndex:Ie(k,g.children),item:k})}),G},H=function(g,y){var c=g.props,u=g.dataStartIndex,t=g.dataEndIndex,e=g.updateId;if(!_t({props:c}))return null;var i=c.children,l=c.layout,o=c.stackOffset,h=c.data,v=c.reverseStackOrder,b=ee(l),p=b.numericAxisName,A=b.cateAxisName,f=ae(i,x),T=Ee(h,f,"".concat(p,"Id"),"".concat(A,"Id"),o,v),m=D.reduce(function(K,P){var W="".concat(P.axisType,"Map");return s(s({},K),{},M({},W,da(c,s(s({},P),{},{graphicalItems:f,stackGroups:P.axisType===p&&T,dataStartIndex:u,dataEndIndex:t}))))},{}),E=va(s(s({},m),{},{props:c,graphicalItems:f}),y?.legendBBox);Object.keys(m).forEach(function(K){m[K]=R(c,m[K],E,K.replace("Map",""),d)});var G=m["".concat(A,"Map")],k=ua(G),z=j(c,s(s({},m),{},{dataStartIndex:u,dataEndIndex:t,updateId:e,graphicalItems:f,stackGroups:T,offset:E}));return s(s({formattedGraphicalItems:z,graphicalItems:f,offset:E,stackGroups:T},k),m)};return n=(function(S){Ze(g,S);function g(y){var c,u,t;return $e(this,g),t=Je(this,g,[y]),M(w(t),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),M(w(t),"accessibilityManager",new Le),M(w(t),"handleLegendBBoxUpdate",function(e){if(e){var i=t.state,l=i.dataStartIndex,o=i.dataEndIndex,h=i.updateId;t.setState(s({legendBBox:e},H({props:t.props,dataStartIndex:l,dataEndIndex:o,updateId:h},s(s({},t.state),{},{legendBBox:e}))))}}),M(w(t),"handleReceiveSyncEvent",function(e,i,l){if(t.props.syncId===e){if(l===t.eventEmitterSymbol&&typeof t.props.syncMethod!="function")return;t.applySyncEvent(i)}}),M(w(t),"handleBrushChange",function(e){var i=e.startIndex,l=e.endIndex;if(i!==t.state.dataStartIndex||l!==t.state.dataEndIndex){var o=t.state.updateId;t.setState(function(){return s({dataStartIndex:i,dataEndIndex:l},H({props:t.props,dataStartIndex:i,dataEndIndex:l,updateId:o},t.state))}),t.triggerSyncEvent({dataStartIndex:i,dataEndIndex:l})}}),M(w(t),"handleMouseEnter",function(e){var i=t.getMouseInfo(e);if(i){var l=s(s({},i),{},{isTooltipActive:!0});t.setState(l),t.triggerSyncEvent(l);var o=t.props.onMouseEnter;V(o)&&o(l,e)}}),M(w(t),"triggeredAfterMouseMove",function(e){var i=t.getMouseInfo(e),l=i?s(s({},i),{},{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(l),t.triggerSyncEvent(l);var o=t.props.onMouseMove;V(o)&&o(l,e)}),M(w(t),"handleItemMouseEnter",function(e){t.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),M(w(t),"handleItemMouseLeave",function(){t.setState(function(){return{isTooltipActive:!1}})}),M(w(t),"handleMouseMove",function(e){e.persist(),t.throttleTriggeredAfterMouseMove(e)}),M(w(t),"handleMouseLeave",function(e){t.throttleTriggeredAfterMouseMove.cancel();var i={isTooltipActive:!1};t.setState(i),t.triggerSyncEvent(i);var l=t.props.onMouseLeave;V(l)&&l(i,e)}),M(w(t),"handleOuterEvent",function(e){var i=me(e),l=pt(t.props,"".concat(i));if(i&&V(l)){var o,h;/.*touch.*/i.test(i)?h=t.getMouseInfo(e.changedTouches[0]):h=t.getMouseInfo(e),l((o=h)!==null&&o!==void 0?o:{},e)}}),M(w(t),"handleClick",function(e){var i=t.getMouseInfo(e);if(i){var l=s(s({},i),{},{isTooltipActive:!0});t.setState(l),t.triggerSyncEvent(l);var o=t.props.onClick;V(o)&&o(l,e)}}),M(w(t),"handleMouseDown",function(e){var i=t.props.onMouseDown;if(V(i)){var l=t.getMouseInfo(e);i(l,e)}}),M(w(t),"handleMouseUp",function(e){var i=t.props.onMouseUp;if(V(i)){var l=t.getMouseInfo(e);i(l,e)}}),M(w(t),"handleTouchMove",function(e){e.changedTouches!=null&&e.changedTouches.length>0&&t.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),M(w(t),"handleTouchStart",function(e){e.changedTouches!=null&&e.changedTouches.length>0&&t.handleMouseDown(e.changedTouches[0])}),M(w(t),"handleTouchEnd",function(e){e.changedTouches!=null&&e.changedTouches.length>0&&t.handleMouseUp(e.changedTouches[0])}),M(w(t),"triggerSyncEvent",function(e){t.props.syncId!==void 0&&St.emit(Ct,t.props.syncId,e,t.eventEmitterSymbol)}),M(w(t),"applySyncEvent",function(e){var i=t.props,l=i.layout,o=i.syncMethod,h=t.state.updateId,v=e.dataStartIndex,b=e.dataEndIndex;if(e.dataStartIndex!==void 0||e.dataEndIndex!==void 0)t.setState(s({dataStartIndex:v,dataEndIndex:b},H({props:t.props,dataStartIndex:v,dataEndIndex:b,updateId:h},t.state)));else if(e.activeTooltipIndex!==void 0){var p=e.chartX,A=e.chartY,f=e.activeTooltipIndex,T=t.state,m=T.offset,E=T.tooltipTicks;if(!m)return;if(typeof o=="function")f=o(E,e);else if(o==="value"){f=-1;for(var G=0;G<E.length;G++)if(E[G].value===e.activeLabel){f=G;break}}var k=s(s({},m),{},{x:m.left,y:m.top}),z=Math.min(p,k.x+k.width),K=Math.min(A,k.y+k.height),P=E[f]&&E[f].value,W=Nt(t.state,t.props.data,f),F=E[f]?{x:l==="horizontal"?E[f].coordinate:z,y:l==="horizontal"?K:E[f].coordinate}:ce;t.setState(s(s({},e),{},{activeLabel:P,activeCoordinate:F,activePayload:W,activeTooltipIndex:f}))}else t.setState(e)}),M(w(t),"renderCursor",function(e){var i,l=t.state,o=l.isTooltipActive,h=l.activeCoordinate,v=l.activePayload,b=l.offset,p=l.activeTooltipIndex,A=l.tooltipAxisBandSize,f=t.getTooltipEventType(),T=(i=e.props.active)!==null&&i!==void 0?i:o,m=t.props.layout,E=e.key||"_recharts-cursor";return X.createElement(Ke,{key:E,activeCoordinate:h,activePayload:v,activeTooltipIndex:p,chartName:d,element:e,isActive:T,layout:m,offset:b,tooltipAxisBandSize:A,tooltipEventType:f})}),M(w(t),"renderPolarAxis",function(e,i,l){var o=pt(e,"type.axisType"),h=pt(t.state,"".concat(o,"Map")),v=h&&h[e.props["".concat(o,"Id")]];return _.cloneElement(e,s(s({},v),{},{className:o,key:e.key||"".concat(i,"-").concat(l),ticks:ut(v,!0)}))}),M(w(t),"renderPolarGrid",function(e){var i=e.props,l=i.radialLines,o=i.polarAngles,h=i.polarRadius,v=t.state,b=v.radiusAxisMap,p=v.angleAxisMap,A=nt(b),f=nt(p),T=f.cx,m=f.cy,E=f.innerRadius,G=f.outerRadius;return _.cloneElement(e,{polarAngles:Array.isArray(o)?o:ut(f,!0).map(function(k){return k.coordinate}),polarRadius:Array.isArray(h)?h:ut(A,!0).map(function(k){return k.coordinate}),cx:T,cy:m,innerRadius:E,outerRadius:G,key:e.key||"polar-grid",radialLines:l})}),M(w(t),"renderLegend",function(){var e=t.state.formattedGraphicalItems,i=t.props,l=i.children,o=i.width,h=i.height,v=t.props.margin||{},b=o-(v.left||0)-(v.right||0),p=We({children:l,formattedGraphicalItems:e,legendWidth:b,legendContent:B});if(!p)return null;var A=p.item,f=Jt(p,He);return _.cloneElement(A,s(s({},f),{},{chartWidth:o,chartHeight:h,margin:v,onBBoxUpdate:t.handleLegendBBoxUpdate}))}),M(w(t),"renderTooltip",function(){var e,i=t.props,l=i.children,o=i.accessibilityLayer,h=Y(l,et);if(!h)return null;var v=t.state,b=v.isTooltipActive,p=v.activeCoordinate,A=v.activePayload,f=v.activeLabel,T=v.offset,m=(e=h.props.active)!==null&&e!==void 0?e:b;return _.cloneElement(h,{viewBox:s(s({},T),{},{x:T.left,y:T.top}),active:m,label:f,payload:m?A:[],coordinate:p,accessibilityLayer:o})}),M(w(t),"renderBrush",function(e){var i=t.props,l=i.margin,o=i.data,h=t.state,v=h.offset,b=h.dataStartIndex,p=h.dataEndIndex,A=h.updateId;return _.cloneElement(e,{key:e.key||"_recharts-brush",onChange:mt(t.handleBrushChange,e.props.onChange),data:o,x:ft(e.props.x)?e.props.x:v.left,y:ft(e.props.y)?e.props.y:v.top+v.height+v.brushBottom-(l.bottom||0),width:ft(e.props.width)?e.props.width:v.width,startIndex:b,endIndex:p,updateId:"brush-".concat(A)})}),M(w(t),"renderReferenceElement",function(e,i,l){if(!e)return null;var o=w(t),h=o.clipPathId,v=t.state,b=v.xAxisMap,p=v.yAxisMap,A=v.offset,f=e.props,T=f.xAxisId,m=f.yAxisId;return _.cloneElement(e,{key:e.key||"".concat(i,"-").concat(l),xAxis:b[T],yAxis:p[m],viewBox:{x:A.left,y:A.top,width:A.width,height:A.height},clipPathId:h})}),M(w(t),"renderActivePoints",function(e){var i=e.item,l=e.activePoint,o=e.basePoint,h=e.childIndex,v=e.isRange,b=[],p=i.props.key,A=i.item.props,f=A.activeDot,T=A.dataKey,m=s(s({index:h,dataKey:T,cx:l.x,cy:l.y,r:4,fill:Te(i.item),strokeWidth:2,stroke:"#fff",payload:l.payload,value:l.value,key:"".concat(p,"-activePoint-").concat(h)},Wt(f,!1)),$t(f));return b.push(g.renderActiveDot(f,m)),o?b.push(g.renderActiveDot(f,s(s({},m),{},{cx:o.x,cy:o.y,key:"".concat(p,"-basePoint-").concat(h)}))):v&&b.push(null),b}),M(w(t),"renderGraphicChild",function(e,i,l){var o=t.filterFormatItem(e,i,l);if(!o)return null;var h=t.getTooltipEventType(),v=t.state,b=v.isTooltipActive,p=v.tooltipAxis,A=v.activeTooltipIndex,f=v.activeLabel,T=t.props.children,m=Y(T,et),E=o.props,G=E.points,k=E.isRange,z=E.baseLine,K=o.item.props,P=K.activeDot,W=K.hide,F=K.activeBar,$=K.activeShape,Et=!!(!W&&b&&m&&(P||F||$)),J={};h!=="axis"&&m&&m.props.trigger==="click"?J={onClick:mt(t.handleItemMouseEnter,e.props.onClick)}:h!=="axis"&&(J={onMouseLeave:mt(t.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:mt(t.handleItemMouseEnter,e.props.onMouseEnter)});var U=_.cloneElement(e,s(s({},o.props),J));function yt(tt){return typeof p.dataKey=="function"?p.dataKey(tt.payload):null}if(Et)if(A>=0){var Q,lt;if(p.dataKey&&!p.allowDuplicatedCategory){var gt=typeof p.dataKey=="function"?yt:"payload.".concat(p.dataKey.toString());Q=wt(G,gt,f),lt=k&&z&&wt(z,gt,f)}else Q=G?.[A],lt=k&&z&&z[A];if($||F){var at=e.props.activeIndex!==void 0?e.props.activeIndex:A;return[_.cloneElement(e,s(s(s({},o.props),J),{},{activeIndex:at})),null,null]}if(!vt(Q))return[U].concat(st(t.renderActivePoints({item:o,activePoint:Q,basePoint:lt,childIndex:A,isRange:k})))}else{var q,ct=(q=t.getItemByXY(t.state.activeCoordinate))!==null&&q!==void 0?q:{graphicalItem:U},rt=ct.graphicalItem,dt=rt.item,it=dt===void 0?e:dt,xt=rt.childIndex,Z=s(s(s({},o.props),J),{},{activeIndex:xt});return[_.cloneElement(it,Z),null,null]}return k?[U,null,null]:[U,null]}),M(w(t),"renderCustomized",function(e,i,l){return _.cloneElement(e,s(s({key:"recharts-customized-".concat(l)},t.props),t.state))}),M(w(t),"renderMap",{CartesianGrid:{handler:It,once:!0},ReferenceArea:{handler:t.renderReferenceElement},ReferenceLine:{handler:It},ReferenceDot:{handler:t.renderReferenceElement},XAxis:{handler:It},YAxis:{handler:It},Brush:{handler:t.renderBrush,once:!0},Bar:{handler:t.renderGraphicChild},Line:{handler:t.renderGraphicChild},Area:{handler:t.renderGraphicChild},Radar:{handler:t.renderGraphicChild},RadialBar:{handler:t.renderGraphicChild},Scatter:{handler:t.renderGraphicChild},Pie:{handler:t.renderGraphicChild},Funnel:{handler:t.renderGraphicChild},Tooltip:{handler:t.renderCursor,once:!0},PolarGrid:{handler:t.renderPolarGrid,once:!0},PolarAngleAxis:{handler:t.renderPolarAxis},PolarRadiusAxis:{handler:t.renderPolarAxis},Customized:{handler:t.renderCustomized}}),t.clipPathId="".concat((c=y.id)!==null&&c!==void 0?c:Me("recharts"),"-clip"),t.throttleTriggeredAfterMouseMove=ue(t.triggeredAfterMouseMove,(u=y.throttleDelay)!==null&&u!==void 0?u:1e3/60),t.state={},t}return Ve(g,[{key:"componentDidMount",value:function(){var c,u;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(c=this.props.margin.left)!==null&&c!==void 0?c:0,top:(u=this.props.margin.top)!==null&&u!==void 0?u:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var c=this.props,u=c.children,t=c.data,e=c.height,i=c.layout,l=Y(u,et);if(l){var o=l.props.defaultIndex;if(!(typeof o!="number"||o<0||o>this.state.tooltipTicks.length)){var h=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,v=Nt(this.state,t,o,h),b=this.state.tooltipTicks[o].coordinate,p=(this.state.offset.top+e)/2,A=i==="horizontal",f=A?{x:b,y:p}:{y:b,x:p},T=this.state.formattedGraphicalItems.find(function(E){var G=E.item;return G.type.name==="Scatter"});T&&(f=s(s({},f),T.props.points[o].tooltipPosition),v=T.props.points[o].tooltipPayload);var m={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:h,activePayload:v,activeCoordinate:f};this.setState(m),this.renderCursor(l),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(c,u){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==u.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==c.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==c.margin){var t,e;this.accessibilityManager.setDetails({offset:{left:(t=this.props.margin.left)!==null&&t!==void 0?t:0,top:(e=this.props.margin.top)!==null&&e!==void 0?e:0}})}return null}},{key:"componentDidUpdate",value:function(c){Ht([Y(c.children,et)],[Y(this.props.children,et)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var c=Y(this.props.children,et);if(c&&typeof c.props.shared=="boolean"){var u=c.props.shared?"axis":"item";return L.indexOf(u)>=0?u:O}return O}},{key:"getMouseInfo",value:function(c){if(!this.container)return null;var u=this.container,t=u.getBoundingClientRect(),e=Ae(t),i={chartX:Math.round(c.pageX-e.left),chartY:Math.round(c.pageY-e.top)},l=t.width/u.offsetWidth||1,o=this.inRange(i.chartX,i.chartY,l);if(!o)return null;var h=this.state,v=h.xAxisMap,b=h.yAxisMap,p=this.getTooltipEventType();if(p!=="axis"&&v&&b){var A=nt(v).scale,f=nt(b).scale,T=A&&A.invert?A.invert(i.chartX):null,m=f&&f.invert?f.invert(i.chartY):null;return s(s({},i),{},{xValue:T,yValue:m})}var E=Zt(this.state,this.props.data,this.props.layout,o);return E?s(s({},i),E):null}},{key:"inRange",value:function(c,u){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,e=this.props.layout,i=c/t,l=u/t;if(e==="horizontal"||e==="vertical"){var o=this.state.offset,h=i>=o.left&&i<=o.left+o.width&&l>=o.top&&l<=o.top+o.height;return h?{x:i,y:l}:null}var v=this.state,b=v.angleAxisMap,p=v.radiusAxisMap;if(b&&p){var A=nt(b);return Xt({x:i,y:l},A)}return null}},{key:"parseEventsOfWrapper",value:function(){var c=this.props.children,u=this.getTooltipEventType(),t=Y(c,et),e={};t&&u==="axis"&&(t.props.trigger==="click"?e={onClick:this.handleClick}:e={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var i=$t(this.props,this.handleOuterEvent);return s(s({},i),e)}},{key:"addListener",value:function(){St.on(Ct,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){St.removeListener(Ct,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(c,u,t){for(var e=this.state.formattedGraphicalItems,i=0,l=e.length;i<l;i++){var o=e[i];if(o.item===c||o.props.key===c.key||u===At(o.item.type)&&t===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var c=this.clipPathId,u=this.state.offset,t=u.left,e=u.top,i=u.height,l=u.width;return X.createElement("defs",null,X.createElement("clipPath",{id:c},X.createElement("rect",{x:t,y:e,height:i,width:l})))}},{key:"getXScales",value:function(){var c=this.state.xAxisMap;return c?Object.entries(c).reduce(function(u,t){var e=Vt(t,2),i=e[0],l=e[1];return s(s({},u),{},M({},i,l.scale))},{}):null}},{key:"getYScales",value:function(){var c=this.state.yAxisMap;return c?Object.entries(c).reduce(function(u,t){var e=Vt(t,2),i=e[0],l=e[1];return s(s({},u),{},M({},i,l.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(c){var u;return(u=this.state.xAxisMap)===null||u===void 0||(u=u[c])===null||u===void 0?void 0:u.scale}},{key:"getYScaleByAxisId",value:function(c){var u;return(u=this.state.yAxisMap)===null||u===void 0||(u=u[c])===null||u===void 0?void 0:u.scale}},{key:"getItemByXY",value:function(c){var u=this.state,t=u.formattedGraphicalItems,e=u.activeItem;if(t&&t.length)for(var i=0,l=t.length;i<l;i++){var o=t[i],h=o.props,v=o.item,b=At(v.type);if(b==="Bar"){var p=(h.data||[]).find(function(m){return xe(c,m)});if(p)return{graphicalItem:o,payload:p}}else if(b==="RadialBar"){var A=(h.data||[]).find(function(m){return Xt(c,m)});if(A)return{graphicalItem:o,payload:A}}else if(Re(o,e)||Ne(o,e)||qt(o,e)){var f=je({graphicalItem:o,activeTooltipItem:e,itemData:v.props.data}),T=v.props.activeIndex===void 0?f:v.props.activeIndex;return{graphicalItem:s(s({},o),{},{childIndex:T}),payload:qt(o,e)?v.props.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var c=this,u;if(!_t(this))return null;var t=this.props,e=t.children,i=t.className,l=t.width,o=t.height,h=t.style,v=t.compact,b=t.title,p=t.desc,A=Jt(t,_e),f=Wt(A,!1);if(v)return X.createElement(zt,ht({},f,{width:l,height:o,title:b,desc:p}),this.renderClipPath(),Yt(e,this.renderMap));if(this.props.accessibilityLayer){var T,m;f.tabIndex=(T=this.props.tabIndex)!==null&&T!==void 0?T:0,f.role=(m=this.props.role)!==null&&m!==void 0?m:"application",f.onKeyDown=function(G){c.accessibilityManager.keyboardEvent(G)},f.onFocus=function(){c.accessibilityManager.focus()}}var E=this.parseEventsOfWrapper();return X.createElement(ze,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",ht({className:ve("recharts-wrapper",i),style:s({position:"relative",cursor:"default",width:l,height:o},h)},E,{ref:function(k){c.container=k},role:(u=f.role)!==null&&u!==void 0?u:"region"}),X.createElement(zt,ht({},f,{width:l,height:o,title:b,desc:p,style:na}),this.renderClipPath(),Yt(e,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),g})(_.Component),M(n,"displayName",d),M(n,"defaultProps",s({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},N)),M(n,"getDerivedStateFromProps",function(S,g){var y=S.dataKey,c=S.data,u=S.children,t=S.width,e=S.height,i=S.layout,l=S.stackOffset,o=S.margin,h=g.dataStartIndex,v=g.dataEndIndex;if(g.updateId===void 0){var b=te(S);return s(s(s({},b),{},{updateId:0},H(s(s({props:S},b),{},{updateId:0}),g)),{},{prevDataKey:y,prevData:c,prevWidth:t,prevHeight:e,prevLayout:i,prevStackOffset:l,prevMargin:o,prevChildren:u})}if(y!==g.prevDataKey||c!==g.prevData||t!==g.prevWidth||e!==g.prevHeight||i!==g.prevLayout||l!==g.prevStackOffset||!Be(o,g.prevMargin)){var p=te(S),A={chartX:g.chartX,chartY:g.chartY,isTooltipActive:g.isTooltipActive},f=s(s({},Zt(g,c,i)),{},{updateId:g.updateId+1}),T=s(s(s({},p),A),f);return s(s(s({},T),H(s({props:S},T),g)),{},{prevDataKey:y,prevData:c,prevWidth:t,prevHeight:e,prevLayout:i,prevStackOffset:l,prevMargin:o,prevChildren:u})}if(!Ht(u,g.prevChildren)){var m,E,G,k,z=Y(u,Mt),K=z&&(m=(E=z.props)===null||E===void 0?void 0:E.startIndex)!==null&&m!==void 0?m:h,P=z&&(G=(k=z.props)===null||k===void 0?void 0:k.endIndex)!==null&&G!==void 0?G:v,W=K!==h||P!==v,F=!vt(c),$=F&&!W?g.updateId:g.updateId+1;return s(s({updateId:$},H(s(s({props:S},g),{},{updateId:$,dataStartIndex:K,dataEndIndex:P}),g)),{},{prevChildren:u,dataStartIndex:K,dataEndIndex:P})}return null}),M(n,"renderActiveDot",function(S,g){var y;return _.isValidElement(S)?y=_.cloneElement(S,g):V(S)?y=S(g):y=X.createElement(ge,g),X.createElement(he,{className:"recharts-active-dot",key:g.key},y)}),n};export{za as g};
