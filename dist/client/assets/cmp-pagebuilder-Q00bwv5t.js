import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as v,R as J}from"./react-core-KcGD0Z1V.js";import{u as Me,a as Pe,D as He,c as Ae,P as Fe}from"./pkg-@dnd-kit-core-4YIDk7Uu.js";import{a as Ee,S as De,v as Ve,u as Oe}from"./pkg-@dnd-kit-sortable-CjzoCWK2.js";import{C as Re}from"./pkg-@dnd-kit-utilities--PP7VXwB.js";import E from"./pkg-toast-Dpd4iwUK.js";import{a as $e}from"./cmp-admincustomization-BgTFiuh2.js";import{v as L}from"./pkg-uuid-EwEgHOG0.js";import"./pkg-eventemitter3-CXfM2dhT.js";import"./react-dom-B3Ccfrsk.js";import"./scheduler-CWG1rEj-.js";import"./pkg-@dnd-kit-accessibility-SF-Pdgkw.js";import"./pkg-goober-N6sOClW1.js";import"./cmp-gallerypicker-tsx-T-_pXSB3.js";import"./cmp-dashboard-CwyHj6aR.js";import"./pkg-socket-D1bUdbwx.js";import"./pkg-engine-io-BZqIjJKj.js";import"./pkg-@socket.io-component-emitter-Dkula2eQ.js";import"./pkg-socket.io-parser-CafqElEs.js";import"./cmp-approutes-tsx-DORRjFJg.js";import"./cmp-skeletonloaders-tsx-Durrj7lG.js";import"./cmp-addnewduemodal-tsx-OjU2U-0e.js";import"./icons-chunk-AVFeydwE.js";import"./cmp-modern-dashboard-C6grFkCj.js";import"./cmp-invoiceprinttemplate-tsx-CUwUe6zE.js";import"./pkg-papaparse-BEpmA8em.js";import"./pkg-xlsx-BljOZNTS.js";import"./page-adminnote-C1Ob2d7z.js";import"./cmp-duehistorymodal-tsx-KQ79TbYj.js";const b={headerStyle:{style1:"https://hdnfltv.com/image/nitimages/header_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/header-2.webp",style3:"https://hdnfltv.com/image/nitimages/header-3.webp",style4:"https://hdnfltv.com/image/nitimages/header-4.webp",style5:"https://hdnfltv.com/image/nitimages/header_-_5.webp"},mobileHeaderStyle:{style1:"https://hdnfltv.com/image/nitimages/mobile_header_-_1_1768841563.webp",style2:"https://hdnfltv.com/image/nitimages/mobile_header_2.webp",style3:"https://hdnfltv.com/image/nitimages/mobile_header_3.webp",style4:"https://hdnfltv.com/image/nitimages/mobile_header_4.webp",style5:"https://hdnfltv.com/image/nitimages/mobile_header_5.webp"},productCardStyle:{style1:"https://hdnfltv.com/image/nitimages/product_card_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/product_card_-_2.webp",style3:"https://hdnfltv.com/image/nitimages/product_card_-_3.webp",style4:"https://hdnfltv.com/image/nitimages/product_card_-_4.webp",style5:"https://hdnfltv.com/image/nitimages/product_card_-_5.webp"},footerStyle:{style1:"https://hdnfltv.com/image/nitimages/footer_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/footer_-_2.webp",style3:"https://hdnfltv.com/image/nitimages/footer_-3.webp",style4:"https://hdnfltv.com/image/nitimages/footer_-4_orginal.webp",style5:"https://hdnfltv.com/image/nitimages/footer_5_1768901505.webp"},bottomNavStyle:{style1:"https://hdnfltv.com/image/nitimages/bottomNav-1.webp",style2:"https://hdnfltv.com/image/nitimages/bottomNav-2.webp",style3:"https://hdnfltv.com/image/nitimages/bottomNav-3.webp",style4:"https://hdnfltv.com/image/nitimages/bottomNav_4.webp",style5:"https://hdnfltv.com/image/nitimages/bottomNav-5.webp"},categorySectionStyle:{style1:"https://hdnfltv.com/image/nitimages/category_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/category-2.webp",style3:"https://hdnfltv.com/image/nitimages/category_-_3.webp",style4:"https://hdnfltv.com/image/nitimages/category_-_4.webp",style5:"https://hdnfltv.com/image/nitimages/category-5.webp"}},ze=[{id:"header-style1",name:"Header Style 1",description:"Classic centered logo with horizontal menu",thumbnail:b.headerStyle.style1,settings:{headerStyle:"style1"}},{id:"header-style2",name:"Header Style 2",description:"Left logo with search bar and cart",thumbnail:b.headerStyle.style2,settings:{headerStyle:"style2"}},{id:"header-style3",name:"Header Style 3",description:"Minimal header with hamburger menu",thumbnail:b.headerStyle.style3,settings:{headerStyle:"style3"}},{id:"header-style4",name:"Header Style 4",description:"Full-width with category dropdown",thumbnail:b.headerStyle.style4,settings:{headerStyle:"style4"}},{id:"header-style5",name:"Header Style 5",description:"Modern header with mega menu",thumbnail:b.headerStyle.style5,settings:{headerStyle:"style5"}}],Ue=[{id:"mobile-header-style1",name:"Mobile Header 1",description:"Compact with logo and icons",thumbnail:b.mobileHeaderStyle.style1,settings:{mobileHeaderStyle:"style1"}},{id:"mobile-header-style2",name:"Mobile Header 2",description:"Search-focused mobile header",thumbnail:b.mobileHeaderStyle.style2,settings:{mobileHeaderStyle:"style2"}},{id:"mobile-header-style3",name:"Mobile Header 3",description:"Minimal icons with slide menu",thumbnail:b.mobileHeaderStyle.style3,settings:{mobileHeaderStyle:"style3"}},{id:"mobile-header-style4",name:"Mobile Header 4",description:"Full search bar mobile header",thumbnail:b.mobileHeaderStyle.style4,settings:{mobileHeaderStyle:"style4"}},{id:"mobile-header-style5",name:"Mobile Header 5",description:"Category tabs mobile header",thumbnail:b.mobileHeaderStyle.style5,settings:{mobileHeaderStyle:"style5"}}],Ge=[{id:"product-card-style1",name:"Product Card 1",description:"Classic card with image and price",thumbnail:b.productCardStyle.style1,settings:{productCardStyle:"style1"}},{id:"product-card-style2",name:"Product Card 2",description:"Card with hover effects",thumbnail:b.productCardStyle.style2,settings:{productCardStyle:"style2"}},{id:"product-card-style3",name:"Product Card 3",description:"Minimal card with quick add",thumbnail:b.productCardStyle.style3,settings:{productCardStyle:"style3"}},{id:"product-card-style4",name:"Product Card 4",description:"Card with rating and discount",thumbnail:b.productCardStyle.style4,settings:{productCardStyle:"style4"}},{id:"product-card-style5",name:"Product Card 5",description:"Modern card with animations",thumbnail:b.productCardStyle.style5,settings:{productCardStyle:"style5"}}],Ie=[{id:"category-style1",name:"Category Style 1",description:"Grid layout with images",thumbnail:b.categorySectionStyle.style1,settings:{categorySectionStyle:"style1"}},{id:"category-style2",name:"Category Style 2",description:"Circular icons style",thumbnail:b.categorySectionStyle.style2,settings:{categorySectionStyle:"style2"}},{id:"category-style3",name:"Category Style 3",description:"Card-based categories",thumbnail:b.categorySectionStyle.style3,settings:{categorySectionStyle:"style3"}},{id:"category-style4",name:"Category Style 4",description:"Banner style categories",thumbnail:b.categorySectionStyle.style4,settings:{categorySectionStyle:"style4"}},{id:"category-style5",name:"Category Style 5",description:"Modern slider categories",thumbnail:b.categorySectionStyle.style5,settings:{categorySectionStyle:"style5"}}],Ye=[{id:"footer-style1",name:"Footer Style 1",description:"Classic multi-column footer",thumbnail:b.footerStyle.style1,settings:{footerStyle:"style1"}},{id:"footer-style2",name:"Footer Style 2",description:"Minimal centered footer",thumbnail:b.footerStyle.style2,settings:{footerStyle:"style2"}},{id:"footer-style3",name:"Footer Style 3",description:"Footer with newsletter",thumbnail:b.footerStyle.style3,settings:{footerStyle:"style3"}},{id:"footer-style4",name:"Footer Style 4",description:"Dark themed footer",thumbnail:b.footerStyle.style4,settings:{footerStyle:"style4"}},{id:"footer-style5",name:"Footer Style 5",description:"Modern footer with social",thumbnail:b.footerStyle.style5,settings:{footerStyle:"style5"}}],qe=[{id:"bottom-nav-style1",name:"Bottom Nav 1",description:"Classic 5-icon navigation",thumbnail:b.bottomNavStyle.style1,settings:{bottomNavStyle:"style1"}},{id:"bottom-nav-style2",name:"Bottom Nav 2",description:"Floating action button style",thumbnail:b.bottomNavStyle.style2,settings:{bottomNavStyle:"style2"}},{id:"bottom-nav-style3",name:"Bottom Nav 3",description:"Minimal icons navigation",thumbnail:b.bottomNavStyle.style3,settings:{bottomNavStyle:"style3"}},{id:"bottom-nav-style4",name:"Bottom Nav 4",description:"Curved bottom navigation",thumbnail:b.bottomNavStyle.style4,settings:{bottomNavStyle:"style4"}},{id:"bottom-nav-style5",name:"Bottom Nav 5",description:"Pill-shaped active state",thumbnail:b.bottomNavStyle.style5,settings:{bottomNavStyle:"style5"}}],Ke=[{id:"announcement-1",name:"Announcement Bar 1",description:"Gradient background with icons",settings:{backgroundColor:"#7c3aed",textColor:"#ffffff",text:"ðŸŽ‰ For a limited time, enjoy a 20% discount on all our products! ðŸŽ‰"}},{id:"announcement-2",name:"Announcement Bar 2",description:"With phone and social media links",settings:{backgroundColor:"#1e40af",textColor:"#ffffff",showPhone:!0,showSocial:!0}},{id:"announcement-3",name:"Announcement Bar 3",description:"With contact links and email/phone",settings:{backgroundColor:"#059669",textColor:"#ffffff",showContact:!0}}],Xe=[{id:"hero-1",name:"Hero Banner 1",description:"Full-width with centered text",settings:{height:"large",alignment:"center",overlayOpacity:40}},{id:"hero-2",name:"Hero Banner 2",description:"Split layout with image right",settings:{height:"large",alignment:"left",layout:"split"}},{id:"hero-3",name:"Hero Banner 3",description:"Video background hero",settings:{height:"large",alignment:"center",useVideo:!0}},{id:"hero-4",name:"Hero Banner 4",description:"Slideshow carousel hero",settings:{height:"large",alignment:"center",isSlideshow:!0}}],Ze=[{id:"heading-1",name:"Section Heading 1",description:"Section heading with title, subtitle and optional button",settings:{title:"Best Product",subtitle:"Section subtitle text goes here",showButton:!1}}],Je=[{id:"static-1",name:"Static Banner 1",description:"Full-width promotional banner",settings:{layout:"full"}},{id:"static-2",name:"Static Banner 2",description:"Two-column banner",settings:{layout:"two-column"}},{id:"static-3",name:"Static Banner 3",description:"Three-column banner",settings:{layout:"three-column"}},{id:"static-4",name:"Static Banner 4",description:"Image with text overlay",settings:{layout:"overlay"}}],Qe=[{id:"special-1",name:"Flash Sale 1",description:"Countdown timer with products",settings:{showCountdown:!0,style:"cards"}},{id:"special-2",name:"Flash Sale 2",description:"Banner style flash sale",settings:{showCountdown:!0,style:"banner"}},{id:"special-3",name:"Deal of the Day",description:"Single product highlight",settings:{showCountdown:!0,style:"single"}},{id:"special-4",name:"Limited Time Offer",description:"Grid of discounted products",settings:{showCountdown:!1,style:"grid"}},{id:"special-5",name:"Clearance Sale",description:"Clearance products section",settings:{showCountdown:!1,style:"clearance"}}],et=[{id:"trust-1",name:"Trust Badges 1",description:"Icon badges in a row",settings:{style:"icons"}},{id:"trust-2",name:"Trust Badges 2",description:"Cards with descriptions",settings:{style:"cards"}},{id:"trust-3",name:"Trust Badges 3",description:"Minimal text badges",settings:{style:"minimal"}}],tt=[{id:"reviews-1",name:"Reviews Carousel",description:"Sliding testimonial cards",settings:{style:"carousel"}},{id:"reviews-2",name:"Reviews Grid",description:"Grid of review cards",settings:{style:"grid"}},{id:"reviews-3",name:"Reviews Wall",description:"Masonry layout reviews",settings:{style:"masonry"}}],st=[{id:"brand-1",name:"Brand Carousel",description:"Auto-scrolling brand logos",settings:{style:"carousel",grayscale:!0}},{id:"brand-2",name:"Brand Grid",description:"Static logo grid",settings:{style:"grid",grayscale:!1}},{id:"brand-3",name:"Brand Marquee",description:"Infinite scroll marquee",settings:{style:"marquee",grayscale:!0}}],at=[{id:"product-grid-1",name:"Product Grid 1",description:"4-column product grid",settings:{columns:4,style:"default"}},{id:"product-grid-2",name:"Product Grid 2",description:"3-column with large cards",settings:{columns:3,style:"large"}},{id:"product-grid-3",name:"Product Carousel",description:"Sliding product carousel",settings:{columns:4,style:"carousel"}},{id:"product-grid-4",name:"Product List",description:"List view with details",settings:{columns:1,style:"list"}}],it=[{id:"custom-1",name:"Custom HTML",description:"Add your own HTML code",settings:{html:""}},{id:"custom-2",name:"Rich Text",description:"Formatted text content",settings:{content:""}}],Q=[{id:"header",name:"Header Styles",icon:"layout",variants:ze},{id:"mobile-header",name:"Mobile Header",icon:"navigation",variants:Ue},{id:"announcement",name:"Announcement Bars",icon:"megaphone",variants:Ke},{id:"hero",name:"Hero Sections",icon:"star",variants:Xe},{id:"headings",name:"Headings",icon:"type",variants:Ze},{id:"static-banner",name:"Static Banners",icon:"image",variants:Je},{id:"category-section",name:"Category Sections",icon:"grid",variants:Ie},{id:"special-offers",name:"Special Offers",icon:"zap",variants:Qe},{id:"product-card",name:"Product Card Styles",icon:"shopping-bag",variants:Ge},{id:"product-grid",name:"Product Grids",icon:"grid",variants:at},{id:"trust-badges",name:"Trust Badges",icon:"shield",variants:et},{id:"reviews",name:"Reviews",icon:"message",variants:tt},{id:"brand-showcase",name:"Brand Showcase",icon:"layers",variants:st},{id:"footer",name:"Footer Styles",icon:"footer",variants:Ye},{id:"bottom-nav",name:"Bottom Navigation",icon:"navigation",variants:qe},{id:"custom",name:"Custom Section",icon:"layers",variants:it}],lt={"announcement-1":"announcement-bar","announcement-2":"announcement-bar","announcement-3":"announcement-bar","header-style1":"header","header-style2":"header","header-style3":"header","header-style4":"header","header-style5":"header","mobile-header-style1":"header","mobile-header-style2":"header","mobile-header-style3":"header","mobile-header-style4":"header","mobile-header-style5":"header","hero-1":"hero","hero-2":"hero","hero-3":"hero","hero-4":"hero","heading-1":"rich-text","static-1":"image-banner","static-2":"image-banner","static-3":"image-banner","static-4":"image-banner","category-style1":"categories","category-style2":"categories","category-style3":"categories","category-style4":"categories","category-style5":"categories","special-1":"flash-sale","special-2":"flash-sale","special-3":"flash-sale","special-4":"flash-sale","special-5":"flash-sale","product-card-style1":"product-grid","product-card-style2":"product-grid","product-card-style3":"product-grid","product-card-style4":"product-grid","product-card-style5":"product-grid","product-grid-1":"product-grid","product-grid-2":"product-grid","product-grid-3":"product-grid","product-grid-4":"product-grid","trust-1":"multicolumn","trust-2":"multicolumn","trust-3":"multicolumn","reviews-1":"testimonials","reviews-2":"testimonials","reviews-3":"testimonials","brand-1":"brand-list","brand-2":"brand-list","brand-3":"brand-list","footer-style1":"footer","footer-style2":"footer","footer-style3":"footer","footer-style4":"footer","footer-style5":"footer","bottom-nav-style1":"footer","bottom-nav-style2":"footer","bottom-nav-style3":"footer","bottom-nav-style4":"footer","bottom-nav-style5":"footer","custom-1":"custom-html","custom-2":"rich-text"},te={"header-style1":"headerStyle","header-style2":"headerStyle","header-style3":"headerStyle","header-style4":"headerStyle","header-style5":"headerStyle","mobile-header-style1":"mobileHeaderStyle","mobile-header-style2":"mobileHeaderStyle","mobile-header-style3":"mobileHeaderStyle","mobile-header-style4":"mobileHeaderStyle","mobile-header-style5":"mobileHeaderStyle","product-card-style1":"productCardStyle","product-card-style2":"productCardStyle","product-card-style3":"productCardStyle","product-card-style4":"productCardStyle","product-card-style5":"productCardStyle","category-style1":"categorySectionStyle","category-style2":"categorySectionStyle","category-style3":"categorySectionStyle","category-style4":"categorySectionStyle","category-style5":"categorySectionStyle","footer-style1":"footerStyle","footer-style2":"footerStyle","footer-style3":"footerStyle","footer-style4":"footerStyle","footer-style5":"footerStyle","bottom-nav-style1":"bottomNavStyle","bottom-nav-style2":"bottomNavStyle","bottom-nav-style3":"bottomNavStyle","bottom-nav-style4":"bottomNavStyle","bottom-nav-style5":"bottomNavStyle"},oe={layout:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9",strokeWidth:"2"})]}),star:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26",strokeWidth:"2"})}),type:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("polyline",{points:"4,7 4,4 20,4 20,7",strokeWidth:"2"}),e.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20",strokeWidth:"2"}),e.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeWidth:"2"})]}),image:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",strokeWidth:"2"}),e.jsx("polyline",{points:"21,15 16,10 5,21",strokeWidth:"2"})]}),grid:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7",strokeWidth:"2"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7",strokeWidth:"2"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7",strokeWidth:"2"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7",strokeWidth:"2"})]}),zap:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polygon",{points:"13,2 3,14 12,14 11,22 21,10 12,10",strokeWidth:"2"})}),shield:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",strokeWidth:"2"})}),message:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z",strokeWidth:"2"})}),"shopping-bag":e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",strokeWidth:"2"}),e.jsx("path",{d:"M16 10a4 4 0 01-8 0",strokeWidth:"2"})]}),layers:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("polygon",{points:"12,2 2,7 12,12 22,7",strokeWidth:"2"}),e.jsx("polyline",{points:"2,17 12,22 22,17",strokeWidth:"2"}),e.jsx("polyline",{points:"2,12 12,17 22,12",strokeWidth:"2"})]}),megaphone:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z",strokeWidth:"2"})}),navigation:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18",strokeWidth:"2"})]}),footer:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"15",x2:"21",y2:"15",strokeWidth:"2"})]})},ne=()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8",strokeWidth:"2"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",strokeWidth:"2"})]}),ot=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polyline",{points:"9,18 15,12 9,6",strokeWidth:"2"})}),nt=()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polyline",{points:"20,6 9,17 4,12",strokeWidth:"2"})}),rt=t=>t in te,re=t=>{const m=t.match(/style(\d+)$/);return m?`style${m[1]}`:"style1"},dt=({variant:t,onAdd:m,onSelectStyle:s,isSelected:u,isStyleSelector:x,onHoverPreview:a})=>{const[f,g]=v.useState(!1),p=()=>{x&&s?s():m()},n=()=>{t.thumbnail&&a&&a(t.thumbnail)},W=()=>{a&&a(null)};return e.jsx("div",{className:`relative cursor-pointer transition-all ${u?"ring-2 ring-indigo-500 rounded-lg":""}`,onMouseEnter:n,onMouseLeave:W,onClick:p,children:e.jsxs("div",{className:`border rounded-lg overflow-hidden transition-all bg-white ${u?"border-indigo-500 shadow-lg":"border-gray-200 hover:border-indigo-400 hover:shadow-md"}`,children:[e.jsxs("div",{className:"h-20 relative overflow-hidden bg-gray-100",children:[t.thumbnail&&!f?e.jsx("img",{src:t.thumbnail,alt:t.name,className:"w-full h-full object-cover object-top",onError:()=>g(!0),loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-[10px] text-gray-400 text-center px-2",children:t.description})}),u&&e.jsx("div",{className:"absolute to p-2 right-2 w-6 h-6 bg-indigo-500 rounded-full flex items-center justify-center text-white",children:e.jsx(nt,{})})]}),e.jsx("div",{className:"px-2 py-1.5 border-t border-gray-100",children:e.jsx("span",{className:"text-xs font-medium text-gray-700 block truncate",children:t.name})})]})})},ct=({category:t,isExpanded:m,onToggle:s,onAddVariant:u,onSelectStyle:x,currentStyles:a,searchQuery:f,onHoverPreview:g})=>{const p=f?t.variants.filter(S=>S.name.toLowerCase().includes(f.toLowerCase())||S.description.toLowerCase().includes(f.toLowerCase())):t.variants;if(f&&p.length===0)return null;const n=p.some(S=>rt(S.id)),y=(()=>{if(!a||!n)return null;const S=p[0];if(!S)return null;const i=te[S.id];if(!i||!a[i])return null;const j=a[i];return p.find(C=>re(C.id)===j)?.id||null})();return e.jsxs("div",{className:"border-b border-gray-100 last:border-b-0",children:[e.jsxs("button",{onClick:s,className:`w-full flex items-center justify-between px-4 py-3 hover:bg-indigo-50/50 transition-colors ${m?"bg-indigo-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`${m?"text-indigo-600":"text-gray-500"}`,children:oe[t.icon]||oe.layers}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:`font-semibold text-sm ${m?"text-indigo-700":"text-gray-800"}`,children:t.name}),e.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[p.length," variants"]})]})]}),e.jsx("span",{className:`transform transition-transform ${m?"rotate-90":""} text-gray-400`,children:e.jsx(ot,{})})]}),m&&e.jsxs("div",{className:"px-3 pb-4 pt-2 bg-gray-50/50",children:[n&&e.jsx("div",{className:"mb-2 px-1",children:e.jsx("span",{className:"text-xs text-indigo-600 font-medium",children:"âœ¨ Click to apply style globally"})}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.map(S=>e.jsx(dt,{variant:S,onAdd:()=>u(S),onSelectStyle:x?()=>x(S):void 0,isSelected:y===S.id,isStyleSelector:n,onHoverPreview:g},S.id))})]})]})},mt=({onAddSection:t,onSelectStyle:m,searchQuery:s,onSearchChange:u,currentStyles:x,onHoverPreview:a})=>{const[f,g]=v.useState("header"),p=i=>{const j=lt[i.id]||"rich-text";t(i.id,j,i.settings,i.name)},n=i=>{const j=te[i.id];if(j&&m){const C=re(i.id);m(j,C)}},W=i=>{g(f===i?null:i)},y=s?Q.filter(i=>i.variants.some(j=>j.name.toLowerCase().includes(s.toLowerCase())||j.description.toLowerCase().includes(s.toLowerCase()))||i.name.toLowerCase().includes(s.toLowerCase())):Q,S=Q.reduce((i,j)=>i+j.variants.length,0);return e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsx("div",{className:"p-3 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(ne,{})}),e.jsx("input",{type:"text",placeholder:"Search components...",value:s,onChange:i=>u(i.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-indigo-400 focus:ring-2 focus:ring-indigo-100 bg-white"})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[y.map(i=>e.jsx(ct,{category:i,isExpanded:f===i.id||!!s,onToggle:()=>W(i.id),onAddVariant:p,onSelectStyle:n,currentStyles:x,searchQuery:s,onHoverPreview:a},i.id)),y.length===0&&e.jsxs("div",{className:"p-8 text-center text-gray-500",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(ne,{})}),e.jsx("p",{className:"font-medium",children:"No components found"}),e.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]})]}),e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:e.jsxs("p",{className:"text-xs text-gray-500 text-center font-medium",children:[S," total components"]})})]})},gt='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100"%3E%3Crect fill="%23ddd" width="100" height="100"/%3E%3Ctext fill="%23999" x="50%25" y="50%25" text-anchor="middle" dominant-baseline="middle"%3EBroken Image%3C/text%3E%3C/svg%3E',l={Monitor:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",strokeWidth:"2"}),e.jsx("path",{d:"M8 21h8M12 17v4",strokeWidth:"2"})]}),Smartphone:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",strokeWidth:"2"}),e.jsx("path",{d:"M12 18h.01",strokeWidth:"2",strokeLinecap:"round"})]}),Tablet:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",strokeWidth:"2"}),e.jsx("path",{d:"M12 18h.01",strokeWidth:"2",strokeLinecap:"round"})]}),Save:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M19 21H5a2 2 0 01-2-2V5a2 2 0 012-2h11l5 5v11a2 2 0 01-2 2z",strokeWidth:"2"}),e.jsx("polyline",{points:"17,21 17,13 7,13 7,21",strokeWidth:"2"}),e.jsx("polyline",{points:"7,3 7,8 15,8",strokeWidth:"2"})]}),Loader:()=>e.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),Eye:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"})]}),EyeOff:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0112 20c-7 0-11-8-11-8a18.45 18.45 0 015.06-5.94M9.9 4.24A9.12 9.12 0 0112 4c7 0 11 8 11 8a18.5 18.5 0 01-2.16 3.19m-6.72-1.07a3 3 0 11-4.24-4.24",strokeWidth:"2"}),e.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23",strokeWidth:"2"})]}),ChevronRight:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polyline",{points:"9,18 15,12 9,6",strokeWidth:"2"})}),ChevronDown:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polyline",{points:"6,9 12,15 18,9",strokeWidth:"2"})}),GripVertical:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"9",cy:"5",r:"1.5"}),e.jsx("circle",{cx:"15",cy:"5",r:"1.5"}),e.jsx("circle",{cx:"9",cy:"12",r:"1.5"}),e.jsx("circle",{cx:"15",cy:"12",r:"1.5"}),e.jsx("circle",{cx:"9",cy:"19",r:"1.5"}),e.jsx("circle",{cx:"15",cy:"19",r:"1.5"})]}),Trash:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("polyline",{points:"3,6 5,6 21,6",strokeWidth:"2"}),e.jsx("path",{d:"M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2",strokeWidth:"2"})]}),Plus:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19",strokeWidth:"2"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12",strokeWidth:"2"})]}),Settings:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"12",cy:"12",r:"3",strokeWidth:"2"}),e.jsx("path",{d:"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z",strokeWidth:"2"})]}),Home:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z",strokeWidth:"2"}),e.jsx("polyline",{points:"9,22 9,12 15,12 15,22",strokeWidth:"2"})]}),ArrowLeft:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("line",{x1:"19",y1:"12",x2:"5",y2:"12",strokeWidth:"2"}),e.jsx("polyline",{points:"12,19 5,12 12,5",strokeWidth:"2"})]}),X:()=>e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18",strokeWidth:"2"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18",strokeWidth:"2"})]}),Search:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8",strokeWidth:"2"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65",strokeWidth:"2"})]}),Megaphone:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z",strokeWidth:"2"})}),Layout:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"9",x2:"21",y2:"9",strokeWidth:"2"})]}),Star:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polygon",{points:"12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26",strokeWidth:"2"})}),Grid:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7",strokeWidth:"2"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7",strokeWidth:"2"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7",strokeWidth:"2"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7",strokeWidth:"2"})]}),Image:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",strokeWidth:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5",strokeWidth:"2"}),e.jsx("polyline",{points:"21,15 16,10 5,21",strokeWidth:"2"})]}),Mail:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z",strokeWidth:"2"}),e.jsx("polyline",{points:"22,6 12,13 2,6",strokeWidth:"2"})]}),Type:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("polyline",{points:"4,7 4,4 20,4 20,7",strokeWidth:"2"}),e.jsx("line",{x1:"9",y1:"20",x2:"15",y2:"20",strokeWidth:"2"}),e.jsx("line",{x1:"12",y1:"4",x2:"12",y2:"20",strokeWidth:"2"})]}),Video:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("polygon",{points:"23,7 16,12 23,17",strokeWidth:"2"}),e.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",strokeWidth:"2"})]}),Message:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z",strokeWidth:"2"})}),Map:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z",strokeWidth:"2"}),e.jsx("circle",{cx:"12",cy:"10",r:"3",strokeWidth:"2"})]}),Layers:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("polygon",{points:"12,2 2,7 12,12 22,7",strokeWidth:"2"}),e.jsx("polyline",{points:"2,17 12,22 22,17",strokeWidth:"2"}),e.jsx("polyline",{points:"2,12 12,17 22,12",strokeWidth:"2"})]}),Menu:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18",strokeWidth:"2"})]}),ShoppingBag:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z",strokeWidth:"2"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6",strokeWidth:"2"}),e.jsx("path",{d:"M16 10a4 4 0 01-8 0",strokeWidth:"2"})]}),FileText:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z",strokeWidth:"2"}),e.jsx("polyline",{points:"14,2 14,8 20,8",strokeWidth:"2"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13",strokeWidth:"2"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17",strokeWidth:"2"})]}),Zap:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polygon",{points:"13,2 3,14 12,14 11,22 21,10 12,10",strokeWidth:"2"})}),Tag:()=>e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z",strokeWidth:"2"}),e.jsx("line",{x1:"7",y1:"7",x2:"7.01",y2:"7",strokeWidth:"2"})]}),Check:()=>e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("polyline",{points:"20,6 9,17 4,12",strokeWidth:"2"})})},w={"announcement-bar":{icon:e.jsx(l.Megaphone,{}),label:"Announcement bar",category:"header",description:"Show important announcements",allowedBlocks:["text","link"],defaultSettings:{text:"Welcome! Free shipping on orders over $50",backgroundColor:"#1a1a2e",textColor:"#ffffff",dismissible:!0}},header:{icon:e.jsx(l.Layout,{}),label:"Header",category:"header",description:"Site header with navigation",allowedBlocks:["link","image"],defaultSettings:{logoText:"Store",sticky:!0,transparent:!1,menuStyle:"horizontal"}},hero:{icon:e.jsx(l.Star,{}),label:"Hero banner",category:"sections",description:"Full-width hero section",allowedBlocks:["heading","text","button","image"],defaultSettings:{heading:"Welcome to Our Store",subheading:"Discover amazing products",buttonText:"Shop Now",buttonLink:"/products",imageUrl:"",overlayOpacity:40,height:"large",alignment:"center"}},categories:{icon:e.jsx(l.Grid,{}),label:"Categories",category:"sections",description:"Display product categories",allowedBlocks:[],defaultSettings:{title:"Shop by Category",style:"grid",columns:4,showSubcategories:!0}},"featured-collection":{icon:e.jsx(l.Grid,{}),label:"Featured collection",category:"sections",description:"Showcase products from collection",allowedBlocks:["heading","product"],defaultSettings:{heading:"Featured Products",collectionId:"",productsToShow:4,columns:4,showViewAll:!0}},"flash-sale":{icon:e.jsx(l.Zap,{}),label:"Flash Sale",category:"sections",description:"Show flash sale products with countdown",allowedBlocks:[],defaultSettings:{title:"Flash Deals",showCountdown:!0,productsToShow:8}},"product-grid":{icon:e.jsx(l.ShoppingBag,{}),label:"Product grid",category:"sections",description:"Grid of products",allowedBlocks:["product"],defaultSettings:{heading:"All Products",productsToShow:12,columns:4,filterType:"all",showFilters:!1,showSort:!1}},brands:{icon:e.jsx(l.Star,{}),label:"Brands Section",category:"sections",description:"Display brand logos",allowedBlocks:[],defaultSettings:{title:"Our Brands",style:"carousel",columns:6,grayscale:!1}},"tags-products":{icon:e.jsx(l.Tag,{}),label:"Products by Tag",category:"sections",description:"Show products filtered by tag",allowedBlocks:[],defaultSettings:{tagName:"",title:"Tagged Products",productsToShow:8,columns:4}},"rich-text":{icon:e.jsx(l.Type,{}),label:"Rich text",category:"sections",description:"Custom formatted text content",allowedBlocks:["heading","text","button"],defaultSettings:{content:"Add your content here...",textAlign:"center",backgroundColor:"#ffffff",maxWidth:"800px"}},"image-with-text":{icon:e.jsx(l.Image,{}),label:"Image with text",category:"sections",description:"Image paired with text content",allowedBlocks:["heading","text","button","image"],defaultSettings:{heading:"Section Title",text:"Pair text with an image to focus on your chosen product, collection, or blog post.",imagePosition:"left",buttonText:"Learn More",buttonLink:"",imageUrl:""}},"image-banner":{icon:e.jsx(l.Image,{}),label:"Image banner",category:"sections",description:"Full-width image banner",allowedBlocks:["heading","text","button"],defaultSettings:{imageUrl:"",heading:"",subheading:"",buttonText:"",buttonLink:"",height:"medium",overlayOpacity:30}},slideshow:{icon:e.jsx(l.Layers,{}),label:"Slideshow",category:"sections",description:"Image carousel/slideshow",allowedBlocks:["image"],defaultSettings:{autoplay:!0,autoplaySpeed:5,showArrows:!0,showDots:!0,slides:[]}},video:{icon:e.jsx(l.Video,{}),label:"Video",category:"sections",description:"Embed video content",allowedBlocks:["heading","text"],defaultSettings:{videoUrl:"",autoplay:!1,muted:!0,loop:!0,aspectRatio:"16:9",heading:""}},newsletter:{icon:e.jsx(l.Mail,{}),label:"Newsletter",category:"sections",description:"Email signup form",allowedBlocks:["heading","text"],defaultSettings:{heading:"Subscribe to our newsletter",subheading:"Get the latest updates and offers.",buttonText:"Subscribe",backgroundColor:"#f8f9fa",successMessage:"Thanks for subscribing!"}},"collection-list":{icon:e.jsx(l.Grid,{}),label:"Collection list",category:"sections",description:"Display collections",allowedBlocks:["collection"],defaultSettings:{heading:"Shop by Category",columns:3,imageRatio:"square"}},testimonials:{icon:e.jsx(l.Message,{}),label:"Testimonials",category:"sections",description:"Customer reviews/testimonials",allowedBlocks:["text"],defaultSettings:{heading:"What Our Customers Say",items:[],autoplay:!0,showRatings:!0}},"contact-form":{icon:e.jsx(l.Mail,{}),label:"Contact form",category:"sections",description:"Contact form section",allowedBlocks:["heading","text"],defaultSettings:{heading:"Get in Touch",subheading:"Have a question? Send us a message.",showPhone:!0,showAddress:!0,formFields:["name","email","message"]}},map:{icon:e.jsx(l.Map,{}),label:"Map",category:"sections",description:"Embed Google map",allowedBlocks:["heading","text"],defaultSettings:{address:"",heading:"Visit Us",mapHeight:400,showMarker:!0}},multicolumn:{icon:e.jsx(l.Grid,{}),label:"Multicolumn",category:"sections",description:"Multi-column content",allowedBlocks:["heading","text","image","button"],defaultSettings:{heading:"",columns:3,columnContent:[]}},"collapsible-content":{icon:e.jsx(l.Menu,{}),label:"Collapsible content",category:"sections",description:"FAQ/accordion content",allowedBlocks:["heading","text"],defaultSettings:{heading:"Frequently Asked Questions",items:[],openFirst:!0,allowMultiple:!1}},"custom-html":{icon:e.jsx(l.FileText,{}),label:"Custom HTML",category:"sections",description:"Custom HTML code",allowedBlocks:[],defaultSettings:{html:""}},footer:{icon:e.jsx(l.Layout,{}),label:"Footer",category:"footer",description:"Site footer",allowedBlocks:["link","text","image"],defaultSettings:{showNewsletter:!0,showSocial:!0,showPaymentIcons:!0,copyrightText:"Â© 2024 Store. All rights reserved.",columns:4}},"featured-product":{icon:e.jsx(l.Star,{}),label:"Featured product",category:"sections",description:"Highlight a single product",allowedBlocks:["heading","text","button","price"],defaultSettings:{productId:"",showQuantity:!0,showVariants:!0,mediaSize:"medium"}},"blog-posts":{icon:e.jsx(l.FileText,{}),label:"Blog posts",category:"sections",description:"Display blog posts",allowedBlocks:["heading"],defaultSettings:{heading:"Latest Posts",postsToShow:3,showDate:!0,showAuthor:!0,showExcerpt:!0}},"brand-list":{icon:e.jsx(l.Grid,{}),label:"Brand list",category:"sections",description:"Logo carousel/grid",allowedBlocks:["image"],defaultSettings:{heading:"Our Partners",logos:[],columns:6,grayscale:!0}}},O={heading:{icon:e.jsx(l.Type,{}),label:"Heading",defaultSettings:{text:"Heading",size:"h2"}},text:{icon:e.jsx(l.Type,{}),label:"Text",defaultSettings:{text:"Add your text here",size:"base"}},button:{icon:e.jsx(l.Plus,{}),label:"Button",defaultSettings:{text:"Click me",link:"",style:"primary"}},image:{icon:e.jsx(l.Image,{}),label:"Image",defaultSettings:{src:"",alt:"",width:"full"}},link:{icon:e.jsx(l.Plus,{}),label:"Link",defaultSettings:{text:"Link",url:"",newTab:!1}},product:{icon:e.jsx(l.ShoppingBag,{}),label:"Product",defaultSettings:{productId:""}},collection:{icon:e.jsx(l.Grid,{}),label:"Collection",defaultSettings:{collectionId:"",imageUrl:"",title:""}},video:{icon:e.jsx(l.Video,{}),label:"Video",defaultSettings:{url:"",autoplay:!1}},icon:{icon:e.jsx(l.Star,{}),label:"Icon",defaultSettings:{name:"star",size:24}},price:{icon:e.jsx(l.ShoppingBag,{}),label:"Price",defaultSettings:{showCompare:!0,size:"large"}},quantity:{icon:e.jsx(l.Plus,{}),label:"Quantity selector",defaultSettings:{min:1,max:99}},divider:{icon:e.jsx(l.Menu,{}),label:"Divider",defaultSettings:{style:"line",spacing:"medium"}}},ee=()=>[{id:L(),type:"announcement-bar",name:"Announcement bar",visible:!0,settings:w["announcement-bar"].defaultSettings,blocks:[]},{id:L(),type:"header",name:"Header",visible:!0,settings:w.header.defaultSettings,blocks:[]},{id:L(),type:"hero",name:"Hero banner",visible:!0,settings:w.hero.defaultSettings,blocks:[]},{id:L(),type:"categories",name:"Categories",visible:!0,settings:w.categories.defaultSettings,blocks:[]},{id:L(),type:"flash-sale",name:"Flash Sale",visible:!0,settings:w["flash-sale"].defaultSettings,blocks:[]},{id:L(),type:"product-grid",name:"Featured Products",visible:!0,settings:{...w["product-grid"].defaultSettings,heading:"Featured Products",filterType:"featured"},blocks:[]},{id:L(),type:"brands",name:"Brands",visible:!0,settings:w.brands.defaultSettings,blocks:[]},{id:L(),type:"product-grid",name:"All Products",visible:!0,settings:{...w["product-grid"].defaultSettings,heading:"Our Products",filterType:"all",productsToShow:20},blocks:[]},{id:L(),type:"newsletter",name:"Newsletter",visible:!0,settings:w.newsletter.defaultSettings,blocks:[]},{id:L(),type:"footer",name:"Footer",visible:!0,settings:w.footer.defaultSettings,blocks:[]}],ht=({section:t,isSelected:m,isExpanded:s,selectedBlockId:u,onSelect:x,onToggleExpand:a,onToggleVisibility:f,onDelete:g,onSelectBlock:p,onAddBlock:n})=>{const{attributes:W,listeners:y,setNodeRef:S,transform:i,transition:j,isDragging:C}=Oe({id:t.id}),_={transform:Re.Transform.toString(i),transition:j,opacity:C?.5:1},P=w[t.type];return e.jsxs("div",{ref:S,style:_,className:"group",children:[e.jsxs("div",{className:`flex items-center gap-1 px-2 py-1.5 rounded-lg cursor-pointer transition-all ${m?"bg-blue-50 border border-blue-200":"hover:bg-gray-50"} ${t.visible?"":"opacity-50"}`,onClick:x,children:[e.jsx("button",{...W,...y,className:"p-1 text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing",children:e.jsx(l.GripVertical,{})}),e.jsx("button",{onClick:N=>{N.stopPropagation(),a()},className:"p-0.5 text-gray-500 hover:text-gray-700",children:s?e.jsx(l.ChevronDown,{}):e.jsx(l.ChevronRight,{})}),e.jsx("span",{className:"text-gray-500",children:P?.icon}),e.jsx("span",{className:"flex-1 text-sm font-medium text-gray-700 truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:N=>{N.stopPropagation(),f()},className:"p-1 text-gray-400 hover:text-gray-600",title:t.visible?"Hide":"Show",children:t.visible?e.jsx(l.Eye,{}):e.jsx(l.EyeOff,{})}),e.jsx("button",{onClick:N=>{N.stopPropagation(),g()},className:"p-1 text-gray-400 hover:text-red-500",title:"Delete",children:e.jsx(l.Trash,{})})]})]}),s&&t.blocks.length>0&&e.jsx("div",{className:"ml-8 mt-1 space-y-0.5 border-l-2 border-gray-100 pl-2",children:t.blocks.map(N=>e.jsxs("div",{onClick:R=>{R.stopPropagation(),p(N.id)},className:`flex items-center gap-2 px-2 py-1 rounded cursor-pointer text-sm ${u===N.id?"bg-blue-50 text-blue-700":"text-gray-600 hover:bg-gray-50"}`,children:[O[N.type]?.icon,e.jsx("span",{children:O[N.type]?.label})]},N.id))}),s&&P?.allowedBlocks&&P.allowedBlocks.length>0&&e.jsxs("button",{onClick:N=>{N.stopPropagation(),n()},className:"ml-8 mt-1 flex items-center gap-1 px-2 py-1 text-xs text-blue-600 hover:bg-blue-50 rounded",children:[e.jsx(l.Plus,{}),e.jsx("span",{children:"Add block"})]})]})},ut=({sections:t,selectedSectionId:m,devicePreview:s,onSelectSection:u,tenantId:x,hoverPreviewImage:a})=>{const f={desktop:"100%",tablet:"768px",mobile:"375px"},g=t.filter(n=>n.visible),p=n=>{const y=`relative transition-all cursor-pointer ${m===n.id?"ring-2 ring-blue-500 ring-offset-2":"hover:ring-2 hover:ring-blue-200"}`;switch(n.type){case"announcement-bar":return e.jsx("div",{className:`${y} py-2 px-4 text-center text-sm`,style:{backgroundColor:n.settings.backgroundColor,color:n.settings.textColor},children:n.settings.text});case"header":return e.jsxs("div",{className:`${y} flex items-center justify-between px-4 sm:px-6 py-4 bg-white border-b`,children:[e.jsx("div",{className:"text-lg sm:text-xl font-bold",children:n.settings.logoText}),e.jsxs("div",{className:"hidden sm:flex gap-3 sm:gap-4 lg:gap-6 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Shop"}),e.jsx("span",{className:"text-gray-600",children:"About"}),e.jsx("span",{className:"text-gray-600",children:"Contact"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(l.Search,{}),e.jsx(l.ShoppingBag,{})]})]});case"hero":return e.jsx("div",{className:`${y} relative ${n.settings.height==="large"?"min-h-[300px] sm:min-h-[400px]":n.settings.height==="medium"?"min-h-[200px] sm:min-h-[300px]":"min-h-[150px] sm:min-h-[200px]"} flex items-center justify-center bg-gradient-to-r from-purple-600 to-blue-600 text-white`,children:e.jsxs("div",{className:"text-center px-4 sm:px-8",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-3",children:n.settings.heading}),e.jsx("p",{className:"text-base sm:text-lg text-white/80 mb-4",children:n.settings.subheading}),n.settings.buttonText&&e.jsx("button",{className:"px-4 sm:px-6 py-2 bg-white text-purple-600 rounded-lg font-medium text-sm sm:text-base",children:n.settings.buttonText})]})});case"categories":return e.jsxs("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6`,children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-center mb-4 sm:mb-6",children:n.settings.title}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[1,2,3,4].map(i=>e.jsxs("div",{className:"bg-gray-100 rounded-lg p-3 sm:p-4 text-center",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-200 rounded-full mx-auto mb-2"}),e.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:["Category ",i]})]},i))})]});case"flash-sale":return e.jsxs("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6 bg-gradient-to-r from-red-500 to-orange-500`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white",children:n.settings.title}),n.settings.showCountdown&&e.jsx("div",{className:"text-white text-xs sm:text-sm",children:"â° 23:59:59"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 sm:gap-3",children:[1,2,3,4].map(i=>e.jsxs("div",{className:"bg-white rounded-lg p-2 sm:p-3",children:[e.jsx("div",{className:"bg-gray-100 aspect-square rounded mb-2"}),e.jsx("div",{className:"h-2 sm:h-3 bg-gray-100 rounded w-3/4 mb-1"}),e.jsx("div",{className:"h-2 sm:h-3 bg-gray-100 rounded w-1/2"})]},i))})]});case"product-grid":const S=window.innerWidth<640?Math.min(n.settings.columns,2):n.settings.columns;return e.jsxs("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6`,children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-4 sm:mb-6",children:n.settings.heading}),e.jsx("div",{className:"grid gap-3 sm:gap-4",style:{gridTemplateColumns:`repeat(${S}, 1fr)`},children:Array(n.settings.productsToShow>8?8:n.settings.productsToShow).fill(0).map((i,j)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 sm:p-3",children:[e.jsx("div",{className:"bg-gray-100 aspect-square rounded mb-2"}),e.jsx("div",{className:"h-2 sm:h-3 bg-gray-100 rounded w-3/4 mb-1"}),e.jsx("div",{className:"h-2 sm:h-3 bg-gray-200 rounded w-1/2"})]},j))})]});case"brands":return e.jsxs("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6`,children:[e.jsx("h2",{className:"text-base sm:text-lg font-bold text-center mb-4 sm:mb-6",children:n.settings.title}),e.jsx("div",{className:"flex justify-center gap-4 sm:gap-8 overflow-x-auto",children:[1,2,3,4,5,6].map(i=>e.jsxs("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gray-100 rounded-lg flex items-center justify-center text-gray-400 text-xs flex-shrink-0",children:["Brand ",i]},i))})]});case"newsletter":return e.jsxs("div",{className:`${y} py-8 sm:py-10 px-4 sm:px-6 text-center`,style:{backgroundColor:n.settings.backgroundColor},children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-2",children:n.settings.heading}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:n.settings.subheading}),e.jsxs("div",{className:"flex flex-col sm:flex-row max-w-md mx-auto gap-2",children:[e.jsx("input",{className:"flex-1 px-4 py-2 border rounded-lg sm:rounded-l-lg sm:rounded-r-none text-sm",placeholder:"Enter your email"}),e.jsx("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-lg sm:rounded-r-lg sm:rounded-l-none text-sm",children:n.settings.buttonText})]})]});case"footer":return e.jsxs("div",{className:`${y} py-8 sm:py-10 px-4 sm:px-6 bg-gray-900 text-white`,children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6 mb-6",children:[1,2,3,4].map(i=>e.jsxs("div",{children:[e.jsx("div",{className:"h-3 sm:h-4 bg-gray-700 rounded w-1/2 mb-3"}),e.jsx("div",{className:"space-y-2",children:[1,2,3].map(j=>e.jsx("div",{className:"h-2 sm:h-3 bg-gray-700 rounded w-3/4"},j))})]},i))}),e.jsx("div",{className:"text-center text-gray-400 text-xs sm:text-sm pt-6 border-t border-gray-800",children:n.settings.copyrightText})]});case"image-with-text":return e.jsx("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6`,children:e.jsxs("div",{className:`flex flex-col sm:flex-row gap-6 sm:gap-8 items-center ${n.settings.imagePosition==="right"?"sm:flex-row-reverse":""}`,children:[e.jsx("div",{className:"w-full sm:flex-1 bg-gray-200 aspect-video rounded-lg"}),e.jsxs("div",{className:"w-full sm:flex-1",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-3",children:n.settings.heading}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:n.settings.text}),n.settings.buttonText&&e.jsx("button",{className:"px-4 py-2 border border-gray-900 rounded-lg text-sm",children:n.settings.buttonText})]})]})});case"testimonials":return e.jsxs("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6 bg-gray-50`,children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-center mb-4 sm:mb-6",children:n.settings.heading}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[1,2,3].map(i=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsx("div",{className:"flex gap-1 text-yellow-400 mb-3",children:[1,2,3,4,5].map(j=>e.jsx(l.Star,{},j))}),e.jsx("p",{className:"text-gray-600 text-sm mb-3",children:'"Amazing product!"'}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),e.jsx("span",{className:"text-sm font-medium",children:"Customer"})]})]},i))})]});case"rich-text":return e.jsx("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6`,style:{backgroundColor:n.settings.backgroundColor,textAlign:n.settings.textAlign},children:e.jsx("div",{className:"max-w-2xl mx-auto text-gray-700 text-sm sm:text-base",children:n.settings.content})});default:return e.jsxs("div",{className:`${y} py-6 sm:py-8 px-4 sm:px-6 bg-gray-50 text-center`,children:[e.jsx("div",{className:"text-gray-400",children:w[n.type]?.icon}),e.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:n.name})]})}};return e.jsxs("main",{className:"flex-1 bg-gray-100 overflow-auto p-2 sm:p-4 relative",children:[e.jsxs("div",{className:"mx-auto bg-white shadow-lg rounded-lg overflow-hidden transition-all",style:{maxWidth:f[s],minHeight:"calc(100vh - 140px)"},children:[g.map(n=>e.jsx("div",{onClick:()=>u(n.id),children:p(n)},n.id)),g.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-96 text-gray-400 p-4",children:[e.jsx(l.Layers,{}),e.jsx("p",{className:"mt-4 text-center text-sm sm:text-base",children:"Add sections to build your page"})]})]}),a&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl border-4 border-indigo-500 overflow-hidden max-w-2xl max-h-[80vh]",children:e.jsx("img",{src:a,alt:"Style Preview",className:"w-full h-auto object-contain"})})})]})},r=J.memo(({label:t,name:m,value:s,type:u="text",options:x,onChange:a,tenantId:f})=>{const g=i=>a(m,i),p=J.useRef(null),[n,W]=J.useState(!1),y={onClick:i=>i.stopPropagation(),onMouseDown:i=>i.stopPropagation()},S=async i=>{const j=i.target.files?.[0];if(!(!j||!f)){if(!j.type.startsWith("image/")){E.error("Please select an image file");return}W(!0);try{const C=await $e(j,f,"gallery");g(C),E.success("Image uploaded successfully")}catch(C){console.error("Image upload failed:",C);const _=C instanceof Error?C.message:"Unknown error";E.error(`Failed to upload image: ${_}`)}finally{W(!1)}}};return u==="image"||u==="imageUrl"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:t}),e.jsxs("div",{className:"space-y-2",children:[s&&e.jsxs("div",{className:"relative w-full h-32 bg-gray-100 rounded-lg overflow-hidden",children:[e.jsx("img",{src:s,alt:t,className:"w-full h-full object-cover",onError:i=>{i.target.src=gt}}),e.jsx("button",{onClick:i=>{i.stopPropagation(),g("")},className:"absolute to p-2 right-2 bg-red-500 text-white p-1 rounded hover:bg-red-600",type:"button",title:"Remove image",children:e.jsx(l.X,{})})]}),e.jsx("input",{type:"text",value:s||"",onChange:i=>g(i.target.value),placeholder:"Enter image URL or upload below",...y,className:"w-full px-3 py-2 text-sm border rounded-lg"}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:i=>{i.stopPropagation(),p.current?.click()},disabled:n||!f,className:"px-3 py-2 text-sm bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",type:"button",title:f?"Upload an image from your computer":"Tenant ID required for upload",children:n?"Uploading...":"Upload Image"})}),e.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}):u==="video"||u==="videoUrl"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:t}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{type:"text",value:s||"",onChange:i=>g(i.target.value),placeholder:"Enter YouTube or Vimeo URL",...y,className:"w-full px-3 py-2 text-sm border rounded-lg"}),s&&e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("p",{children:"âœ“ Video URL added"}),e.jsx("p",{className:"truncate",children:s})]})]})]}):u==="select"&&x?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:t}),e.jsx("select",{value:s||"",onChange:i=>g(i.target.value),...y,className:"w-full px-3 py-2 text-sm border rounded-lg",children:x.map(i=>e.jsx("option",{value:i.value,children:i.label},i.value))})]}):u==="checkbox"?e.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 mb-3",children:[e.jsx("input",{type:"checkbox",checked:!!s,onChange:i=>g(i.target.checked),...y,className:"rounded"}),t]}):u==="color"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:t}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"color",value:s||"#000000",onChange:i=>g(i.target.value),...y,className:"w-10 h-10 rounded cursor-pointer border-0"}),e.jsx("input",{type:"text",value:s||"",onChange:i=>g(i.target.value),...y,className:"flex-1 px-3 py-2 text-sm border rounded-lg"})]})]}):u==="number"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:t}),e.jsx("input",{type:"number",value:s||0,onChange:i=>g(parseInt(i.target.value)||0),...y,className:"w-full px-3 py-2 text-sm border rounded-lg"})]}):u==="textarea"?e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:t}),e.jsx("textarea",{value:s||"",onChange:i=>g(i.target.value),...y,rows:4,className:"w-full px-3 py-2 text-sm border rounded-lg resize-none"})]}):e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1",children:t}),e.jsx("input",{type:u,value:s||"",onChange:i=>g(i.target.value),...y,className:"w-full px-3 py-2 text-sm border rounded-lg"})]})}),xt=({section:t,onUpdate:m,tenantId:s})=>{const u=v.useRef(t),x=v.useRef(m);v.useEffect(()=>{u.current=t,x.current=m},[t,m]);const a=v.useCallback((g,p)=>{x.current({...u.current.settings,[g]:p})},[]),f=()=>{switch(t.type){case"announcement-bar":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Text",name:"text",value:t.settings.text,type:"text",onChange:a,tenantId:s},"text"),e.jsx(r,{label:"Background Color",name:"backgroundColor",value:t.settings.backgroundColor,type:"color",onChange:a,tenantId:s},"backgroundColor"),e.jsx(r,{label:"Text Color",name:"textColor",value:t.settings.textColor,type:"color",onChange:a,tenantId:s},"textColor"),e.jsx(r,{label:"Dismissible",name:"dismissible",value:t.settings.dismissible,type:"checkbox",onChange:a,tenantId:s},"dismissible")]});case"header":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Logo Text",name:"logoText",value:t.settings.logoText,type:"text",onChange:a,tenantId:s},"logoText"),e.jsx(r,{label:"Sticky Header",name:"sticky",value:t.settings.sticky,type:"checkbox",onChange:a,tenantId:s},"sticky"),e.jsx(r,{label:"Transparent",name:"transparent",value:t.settings.transparent,type:"checkbox",onChange:a,tenantId:s},"transparent")]});case"hero":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Heading",name:"heading",value:t.settings.heading,type:"text",onChange:a,tenantId:s},"heading"),e.jsx(r,{label:"Subheading",name:"subheading",value:t.settings.subheading,type:"text",onChange:a,tenantId:s},"subheading"),e.jsx(r,{label:"Button Text",name:"buttonText",value:t.settings.buttonText,type:"text",onChange:a,tenantId:s},"buttonText"),e.jsx(r,{label:"Button Link",name:"buttonLink",value:t.settings.buttonLink,type:"text",onChange:a,tenantId:s},"buttonLink"),e.jsx(r,{label:"Image URL",name:"imageUrl",value:t.settings.imageUrl,type:"image",onChange:a,tenantId:s},"imageUrl"),e.jsx(r,{label:"Height",name:"height",value:t.settings.height,type:"select",options:[{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"}],onChange:a,tenantId:s},"height")]});case"categories":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Title",name:"title",value:t.settings.title,type:"text",onChange:a,tenantId:s},"title"),e.jsx(r,{label:"Style",name:"style",value:t.settings.style,type:"select",options:[{value:"grid",label:"Grid"},{value:"carousel",label:"Carousel"},{value:"list",label:"List"}],onChange:a,tenantId:s},"style"),e.jsx(r,{label:"Columns",name:"columns",value:t.settings.columns,type:"number",onChange:a,tenantId:s},"columns"),e.jsx(r,{label:"Show Subcategories",name:"showSubcategories",value:t.settings.showSubcategories,type:"checkbox",onChange:a,tenantId:s},"showSubcategories")]});case"flash-sale":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Title",name:"title",value:t.settings.title,type:"text",onChange:a,tenantId:s},"title"),e.jsx(r,{label:"Show Countdown",name:"showCountdown",value:t.settings.showCountdown,type:"checkbox",onChange:a,tenantId:s},"showCountdown"),e.jsx(r,{label:"Products to Show",name:"productsToShow",value:t.settings.productsToShow,type:"number",onChange:a,tenantId:s},"productsToShow")]});case"product-grid":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Heading",name:"heading",value:t.settings.heading,type:"text",onChange:a,tenantId:s},"heading"),e.jsx(r,{label:"Products to Show",name:"productsToShow",value:t.settings.productsToShow,type:"number",onChange:a,tenantId:s},"productsToShow"),e.jsx(r,{label:"Columns",name:"columns",value:t.settings.columns,type:"select",options:[{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],onChange:a,tenantId:s},"columns"),e.jsx(r,{label:"Filter Type",name:"filterType",value:t.settings.filterType,type:"select",options:[{value:"all",label:"All Products"},{value:"featured",label:"Featured Only"},{value:"bestseller",label:"Best Sellers"},{value:"new",label:"New Arrivals"}],onChange:a,tenantId:s},"filterType")]});case"brands":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Title",name:"title",value:t.settings.title,type:"text",onChange:a,tenantId:s},"title"),e.jsx(r,{label:"Style",name:"style",value:t.settings.style,type:"select",options:[{value:"grid",label:"Grid"},{value:"carousel",label:"Carousel"}],onChange:a,tenantId:s},"style"),e.jsx(r,{label:"Grayscale",name:"grayscale",value:t.settings.grayscale,type:"checkbox",onChange:a,tenantId:s},"grayscale")]});case"newsletter":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Heading",name:"heading",value:t.settings.heading,type:"text",onChange:a,tenantId:s},"heading"),e.jsx(r,{label:"Subheading",name:"subheading",value:t.settings.subheading,type:"text",onChange:a,tenantId:s},"subheading"),e.jsx(r,{label:"Button Text",name:"buttonText",value:t.settings.buttonText,type:"text",onChange:a,tenantId:s},"buttonText"),e.jsx(r,{label:"Background Color",name:"backgroundColor",value:t.settings.backgroundColor,type:"color",onChange:a,tenantId:s},"backgroundColor")]});case"footer":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Copyright Text",name:"copyrightText",value:t.settings.copyrightText,type:"text",onChange:a,tenantId:s},"copyrightText"),e.jsx(r,{label:"Show Newsletter",name:"showNewsletter",value:t.settings.showNewsletter,type:"checkbox",onChange:a,tenantId:s},"showNewsletter"),e.jsx(r,{label:"Show Social Links",name:"showSocial",value:t.settings.showSocial,type:"checkbox",onChange:a,tenantId:s},"showSocial")]});case"image-with-text":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Heading",name:"heading",value:t.settings.heading,type:"text",onChange:a,tenantId:s},"heading"),e.jsx(r,{label:"Text",name:"text",value:t.settings.text,type:"textarea",onChange:a,tenantId:s},"text"),e.jsx(r,{label:"Image URL",name:"imageUrl",value:t.settings.imageUrl,type:"image",onChange:a,tenantId:s},"imageUrl"),e.jsx(r,{label:"Image Position",name:"imagePosition",value:t.settings.imagePosition,type:"select",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}],onChange:a,tenantId:s},"imagePosition"),e.jsx(r,{label:"Button Text",name:"buttonText",value:t.settings.buttonText,type:"text",onChange:a,tenantId:s},"buttonText"),e.jsx(r,{label:"Button Link",name:"buttonLink",value:t.settings.buttonLink,type:"text",onChange:a,tenantId:s},"buttonLink")]});case"image-banner":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Image URL",name:"imageUrl",value:t.settings.imageUrl,type:"image",onChange:a,tenantId:s},"imageUrl"),e.jsx(r,{label:"Heading",name:"heading",value:t.settings.heading,type:"text",onChange:a,tenantId:s},"heading"),e.jsx(r,{label:"Subheading",name:"subheading",value:t.settings.subheading,type:"text",onChange:a,tenantId:s},"subheading"),e.jsx(r,{label:"Button Text",name:"buttonText",value:t.settings.buttonText,type:"text",onChange:a,tenantId:s},"buttonText"),e.jsx(r,{label:"Button Link",name:"buttonLink",value:t.settings.buttonLink,type:"text",onChange:a,tenantId:s},"buttonLink"),e.jsx(r,{label:"Height",name:"height",value:t.settings.height,type:"select",options:[{value:"small",label:"Small"},{value:"medium",label:"Medium"},{value:"large",label:"Large"}],onChange:a,tenantId:s},"height")]});case"video":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Video URL",name:"videoUrl",value:t.settings.videoUrl,type:"video",onChange:a,tenantId:s},"videoUrl"),e.jsx(r,{label:"Heading",name:"heading",value:t.settings.heading,type:"text",onChange:a,tenantId:s},"heading"),e.jsx(r,{label:"Autoplay",name:"autoplay",value:t.settings.autoplay,type:"checkbox",onChange:a,tenantId:s},"autoplay"),e.jsx(r,{label:"Muted",name:"muted",value:t.settings.muted,type:"checkbox",onChange:a,tenantId:s},"muted"),e.jsx(r,{label:"Loop",name:"loop",value:t.settings.loop,type:"checkbox",onChange:a,tenantId:s},"loop")]});case"testimonials":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Heading",name:"heading",value:t.settings.heading,type:"text",onChange:a,tenantId:s},"heading"),e.jsx(r,{label:"Show Ratings",name:"showRatings",value:t.settings.showRatings,type:"checkbox",onChange:a,tenantId:s},"showRatings")]});case"rich-text":return e.jsxs(e.Fragment,{children:[e.jsx(r,{label:"Content",name:"content",value:t.settings.content,type:"textarea",onChange:a,tenantId:s},"content"),e.jsx(r,{label:"Text Align",name:"textAlign",value:t.settings.textAlign,type:"select",options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}],onChange:a,tenantId:s},"textAlign"),e.jsx(r,{label:"Background Color",name:"backgroundColor",value:t.settings.backgroundColor,type:"color",onChange:a,tenantId:s},"backgroundColor")]});default:return Object.keys(t.settings).map(g=>e.jsx(r,{label:g.replace(/([A-Z])/g," $1").replace(/^./,p=>p.toUpperCase()),name:g,value:t.settings[g],type:"text",onChange:a,tenantId:s},g))}};return e.jsx("div",{children:f()})},pt=({isOpen:t,onClose:m,onAdd:s,category:u})=>{const[x,a]=v.useState("");if(!t)return null;const f=Object.entries(w).filter(([g,p])=>(u==="sections"?p.category==="sections":p.category===u)&&(p.label.toLowerCase().includes(x.toLowerCase())||p.description.toLowerCase().includes(x.toLowerCase())));return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:m,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Add section"}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(l.X,{})})]}),e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(l.Search,{})}),e.jsx("input",{type:"text",value:x,onChange:g=>a(g.target.value),onClick:g=>g.stopPropagation(),onKeyDown:g=>g.stopPropagation(),placeholder:"Search sections...",className:"w-full pl-10 pr-4 py-2 border rounded-lg"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.map(([g,p])=>e.jsxs("button",{onClick:()=>{s(g),m()},className:"flex items-start gap-3 p-4 border rounded-lg hover:border-blue-500 hover:bg-blue-50 text-left transition-all",children:[e.jsx("div",{className:"p-2 bg-gray-100 rounded-lg text-gray-600 flex-shrink-0",children:p.icon}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:p.label}),e.jsx("div",{className:"text-sm text-gray-500 break-words",children:p.description})]})]},g))})]})})},yt=({isOpen:t,onClose:m,onAdd:s,allowedBlocks:u})=>t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:m,children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Add block"}),e.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(l.X,{})})]}),e.jsx("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 gap-2",children:u.map(x=>{const a=O[x];return e.jsxs("button",{onClick:()=>{s(x),m()},className:"flex items-center gap-2 p-3 border rounded-lg hover:border-blue-500 hover:bg-blue-50 text-left transition-all",children:[a.icon,e.jsx("span",{className:"text-sm font-medium",children:a.label})]},x)})})]})}):null,es=({tenantId:t})=>{const[m,s]=v.useState([]),[u,x]=v.useState(null),[a,f]=v.useState(null),[g,p]=v.useState("desktop"),[n,W]=v.useState([]),[y,S]=v.useState(!0),[i,j]=v.useState(!1),[C,_]=v.useState(!1),[P,N]=v.useState(null),[R,se]=v.useState(null),[D,Y]=v.useState(null),[q,K]=v.useState(!1),[X,$]=v.useState(!1),[V,z]=v.useState(null),[me,ge]=v.useState(""),[U,ae]=v.useState("components"),[he,ie]=v.useState({}),[ue,xe]=v.useState(null),pe=Me(Pe(Fe,{activationConstraint:{distance:8}})),A=m.find(o=>o.id===u),G=A?.blocks.find(o=>o.id===a);v.useEffect(()=>{t&&((async()=>{S(!0);try{const d=await fetch(`/api/tenant-data/${t}/store_layout`);if(d.ok){const c=await d.json();if(c.data?.sections&&Array.isArray(c.data.sections)&&c.data.sections.length>0)s(c.data.sections),console.log("[PageBuilder] Loaded layout with",c.data.sections.length,"sections");else{const h=ee();s(h),console.log("[PageBuilder] Using default layout")}}else{const c=ee();s(c),console.log("[PageBuilder] API error, using default layout")}}catch(d){console.error("[PageBuilder] Failed to fetch layout:",d);const c=ee();s(c)}S(!1)})(),fetch(`/api/tenant-data/${t}/store_customization`).then(d=>d.ok?d.json():{data:{}}).then(d=>{d.data&&ie(d.data)}).catch(console.error))},[t]),v.useEffect(()=>{const o=d=>{(d.ctrlKey||d.metaKey)&&d.key==="s"&&(d.preventDefault(),C&&!i&&le())};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)},[C,i]),v.useEffect(()=>{const o=d=>{C&&(d.preventDefault(),d.returnValue="")};return window.addEventListener("beforeunload",o),()=>window.removeEventListener("beforeunload",o)},[C]);const le=async()=>{j(!0),N(null);try{if((await fetch(`/api/tenant-data/${t}/store_layout`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:{sections:m,updatedAt:new Date().toISOString()}})})).ok)_(!1),N({type:"success",text:"Layout saved! Your store has been updated."}),setTimeout(()=>N(null),3e3),console.log("[PageBuilder] Layout saved successfully");else throw new Error("Failed to save")}catch(o){console.error("[PageBuilder] Failed to save:",o),N({type:"error",text:"Failed to save layout. Please try again."})}j(!1)},ye=async(o,d)=>{ie(c=>({...c,[o]:d}));try{const c=await fetch(`/api/tenant-data/${t}/store_customization`),B={...(c.ok?await c.json():{data:{}}).data,[o]:d};(await fetch(`/api/tenant-data/${t}/store_customization`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:B})})).ok&&E.success(`${o.replace(/Style$/,"").replace(/([A-Z])/g," $1").trim()} updated to ${d}`)}catch(c){console.error("[PageBuilder] Failed to save theme style:",c)}},be=o=>{const{active:d,over:c}=o;c&&d.id!==c.id&&(s(h=>{const B=h.findIndex(T=>T.id===d.id),k=h.findIndex(T=>T.id===c.id);return Ee(h,B,k)}),_(!0))},fe=o=>{const d=w[o],c={id:L(),type:o,name:d.label,visible:!0,settings:{...d.defaultSettings},blocks:[]};s(h=>{if(d.category==="header"){const k=h.findIndex(T=>w[T.type].category!=="header");return[...h.slice(0,k>=0?k:h.length),c,...h.slice(k>=0?k:h.length)]}if(d.category==="footer")return[...h,c];const B=h.findIndex(k=>w[k.type].category==="footer");return[...h.slice(0,B>=0?B:h.length),c,...h.slice(B>=0?B:h.length)]}),_(!0),x(c.id)},ve=(o,d,c,h)=>{const B=d,k=w[B];if(!k){E.error(`Unknown section type: ${d}`);return}const T={id:L(),type:B,name:h||k.label,visible:!0,settings:{...k.defaultSettings,...c},blocks:[]};s(M=>{if(k.category==="header"){const F=M.findIndex(We=>w[We.type].category!=="header");return[...M.slice(0,F>=0?F:M.length),T,...M.slice(F>=0?F:M.length)]}if(k.category==="footer")return[...M,T];const I=M.findIndex(F=>w[F.type].category==="footer");return[...M.slice(0,I>=0?I:M.length),T,...M.slice(I>=0?I:M.length)]}),_(!0),x(T.id),E.success(`Added ${h||k.label}`)},je=o=>{const d=m.find(c=>c.id===o);d&&z({id:o,name:d.name})},we=()=>{V&&(s(o=>o.filter(d=>d.id!==V.id)),_(!0),u===V.id&&(x(null),f(null)),z(null))},Se=o=>{s(d=>d.map(c=>c.id===o?{...c,visible:!c.visible}:c)),_(!0)},ke=o=>{W(d=>d.includes(o)?d.filter(c=>c!==o):[...d,o])},Ce=o=>{s(d=>d.map(c=>c.id===u?{...c,settings:o}:c)),_(!0)},Ne=o=>{if(!D)return;const d={id:L(),type:o,settings:{...O[o].defaultSettings}};s(c=>c.map(h=>h.id===D?{...h,blocks:[...h.blocks,d]}:h)),_(!0),Y(null)},Be=()=>{window.open(`/store/${t}`,"_blank")},Te=m.filter(o=>w[o.type]?.category==="header"),_e=m.filter(o=>w[o.type]?.category==="sections"),Le=m.filter(o=>w[o.type]?.category==="footer"),Z=(o,d,c)=>e.jsxs("div",{className:"border-b border-gray-100",children:[e.jsx("div",{className:"px-3 py-2",children:e.jsx("h3",{className:"text-[11px] font-semibold text-gray-400 uppercase tracking-wider",children:o})}),e.jsxs("div",{className:"px-2 pb-2 space-y-0.5",children:[e.jsx(De,{items:d.map(h=>h.id),strategy:Ve,children:d.map(h=>e.jsx(ht,{section:h,isSelected:u===h.id,isExpanded:n.includes(h.id),selectedBlockId:u===h.id?a:null,onSelect:()=>{x(h.id),f(null)},onToggleExpand:()=>ke(h.id),onToggleVisibility:()=>Se(h.id),onDelete:()=>je(h.id),onSelectBlock:B=>{x(h.id),f(B)},onAddBlock:()=>Y(h.id)},h.id))}),e.jsxs("button",{onClick:()=>se(c),className:"flex items-center gap-2 px-3 py-1.5 text-sm text-blue-600 hover:bg-blue-50 rounded-lg w-full",children:[e.jsx(l.Plus,{}),e.jsx("span",{children:"Add section"})]})]})]});return y?e.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(l.Loader,{}),e.jsx("p",{className:"mt-3 text-gray-600",children:"Loading store builder..."})]})}):e.jsxs("div",{className:"h-full flex flex-col bg-white",children:[e.jsxs("header",{className:"h-14 bg-white border-b flex items-center justify-between px-2 sm:px-4 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("button",{onClick:()=>K(!q),className:"p-2 hover:bg-gray-100 rounded-lg lg:hidden",title:"Toggle sections","aria-label":"Toggle sections menu",children:e.jsx(l.Menu,{})}),e.jsx("button",{onClick:()=>window.history.back(),className:"p-2 hover:bg-gray-100 rounded-lg hidden sm:block",title:"Back",children:e.jsx(l.ArrowLeft,{})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:"Store Builder"}),e.jsx("span",{className:"hidden sm:flex items-center gap-1.5 px-2 py-0.5 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"â— Live"}),C&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full",children:"Unsaved"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(l.Home,{}),e.jsx("span",{children:"Home page"})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:"flex items-center border rounded-lg p-0.5 sm:p-1 mr-1 sm:mr-2",children:[{id:"desktop",Icon:l.Monitor},{id:"tablet",Icon:l.Tablet},{id:"mobile",Icon:l.Smartphone}].map(({id:o,Icon:d})=>e.jsx("button",{onClick:()=>p(o),className:`p-1 sm:p-2 rounded-md transition ${g===o?"bg-gray-100 text-gray-900":"text-gray-500 hover:text-gray-700"}`,"aria-label":`${o} preview`,children:e.jsx(d,{})},o))}),e.jsx("button",{onClick:Be,className:"p-2 hover:bg-gray-100 rounded-lg text-gray-500 hidden sm:block",title:"Preview store",children:e.jsx(l.Eye,{})}),e.jsx("button",{onClick:()=>$(!X),className:"p-2 hover:bg-gray-100 rounded-lg lg:hidden",title:"Toggle settings","aria-label":"Toggle settings panel",children:e.jsx(l.Settings,{})}),e.jsxs("button",{onClick:()=>window.open(`https://${t}.allinbangla.com`,"_blank"),className:"px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2 transition bg-indigo-600 text-white hover:bg-indigo-700",children:[e.jsx(l.Eye,{})," ",e.jsx("span",{className:"hidden sm:inline",children:"Preview"})]}),e.jsx("button",{onClick:le,disabled:!C||i,className:`px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-medium flex items-center gap-1 sm:gap-2 transition ${C?"bg-green-600 text-white hover:bg-green-700":"bg-gray-200 text-gray-500 cursor-not-allowed"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsx(l.Loader,{})," ",e.jsx("span",{className:"hidden sm:inline",children:"Saving..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(l.Save,{})," ",e.jsx("span",{className:"hidden sm:inline",children:"Save"})]})})]})]}),P&&e.jsxs("div",{className:`fixed to p-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 ${P.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:[P.type==="success"?e.jsx(l.Check,{}):e.jsx(l.X,{}),P.text]}),e.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[e.jsxs(He,{sensors:pe,collisionDetection:Ae,onDragEnd:be,children:[q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>K(!1)}),e.jsxs("aside",{className:`
            fixed lg:static inset-y-0 left-0 z-50
            w-80 bg-white border-r flex flex-col h-full overflow-hidden
            transform transition-transform duration-200 ease-in-out
            ${q?"translate-x-0":"-translate-x-full lg:translate-x-0"}
            to p-14 lg:to p-0
          `,children:[e.jsx("div",{className:"lg:hidden absolute to p-2 right-2 z-10",children:e.jsx("button",{onClick:()=>K(!1),className:"p-2 hover:bg-gray-100 rounded-lg","aria-label":"Close sections menu",children:e.jsx(l.X,{})})}),e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{onClick:()=>ae("components"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${U==="components"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(l.Grid,{}),"Add"]})}),e.jsx("button",{onClick:()=>ae("sections"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${U==="sections"?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(l.Layers,{}),"Layout (",m.length,")"]})})]}),U==="components"&&e.jsx(mt,{onAddSection:ve,searchQuery:me,onSearchChange:ge,onSelectStyle:ye,currentStyles:he,onHoverPreview:xe}),U==="sections"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"p-3 border-b",children:e.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-lg transition",children:[e.jsx(l.Home,{}),e.jsx("span",{className:"text-sm font-medium text-gray-700 flex-1 text-left",children:"Home page"}),e.jsx(l.ChevronDown,{})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[Z("Header",Te,"header"),Z("Template",_e,"sections"),Z("Footer",Le,"footer")]}),e.jsx("div",{className:"p-3 border-t",children:e.jsxs("button",{className:"w-full flex items-center gap-2 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition",children:[e.jsx(l.Settings,{}),e.jsx("span",{className:"text-sm",children:"Theme settings"})]})})]})]}),e.jsx(ut,{sections:m,selectedSectionId:u,devicePreview:g,onSelectSection:o=>{x(o),f(null),window.innerWidth<1024&&$(!0)},tenantId:t,hoverPreviewImage:ue})]}),X&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>$(!1)}),e.jsxs("aside",{className:`
          fixed lg:static inset-y-0 right-0 z-50
          w-full sm:w-96 lg:w-80 xl:w-96 bg-white border-l flex flex-col h-full
          transform transition-transform duration-200 ease-in-out
          ${X?"translate-x-0":"translate-x-full lg:translate-x-0"}
          to p-14 lg:to p-0
        `,children:[e.jsx("div",{className:"lg:hidden absolute to p-2 right-2 z-10",children:e.jsx("button",{onClick:()=>$(!1),className:"p-2 hover:bg-gray-100 rounded-lg","aria-label":"Close settings panel",children:e.jsx(l.X,{})})}),A?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 border-b",children:[a&&e.jsxs("button",{onClick:()=>f(null),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-gray-900 mb-3 transition",children:[e.jsx(l.ArrowLeft,{}),e.jsx("span",{children:"Back to section"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[w[A.type]?.icon,e.jsx("h3",{className:"font-semibold text-gray-900",children:a?O[G?.type||"text"]?.label:A.name})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:w[A.type]?.description})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a&&G?e.jsx("div",{className:"space-y-3",children:Object.entries(G.settings).map(([o,d])=>e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-700 block mb-1 capitalize",children:o.replace(/([A-Z])/g," $1")}),e.jsx("input",{type:"text",onClick:c=>c.stopPropagation(),onMouseDown:c=>c.stopPropagation(),value:String(d),onChange:c=>{const h={...G.settings,[o]:c.target.value};s(B=>B.map(k=>k.id!==u?k:{...k,blocks:k.blocks.map(T=>T.id===a?{...T,settings:h}:T)})),_(!0)},className:"w-full px-3 py-2 text-sm border rounded-lg"})]},o))}):e.jsx(xt,{section:A,onUpdate:Ce,tenantId:t})})]}):e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center gap-3 mb-2 text-gray-400",children:e.jsx(l.Settings,{})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Customize your store"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select a section from the left panel to customize it."})]})]})]}),e.jsx(pt,{isOpen:R!==null,onClose:()=>se(null),onAdd:fe,category:R||"sections"}),e.jsx(yt,{isOpen:D!==null,onClose:()=>Y(null),onAdd:Ne,allowedBlocks:D?w[m.find(o=>o.id===D)?.type||"hero"]?.allowedBlocks||[]:[]}),V&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>z(null),children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",onClick:o=>o.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-full text-red-600",children:e.jsx(l.Trash,{})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Delete Section"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),e.jsxs("p",{className:"text-gray-700 mb-6",children:['Are you sure you want to delete "',e.jsx("strong",{children:V.name}),'"? This will permanently remove this section from your store.']}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>z(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition",children:"Cancel"}),e.jsx("button",{onClick:we,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition",children:"Delete"})]})]})})})]})},bt={primary:"#6366f1",secondary:"#8b5cf6",accent:"#06b6d4",background:"#ffffff",text:"#1f2937",textMuted:"#6b7280",border:"#e5e7eb",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},ts={sections:[],headerStyle:"style1",mobileHeaderStyle:"style1",categorySectionStyle:"style1",productCardStyle:"style1",productSectionStyle:"style1",showcaseSectionStyle:"style1",brandSectionStyle:"style1",footerStyle:"style1",bottomNavStyle:"style1",colors:bt,version:1,isPublished:!1},ft=[{id:"style1",name:"Clean Modern",description:"Glassmorphism with frosted glass",thumbnail:"https://hdnfltv.com/image/nitimages/header_-_1.webp"},{id:"style2",name:"Compact Single Row",description:"Minimal single-row navigation",thumbnail:"https://hdnfltv.com/image/nitimages/header-2.webp"},{id:"style3",name:"Gradient Colorful",description:"Theme gradient background",thumbnail:"https://hdnfltv.com/image/nitimages/header-3.webp"},{id:"style4",name:"E-commerce Pro",description:"Dark top bar, category dropdown",thumbnail:"https://hdnfltv.com/image/nitimages/header-4.webp"},{id:"style5",name:"Dark Mode",description:"Full dark theme, cyan accents",thumbnail:"https://hdnfltv.com/image/nitimages/header_-_5.webp"}],vt=[{id:"style1",name:"Frosted Glass",description:"White frosted glass effect",thumbnail:"https://hdnfltv.com/image/nitimages/mobile_header_-_1_1768841563.webp"},{id:"style2",name:"Compact Centered",description:"Centered logo, minimal",thumbnail:"https://hdnfltv.com/image/nitimages/mobile_header_2.webp"},{id:"style3",name:"Gradient",description:"Theme gradient, white icons",thumbnail:"https://hdnfltv.com/image/nitimages/mobile_header_3.webp"},{id:"style4",name:"E-commerce Pro",description:"Integrated search bar",thumbnail:"https://hdnfltv.com/image/nitimages/mobile_header_4.webp"},{id:"style5",name:"Dark Mode",description:"Dark gray, cyan accents",thumbnail:"https://hdnfltv.com/image/nitimages/mobile_header_5.webp"}],jt=[{id:"none",name:"Hidden",description:"Do not show category section",thumbnail:""},{id:"style1",name:"Pill Carousel",description:"Auto-scrolling pill buttons",thumbnail:"https://hdnfltv.com/image/nitimages/category_-_1.webp"},{id:"style2",name:"Grid Cards",description:"Fixed grid with hover effect",thumbnail:"https://hdnfltv.com/image/nitimages/category-2.webp"},{id:"style3",name:"Circular Icons",description:"Instagram-style circles",thumbnail:"https://hdnfltv.com/image/nitimages/category_-_3.webp"},{id:"style4",name:"Compact List",description:"Card with gradient header",thumbnail:"https://hdnfltv.com/image/nitimages/category_-_4.webp"},{id:"style5",name:"Featured Cards",description:"Large horizontal cards",thumbnail:"https://hdnfltv.com/image/nitimages/category-5.webp"}],wt=[{id:"style1",name:"Gradient Top Bar",description:"Purple-to-pink gradient",thumbnail:"https://hdnfltv.com/image/nitimages/product_card_-_1.webp"},{id:"style2",name:"Minimal Hover",description:"Clean white, hover overlay",thumbnail:"https://hdnfltv.com/image/nitimages/product_card_-_2.webp"},{id:"style3",name:"Elegant Rounded",description:"Soft shadows, premium feel",thumbnail:"https://hdnfltv.com/image/nitimages/product_card_-_3.webp"},{id:"style4",name:"Bold Dark",description:"Dark background, vibrant CTAs",thumbnail:"https://hdnfltv.com/image/nitimages/product_card_-_4.webp"},{id:"style5",name:"Compact Efficient",description:"Border-focused layout",thumbnail:"https://hdnfltv.com/image/nitimages/product_card_-_5.webp"}],St=[{id:"style1",name:"Dark Gradient",description:"Dark gradient, 4-column",thumbnail:"https://hdnfltv.com/image/nitimages/footer_-_1.webp"},{id:"style2",name:"Minimal White",description:"Clean white, compact",thumbnail:"https://hdnfltv.com/image/nitimages/footer_-_2.webp"},{id:"style3",name:"Colorful Gradient",description:"Theme gradient, newsletter",thumbnail:"https://hdnfltv.com/image/nitimages/footer_-3.webp"},{id:"style4",name:"Newsletter Focus",description:"Light gray, centered",thumbnail:"https://hdnfltv.com/image/nitimages/footer_-4_orginal.webp"},{id:"style5",name:"E-commerce Pro",description:"White, app store links",thumbnail:"https://hdnfltv.com/image/nitimages/footer_5_1768901505.webp"}],kt=[{id:"style1",name:"Elevated Home",description:"Glassmorphism, center button",thumbnail:"https://hdnfltv.com/image/nitimages/bottomNav-1.webp"},{id:"style2",name:"Minimal Flat",description:"Simple flat, dot indicator",thumbnail:"https://hdnfltv.com/image/nitimages/bottomNav-2.webp"},{id:"style3",name:"Rounded Pill Dark",description:"Floating dark pill",thumbnail:"https://hdnfltv.com/image/nitimages/bottomNav-3.webp"},{id:"style4",name:"Iconic with Chat",description:"Large icons, chat button",thumbnail:"https://hdnfltv.com/image/nitimages/bottomNav_4.webp"},{id:"style5",name:"E-commerce Optimized",description:"5 icons, elevated cart",thumbnail:"https://hdnfltv.com/image/nitimages/bottomNav-5.webp"}],H=[{id:"style1",name:"Default",description:"Standard appearance",thumbnail:""}],de=[{id:"header",label:"Desktop Header",icon:"ðŸ–¥ï¸",description:"Main navigation bar",styles:ft,deviceType:"desktop"},{id:"mobileHeader",label:"Mobile Header",icon:"ðŸ“±",description:"Compact mobile header",styles:vt,deviceType:"mobile"},{id:"categorySection",label:"Categories",icon:"ðŸ“",description:"Product categories",styles:jt,allowNone:!0,deviceType:"both"},{id:"productSection",label:"Product Cards",icon:"ðŸ›ï¸",description:"Product display style",styles:wt,deviceType:"both"},{id:"footer",label:"Footer",icon:"ðŸ“‹",description:"Site footer",styles:St,deviceType:"both"},{id:"bottomNav",label:"Bottom Navigation",icon:"ðŸ“²",description:"Mobile bottom nav",styles:kt,deviceType:"mobile"}],ce=[{id:"textBlock",label:"Text Block",icon:"ðŸ“",description:"Add custom text content",styles:H,deviceType:"both",isCustomBlock:!0},{id:"imageBlock",label:"Image Block",icon:"ðŸ–¼ï¸",description:"Add an image",styles:H,deviceType:"both",isCustomBlock:!0},{id:"bannerBlock",label:"Banner",icon:"ðŸŽ¯",description:"Promotional banner",styles:H,deviceType:"both",isCustomBlock:!0},{id:"spacerBlock",label:"Spacer",icon:"â†•ï¸",description:"Add vertical space",styles:H,deviceType:"both",isCustomBlock:!0},{id:"videoBlock",label:"Video",icon:"ðŸŽ¬",description:"Embed a video",styles:H,deviceType:"both",isCustomBlock:!0},{id:"ctaBlock",label:"Call to Action",icon:"ðŸ””",description:"Action button section",styles:H,deviceType:"both",isCustomBlock:!0},{id:"testimonialBlock",label:"Testimonials",icon:"ðŸ’¬",description:"Customer reviews",styles:H,deviceType:"both",isCustomBlock:!0},{id:"featureBlock",label:"Features",icon:"âœ¨",description:"Feature highlights",styles:H,deviceType:"both",isCustomBlock:!0}],ss={header:"headerStyle",mobileHeader:"mobileHeaderStyle",heroSlider:"productSectionStyle",categorySection:"categorySectionStyle",productSection:"productCardStyle",showcaseSection:"showcaseSectionStyle",brandSection:"brandSectionStyle",footer:"footerStyle",bottomNav:"bottomNavStyle",textBlock:"productSectionStyle",imageBlock:"productSectionStyle",bannerBlock:"productSectionStyle",spacerBlock:"productSectionStyle",videoBlock:"productSectionStyle",testimonialBlock:"productSectionStyle",featureBlock:"productSectionStyle",ctaBlock:"productSectionStyle"},as=(t,m)=>[...de,...ce].find(x=>x.id===t)?.styles.find(x=>x.id===m),is=t=>[...de,...ce].find(s=>s.id===t);export{ts as DEFAULT_LAYOUT,es as PageBuilder,de as SECTION_CATEGORIES,ss as SECTION_TO_CONFIG_KEY,es as default,is as getSectionCategory,as as getStyleInfo};
