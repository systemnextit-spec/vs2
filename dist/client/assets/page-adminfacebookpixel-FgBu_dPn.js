import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as l}from"./react-core-KcGD0Z1V.js";import{aW as y,bb as f,aK as h,ao as j}from"./icons-chunk-AVFeydwE.js";import"./pkg-eventemitter3-CXfM2dhT.js";const E=({onBack:g,config:s,onSave:u})=>{const[r,n]=l.useState(s.pixelId),[i,c]=l.useState(s.accessToken),[x,m]=l.useState(s.enableTestEvent),[a,d]=l.useState(s.isEnabled),[o,p]=l.useState(null);l.useEffect(()=>{n(s.pixelId),c(s.accessToken),m(s.enableTestEvent),d(s.isEnabled)},[s.pixelId,s.accessToken,s.enableTestEvent,s.isEnabled]);const b=()=>{if(a&&!r.trim()){alert("Facebook Pixel ID is required while tracking is enabled.");return}const t={pixelId:r.trim(),accessToken:i.trim(),enableTestEvent:x,isEnabled:a};u(t),p("Facebook Pixel settings saved. Changes apply instantly on storefront."),setTimeout(()=>p(null),4e3)};return e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-4 sm:space-y-6 lg:space-y-8 animate-fade-in px-3 sm:px-4 lg:px-2",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[e.jsx("button",{onClick:g,className:"p-1.5 sm:p-2 hover:bg-gray-200 rounded-full transition flex-shrink-0",children:e.jsx(y,{size:18,className:"text-gray-600 sm:w-5 sm:h-5"})}),e.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900 truncate",children:"Facebook Pixel"})]}),e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"w-10 sm:w-12 h-10 sm:h-12 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0 border-2 sm:border-4 border-blue-100 shadow-sm ring-1 ring-blue-500",children:e.jsx(f,{size:20,className:"text-white sm:w-6 sm:h-6",fill:"white"})}),e.jsxs("div",{className:"pt-0.5 sm:pt-1 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3",children:[e.jsx("h3",{className:"text-sm sm:text-base lg:text-lg font-medium text-gray-900",children:"Facebook Pixel Tracking"}),e.jsx("span",{className:`inline-flex items-center gap-1 px-2 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-xs font-semibold ${a&&r?"bg-green-100 text-green-700":"bg-amber-100 text-amber-700"}`,children:a&&r?e.jsxs(e.Fragment,{children:[e.jsx(h,{size:10,className:"sm:w-3 sm:h-3"})," Live"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{size:10,className:"sm:w-3 sm:h-3"})," Inactive"]})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-2",children:"Connect Meta Pixel + Conversions API to track checkout conversions."})]})]}),o&&e.jsxs("div",{className:"bg-green-50 border border-green-200 text-green-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex items-center gap-2 text-xs sm:text-sm",children:[e.jsx(h,{size:16,className:"sm:w-[18px] sm:h-[18px]"})," ",o]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4 lg:space-y-6 max-w-3xl pt-1 sm:pt-2",children:[e.jsxs("div",{className:"flex items-center justify-between border border-gray-200 rounded-lg sm:rounded-xl p-3 sm:p-4 bg-white shadow-sm gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"Enable tracking"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-2",children:"Turn this off to pause all pixel events without losing credentials."})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer flex-shrink-0",children:[e.jsx("input",{type:"checkbox",className:"sr-only",checked:a,onChange:t=>d(t.target.checked)}),e.jsx("span",{className:`w-11 sm:w-14 h-6 sm:h-7 flex items-center rounded-full px-1 transition ${a?"bg-green-500":"bg-gray-300"}`,children:e.jsx("span",{className:`bg-white w-5 sm:w-6 h-5 sm:h-6 rounded-full shadow transform transition ${a?"translate-x-5 sm:translate-x-7":""}`})})]})]}),e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"Facebook Pixel Id",className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 lg:py-3 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-400 text-gray-700 placeholder-gray-400 shadow-sm",value:r,onChange:t=>n(t.target.value)})}),e.jsx("div",{children:e.jsx("textarea",{placeholder:"Facebook Pixel Access Token",className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 lg:py-3 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-gray-400 text-gray-700 placeholder-gray-400 shadow-sm min-h-[80px] sm:min-h-[100px] lg:min-h-[120px] resize-none align-top",value:i,onChange:t=>c(t.target.value)})}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("input",{type:"checkbox",id:"testEvent",className:"w-4 sm:w-5 h-4 sm:h-5 border-2 border-gray-400 rounded text-blue-600 focus:ring-blue-500 cursor-pointer",checked:x,onChange:t=>m(t.target.checked)}),e.jsx("label",{htmlFor:"testEvent",className:"text-xs sm:text-sm text-gray-600 cursor-pointer select-none",children:"Enable Test Event"})]}),e.jsxs("div",{className:"bg-gray-50 border border-dashed border-gray-200 rounded-lg p-3 sm:p-4 text-xs sm:text-sm text-gray-600",children:[e.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"Need this info?"}),e.jsxs("ul",{className:"list-disc list-inside space-y-0.5 sm:space-y-1",children:[e.jsx("li",{children:"Pixel ID is in Meta Events Manager."}),e.jsx("li",{children:"Access token needed for server-side events."}),e.jsx("li",{children:"Use Test Event toggle when verifying, disable afterwards."})]})]}),e.jsx("button",{onClick:b,className:"w-full btn-search justify-center py-2 sm:py-2.5 lg:py-3 rounded-lg font-semibold text-sm",children:"Save"})]})]})};export{E as default};
