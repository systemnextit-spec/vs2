import{j as b}from"./react-jsx-runtime-BBsywpoz.js";import{R as a,r as s}from"./react-core-KcGD0Z1V.js";import"./pkg-eventemitter3-CXfM2dhT.js";const x=(e,t,n)=>{a.useEffect(()=>{if(!e.current)return;if(typeof IntersectionObserver>"u"){t(!0);return}const r=new IntersectionObserver(([o])=>{t(o.isIntersecting)},{threshold:.1,...n});return r.observe(e.current),()=>{e.current&&r.unobserve(e.current)}},[e,t,n])},w=({fallback:e,children:t,className:n,rootMargin:r="0px 0px 200px",threshold:o=.05,minHeight:i})=>{const u=s.useRef(null),[c,f]=s.useState(!1),d=s.useCallback(v=>{v&&f(!0)},[]),p=s.useMemo(()=>({rootMargin:r,threshold:o}),[r,o]);return s.useEffect(()=>{typeof window<"u"&&!("IntersectionObserver"in window)&&f(!0)},[]),x(u,d,p),b.jsx("div",{ref:u,className:n,style:i&&!c?{minHeight:i}:void 0,children:c?t:e})};export{w as LazySection,w as default};
