import{r as T,R as mt}from"./react-core-KcGD0Z1V.js";import{P as l}from"./pkg-prop-types-CNoiFQcK.js";import{d as pt}from"./pkg-fast-equals-CqUluVxK.js";function bt(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function L(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):bt(i)};requestAnimationFrame(n)}function U(t){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(t)}function vt(t){return St(t)||gt(t)||ht(t)||dt()}function dt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(t,e){if(t){if(typeof t=="string")return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(t,e)}}function V(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function St(t){if(Array.isArray(t))return t}function At(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var a=o,c=vt(a),u=c[0],f=c.slice(1);if(typeof u=="number"){L(i.bind(null,f),u);return}i(u),L(i.bind(null,f));return}U(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function C(t){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(t)}function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y(Object(r),!0).forEach(function(n){nt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nt(t,e,r){return e=Ot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ot(t){var e=jt(t,"string");return C(e)==="symbol"?e:String(e)}function jt(t,e){if(C(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wt=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},_t=function(e){return e},Pt=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},$=function(e,r){return Object.keys(r).reduce(function(n,i){return Z(Z({},n),{},nt({},i,e(i,r[i])))},{})},G=function(e,r,n){return e.map(function(i){return"".concat(Pt(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Tt(t,e){return Ct(t)||$t(t,e)||it(t,e)||Et()}function Et(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $t(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,c=[],u=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(s){f=!0,i=s}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return c}}function Ct(t){if(Array.isArray(t))return t}function It(t){return Bt(t)||Dt(t)||it(t)||Rt()}function Rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function it(t,e){if(t){if(typeof t=="string")return F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F(t,e)}}function Dt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bt(t){if(Array.isArray(t))return F(t)}function F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var R=1e-4,ot=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},at=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},Q=function(e,r){return function(n){var i=ot(e,r);return at(i,n)}},Nt=function(e,r){return function(n){var i=ot(e,r),o=[].concat(It(i.map(function(a,c){return a*c}).slice(1)),[0]);return at(o,n)}},X=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],a=r[2],c=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,a=1,c=1;break;case"ease":i=.25,o=.1,a=.25,c=1;break;case"ease-in":i=.42,o=0,a=1,c=1;break;case"ease-out":i=.42,o=0,a=.58,c=1;break;case"ease-in-out":i=0,o=0,a=.58,c=1;break;default:{var u=r[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var f=u[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),s=Tt(f,4);i=s[0],o=s[1],a=s[2],c=s[3]}}}var b=Q(i,a),p=Q(o,c),d=Nt(i,a),S=function(m){return m>1?1:m<0?0:m},v=function(m){for(var h=m>1?1:m,A=h,j=0;j<8;++j){var w=b(A)-h,_=d(A);if(Math.abs(w-h)<R||_<R)return p(A);A=S(A-w/_)}return p(A)};return v.isStepper=!1,v},Ut=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,a=e.dt,c=a===void 0?17:a,u=function(s,b,p){var d=-(s-b)*n,S=p*o,v=p+(d-S)*c/1e3,y=p*c/1e3+s;return Math.abs(y-b)<R&&Math.abs(v)<R?[b,0]:[y,v]};return u.isStepper=!0,u.dt=c,u},Ft=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return X(i);case"spring":return Ut();default:if(i.split("(")[0]==="cubic-bezier")return X(i)}return typeof i=="function"?i:null};function I(t){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(t)}function tt(t){return Mt(t)||zt(t)||ut(t)||kt()}function kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mt(t){if(Array.isArray(t))return z(t)}function et(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?et(Object(r),!0).forEach(function(n){k(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k(t,e,r){return e=Wt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wt(t){var e=Jt(t,"string");return I(e)==="symbol"?e:String(e)}function Jt(t,e){if(I(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(I(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kt(t,e){return Ht(t)||xt(t,e)||ut(t,e)||qt()}function qt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ut(t,e){if(t){if(typeof t=="string")return z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(t,e)}}function z(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,a,c=[],u=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(s){f=!0,i=s}finally{try{if(!u&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(f)throw i}}return c}}function Ht(t){if(Array.isArray(t))return t}var D=function(e,r,n){return e+(r-e)*n},M=function(e){var r=e.from,n=e.to;return r!==n},Lt=function t(e,r,n){var i=$(function(o,a){if(M(a)){var c=e(a.from,a.to,a.velocity),u=Kt(c,2),f=u[0],s=u[1];return g(g({},a),{},{from:f,velocity:s})}return a},r);return n<1?$(function(o,a){return M(a)?g(g({},a),{},{velocity:D(a.velocity,i[o].velocity,n),from:D(a.from,i[o].from,n)}):a},r):t(e,i,n-1)};const Vt=(function(t,e,r,n,i){var o=wt(t,e),a=o.reduce(function(y,m){return g(g({},y),{},k({},m,[t[m],e[m]]))},{}),c=o.reduce(function(y,m){return g(g({},y),{},k({},m,{from:t[m],velocity:0,to:e[m]}))},{}),u=-1,f,s,b=function(){return null},p=function(){return $(function(m,h){return h.from},c)},d=function(){return!Object.values(c).filter(M).length},S=function(m){f||(f=m);var h=m-f,A=h/r.dt;c=Lt(r,c,A),i(g(g(g({},t),e),p())),f=m,d()||(u=requestAnimationFrame(b))},v=function(m){s||(s=m);var h=(m-s)/n,A=$(function(w,_){return D.apply(void 0,tt(_).concat([r(h)]))},a);if(i(g(g(g({},t),e),A)),h<1)u=requestAnimationFrame(b);else{var j=$(function(w,_){return D.apply(void 0,tt(_).concat([r(1)]))},a);i(g(g(g({},t),e),j))}};return b=r.isStepper?S:v,function(){return requestAnimationFrame(b),function(){cancelAnimationFrame(u)}}});function P(t){"@babel/helpers - typeof";return P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(t)}var Yt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Zt(t,e){if(t==null)return{};var r=Gt(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function N(t){return ee(t)||te(t)||Xt(t)||Qt()}function Qt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xt(t,e){if(t){if(typeof t=="string")return W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(t,e)}}function te(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ee(t){if(Array.isArray(t))return W(t)}function W(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rt(Object(r),!0).forEach(function(n){E(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E(t,e,r){return e=ct(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ct(n.key),n)}}function ie(t,e,r){return e&&ne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ct(t){var e=oe(t,"string");return P(e)==="symbol"?e:String(e)}function oe(t,e){if(P(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(P(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&J(t,e)}function J(t,e){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J(t,e)}function ue(t){var e=ce();return function(){var n=B(t),i;if(e){var o=B(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return K(this,i)}}function K(t,e){if(e&&(P(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(t)}function q(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B(t)}var x=(function(t){ae(r,t);var e=ue(r);function r(n,i){var o;re(this,r),o=e.call(this,n,i);var a=o.props,c=a.isActive,u=a.attributeName,f=a.from,s=a.to,b=a.steps,p=a.children,d=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(q(o)),o.changeStyle=o.changeStyle.bind(q(o)),!c||d<=0)return o.state={style:{}},typeof p=="function"&&(o.state={style:s}),K(o);if(b&&b.length)o.state={style:b[0].style};else if(f){if(typeof p=="function")return o.state={style:f},K(o);o.state={style:u?E({},u,f):f}}else o.state={style:{}};return o}return ie(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,c=o.canBegin,u=o.attributeName,f=o.shouldReAnimate,s=o.to,b=o.from,p=this.state.style;if(c){if(!a){var d={style:u?E({},u,s):s};this.state&&p&&(u&&p[u]!==s||!u&&p!==s)&&this.setState(d);return}if(!(pt(i.to,s)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=S||f?b:i.to;if(this.state&&p){var y={style:u?E({},u,v):v};(u&&p[u]!==v||!u&&p!==v)&&this.setState(y)}this.runAnimation(O(O({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,c=i.to,u=i.duration,f=i.easing,s=i.begin,b=i.onAnimationEnd,p=i.onAnimationStart,d=Vt(a,c,Ft(f),u,this.changeStyle),S=function(){o.stopJSAnimation=d()};this.manager.start([p,s,S,u,b])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,c=i.begin,u=i.onAnimationStart,f=a[0],s=f.style,b=f.duration,p=b===void 0?0:b,d=function(v,y,m){if(m===0)return v;var h=y.duration,A=y.easing,j=A===void 0?"ease":A,w=y.style,_=y.properties,ft=y.onAnimationEnd,H=m>0?a[m-1]:y,st=_||Object.keys(w);if(typeof j=="function"||j==="spring")return[].concat(N(v),[o.runJSAnimation.bind(o,{from:H.style,to:w,duration:h,easing:j}),h]);var lt=G(st,h,j),yt=O(O(O({},H.style),w),{},{transition:lt});return[].concat(N(v),[yt,h,ft]).filter(_t)};return this.manager.start([u].concat(N(a.reduce(d,[s,Math.max(p,c)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=At());var o=i.begin,a=i.duration,c=i.attributeName,u=i.to,f=i.easing,s=i.onAnimationStart,b=i.onAnimationEnd,p=i.steps,d=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof d=="function"||f==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var v=c?E({},c,u):u,y=G(Object.keys(v),a,f);S.start([s,o,O(O({},v),{},{transition:y}),a,b])}},{key:"render",value:function(){var i=this.props,o=i.children,a=i.duration,c=i.isActive,u=Zt(i,Yt),f=T.Children.count(o),s=this.state.style;if(typeof o=="function")return o(s);if(!c||f===0||a<=0)return o;var b=function(d){var S=d.props,v=S.style,y=v===void 0?{}:v,m=S.className,h=T.cloneElement(d,O(O({},u),{},{style:O(O({},y),s),className:m}));return h};return f===1?b(T.Children.only(o)):mt.createElement("div",null,T.Children.map(o,function(p){return b(p)}))}}]),r})(T.PureComponent);x.displayName="Animate";x.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};x.propTypes={from:l.oneOfType([l.object,l.string]),to:l.oneOfType([l.object,l.string]),attributeName:l.string,duration:l.number,begin:l.number,easing:l.oneOfType([l.string,l.func]),steps:l.arrayOf(l.shape({duration:l.number.isRequired,style:l.object.isRequired,easing:l.oneOfType([l.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),l.func]),properties:l.arrayOf("string"),onAnimationEnd:l.func})),children:l.oneOfType([l.node,l.func]),isActive:l.bool,canBegin:l.bool,onAnimationEnd:l.func,shouldReAnimate:l.bool,onAnimationStart:l.func,onAnimationReStart:l.func};export{x as A};
