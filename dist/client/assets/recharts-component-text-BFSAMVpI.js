import{r as V,R as G}from"./react-core-KcGD0Z1V.js";import{a as _}from"./pkg-lodash-CH_GMSlH.js";import{c as Z}from"./pkg-clsx-B-dksMZM.js";import{b as D,a as E}from"./recharts-util-datautils-CozywqZh.js";import{G as tt}from"./recharts-util-global-C7iY84J1.js";import{f as rt}from"./recharts-util-reactutils-Is6lFQr1.js";import{g as U}from"./recharts-util-domutils-CpG4EuV8.js";import{r as P}from"./recharts-util-reducecsscalc-BHV94Rup.js";var et=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],at=["dx","dy","angle","className","breakAll"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},R.apply(this,arguments)}function z(e,t){if(e==null)return{};var r=nt(e,t),a,n;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function nt(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,i;for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function K(e,t){return ct(e)||ot(e,t)||lt(e,t)||it()}function it(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lt(e,t){if(e){if(typeof e=="string")return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}}function M(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ot(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,n,i,c,s=[],o=!0,h=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;o=!1}else for(;!(o=(a=i.call(r)).done)&&(s.push(a.value),s.length!==t);o=!0);}catch(f){h=!0,n=f}finally{try{if(!o&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(h)throw n}}return s}}function ct(e){if(Array.isArray(e))return e}var q=/[ \f\n\r\t\v\u2028\u2029]+/,J=function(t){var r=t.children,a=t.breakAll,n=t.style;try{var i=[];_(r)||(a?i=r.toString().split(""):i=r.toString().split(q));var c=i.map(function(o){return{word:o,width:U(o,n).width}}),s=a?0:U(" ",n).width;return{wordsWithComputedWidth:c,spaceWidth:s}}catch{return null}},st=function(t,r,a,n,i){var c=t.maxLines,s=t.children,o=t.style,h=t.breakAll,f=E(c),d=s,g=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return p.reduce(function(u,v){var m=v.word,O=v.width,C=u[u.length-1];if(C&&(n==null||i||C.width+O+a<Number(n)))C.words.push(m),C.width+=O+a;else{var Q={words:[m],width:O};u.push(Q)}return u},[])},W=g(r),N=function(p){return p.reduce(function(u,v){return u.width>v.width?u:v})};if(!f)return W;for(var I="…",k=function(p){var u=d.slice(0,p),v=J({breakAll:h,style:o,children:u+I}).wordsWithComputedWidth,m=g(v),O=m.length>c||N(m).width>Number(n);return[O,m]},A=0,l=d.length-1,b=0,S;A<=l&&b<=d.length-1;){var x=Math.floor((A+l)/2),F=x-1,B=k(F),H=K(B,2),w=H[0],T=H[1],$=k(x),L=K($,1),y=L[0];if(!w&&!y&&(A=x+1),w&&y&&(l=x-1),!w&&y){S=T;break}b++}return S||W},X=function(t){var r=_(t)?[]:t.toString().split(q);return[{words:r}]},ut=function(t){var r=t.width,a=t.scaleToFit,n=t.children,i=t.style,c=t.breakAll,s=t.maxLines;if((r||a)&&!tt.isSsr){var o,h,f=J({breakAll:c,children:n,style:i});if(f){var d=f.wordsWithComputedWidth,g=f.spaceWidth;o=d,h=g}else return X(n);return st({breakAll:c,children:n,maxLines:s,style:i},o,h,r,a)}return X(n)},Y="#808080",bt=function(t){var r=t.x,a=r===void 0?0:r,n=t.y,i=n===void 0?0:n,c=t.lineHeight,s=c===void 0?"1em":c,o=t.capHeight,h=o===void 0?"0.71em":o,f=t.scaleToFit,d=f===void 0?!1:f,g=t.textAnchor,W=g===void 0?"start":g,N=t.verticalAnchor,I=N===void 0?"end":N,k=t.fill,A=k===void 0?Y:k,l=z(t,et),b=V.useMemo(function(){return ut({breakAll:l.breakAll,children:l.children,maxLines:l.maxLines,scaleToFit:d,style:l.style,width:l.width})},[l.breakAll,l.children,l.maxLines,d,l.style,l.width]),S=l.dx,x=l.dy,F=l.angle,B=l.className,H=l.breakAll,w=z(l,at);if(!D(a)||!D(i))return null;var T=a+(E(S)?S:0),$=i+(E(x)?x:0),L;switch(I){case"start":L=P("calc(".concat(h,")"));break;case"middle":L=P("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(h," / 2))"));break;default:L=P("calc(".concat(b.length-1," * -").concat(s,")"));break}var y=[];if(d){var j=b[0].width,p=l.width;y.push("scale(".concat((E(p)?p/j:1)/j,")"))}return F&&y.push("rotate(".concat(F,", ").concat(T,", ").concat($,")")),y.length&&(w.transform=y.join(" ")),G.createElement("text",R({},rt(w,!0),{x:T,y:$,className:Z("recharts-text",B),textAnchor:W,fill:A.includes("url")?Y:A}),b.map(function(u,v){var m=u.words.join(H?"":" ");return G.createElement("tspan",{x:T,dy:v===0?L:s,key:m},m)}))};export{bt as T};
