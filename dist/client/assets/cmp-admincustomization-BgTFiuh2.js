import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as m}from"./react-core-KcGD0Z1V.js";import T from"./pkg-toast-Dpd4iwUK.js";import{G as Xe}from"./cmp-gallerypicker-tsx-T-_pXSB3.js";import{S as Pe,P as se,I as Y,a as Z,T as ee,C as Qe,b as Ve,E as Le,c as ze,M as fe,X as le,U as Ie,F as Fe,L as Ke,d as Je,e as be,f as Ye,g as rt,h as nt,i as it,R as ot,j as dt}from"./icons-chunk-AVFeydwE.js";function ct(){return{enabled:!0,provider:"cloudflare",baseUrl:"https://allinbangla.com".replace(/\/$/,""),imageBaseUrl:"https://allinbangla.com",staticBaseUrl:"https://allinbangla.com",imageTransformation:{enabled:!0,quality:parseInt("85",10),format:"auto",fit:"cover"},cache:{defaultMaxAge:parseInt("86400",10),imageMaxAge:parseInt("31536000",10),staticMaxAge:parseInt("31536000",10)}}}let je=null;function Ze(){return je||(je=ct()),je}function Me(a,s){if(!a)return"";const t=Ze();if(!t.enabled)return a;if(a.startsWith("http://")||a.startsWith("https://")){const h="https://allinbangla.com";if(a.startsWith(h))a=a.replace(h,"");else return a}const l=a.startsWith("/")?a:`/${a}`,p=t.imageBaseUrl||t.baseUrl;return t.imageTransformation.enabled&&s?pt(t.provider,p,l,s):`${p}${l}`}function pt(a,s,t,l){switch(a){case"cloudflare":return xt(s,t,l);case"cloudfront":return ht(s,t,l);case"bunnycdn":return gt(s,t,l);default:return mt(s,t,l)}}function xt(a,s,t){const l=[];return t.width&&l.push(`width=${t.width}`),t.height&&l.push(`height=${t.height}`),t.quality&&l.push(`quality=${t.quality}`),t.format&&t.format!=="auto"&&l.push(`format=${t.format}`),t.fit&&l.push(`fit=${t.fit}`),l.length===0?`${a}${s}`:`${a}/cdn-cgi/image/${l.join(",")}${s}`}function ht(a,s,t){const l=new URLSearchParams;t.width&&l.append("w",t.width.toString()),t.height&&l.append("h",t.height.toString()),t.quality&&l.append("q",t.quality.toString()),t.format&&t.format!=="auto"&&l.append("fm",t.format),t.fit&&l.append("fit",t.fit);const p=l.toString();return`${a}${s}${p?`?${p}`:""}`}function gt(a,s,t){const l=new URLSearchParams;t.width&&l.append("width",t.width.toString()),t.height&&l.append("height",t.height.toString()),t.quality&&l.append("quality",t.quality.toString()),t.format&&t.format!=="auto"&&l.append("format",t.format);const p=l.toString();return`${a}${s}${p?`?${p}`:""}`}function mt(a,s,t){const l=new URLSearchParams;t.width&&l.append("w",t.width.toString()),t.height&&l.append("h",t.height.toString()),t.quality&&l.append("q",t.quality.toString()),t.format&&t.format!=="auto"&&l.append("f",t.format),t.fit&&l.append("fit",t.fit);const p=l.toString();return`${a}${s}${p?`?${p}`:""}`}function ut(){return Ze().enabled}const ve=()=>{if(typeof window<"u"){const a="https://allinbangla.com";return/^https?:\/\/.+/.test(a)?a:window.location.origin}return"https://allinbangla.com"},ft="https://allinbangla.com",et=a=>{const s=a.trim();return s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'")?s.slice(1,-1).trim():s},yt=a=>{const s=et(a);if(!s.toLowerCase().startsWith("data:"))return s;const t=s.match(/^data:([^,]*),(.*)$/s);if(!t)return s;const l=t[1],p=t[2];return/;base64/i.test(l)?`data:${l},${p.replace(/\s+/g,"")}`:s},O=(a,s)=>{if(!a)return"";const t=et(a);if(!t)return"";if(t.toLowerCase().startsWith("data:"))return yt(t);if(t.toLowerCase().startsWith("blob:"))return t;if(ut()){if(t.includes("cdn.allinbangla.com")||t.includes("images.allinbangla.com")||t.includes("static.allinbangla.com"))return t;if(t.startsWith("http://")||t.startsWith("https://"))return t.includes("allinbangla.com")&&t.includes("/uploads")?Me(t):t;if(t.startsWith("/uploads")||t.startsWith("uploads/"))return Me(t)}if(t.includes("cdn.allinbangla.com"))return t.replace(/^https?:\/\/cdn\.systemnextit\.com/i,ft);if(t.includes("allinbangla.com"))return t;if(t.startsWith("/uploads"))return`${ve()}${t}`;if(t.startsWith("uploads/"))return`${ve()}/${t}`;if(t.includes("localhost")||t.includes("127.0.0.1")){const l=ve();return t.replace(/https?:\/\/(localhost|127\.0\.0\.1)(:\d+)?/,l)}return t.startsWith("http://")||t.startsWith("https://"),t},$t=(a,s="medium",t="webp")=>O(a),tt=1400,st=420,Ae=600,Be=288,re=1e3,de=1e3,bt=100,Te=a=>new Promise((s,t)=>{const l=new FileReader;l.onloadend=()=>s(l.result),l.onerror=()=>t(new Error("Failed to read file.")),l.readAsDataURL(a)}),Re=a=>new Promise((s,t)=>{const l=new Image;l.onload=()=>s(l),l.onerror=()=>t(new Error("Failed to load image.")),l.src=a}),$e=async(a,s={})=>{const t=await Te(a);try{const{quality:l=.95,maxDimension:p=2e3}=s,h=await Re(t),x=document.createElement("canvas"),b=x.getContext("2d");if(!b)throw new Error("Canvas context unavailable.");const u=Math.min(1,p/Math.max(h.width,h.height)),C=Math.max(1,Math.round(h.width*u)),f=Math.max(1,Math.round(h.height*u));x.width=C,x.height=f,b.drawImage(h,0,0,C,f);const o=x.toDataURL("image/webp",l);if(o.startsWith("data:image/webp"))return o}catch(l){console.warn("WebP conversion failed, using original image.",l)}return t},We=async(a,s={})=>{const t=await Te(a);try{const{width:l=tt,height:p=st,quality:h=.95}=s,x=await Re(t),b=document.createElement("canvas"),u=b.getContext("2d");if(!u)throw new Error("Canvas context unavailable.");b.width=l,b.height=p;const C=l/p,f=x.width/x.height;let o=0,I=0,y=x.width,R=x.height;f>C?(y=x.height*C,o=(x.width-y)/2):(R=x.width/C,I=(x.height-R)/2),u.drawImage(x,o,I,y,R,0,0,l,p);const E=b.toDataURL("image/webp",h);if(E.startsWith("data:image/webp"))return E}catch(l){console.warn("Carousel image conversion failed, using original.",l)}return t},we=a=>{const s=a.split(",")[1];return s?Math.ceil(s.length*3/4):0},ie=(a,s)=>{const t=a.split(","),l=t[0].match(/:(.*?);/)?.[1]||"image/webp",p=atob(t[1]);let h=p.length;const x=new Uint8Array(h);for(;h--;)x[h]=p.charCodeAt(h);return new File([x],s,{type:l})},jt=async a=>{const s=await Te(a),t=bt*1024;try{const l=await Re(s),p=document.createElement("canvas"),h=p.getContext("2d");if(!h)throw new Error("Canvas context unavailable.");p.width=re,p.height=de,h.fillStyle="#FFFFFF",h.fillRect(0,0,re,de);let x=0,b=0,u=l.width,C=l.height;l.width>l.height?(u=l.height,x=(l.width-u)/2):l.height>l.width&&(C=l.width,b=(l.height-C)/2),h.drawImage(l,x,b,u,C,0,0,re,de);let f=.15,o=.85,I=p.toDataURL("image/webp",o),y=we(I);if(y<=t){console.log(`[ProductImage] Already under target: ${(y/1024).toFixed(1)}KB`);const E=a.name.replace(/\.[^.]+$/,".webp");return ie(I,E)}for(let E=0;E<15;E++){const k=(f+o)/2,$=p.toDataURL("image/webp",k),U=we($);if(U<=t?(I=$,y=U,f=k):o=k,U<=t&&U>t*.9){I=$,y=U;break}}if(y>t){let E=.85;for(;y>t&&E>.4;){const k=Math.round(re*E);p.width=k,p.height=k,h.fillStyle="#FFFFFF",h.fillRect(0,0,k,k),h.drawImage(l,x,b,u,C,0,0,k,k),I=p.toDataURL("image/webp",.5),y=we(I),E-=.05}}console.log(`[ProductImage] Fixed size: ${re}x${de}, ${(y/1024).toFixed(1)}KB`);const R=a.name.replace(/\.[^.]+$/,".webp");return ie(I,R)}catch(l){return console.warn("Product image conversion failed, returning original.",l),a}},ae="https://allinbangla.com",Ee=async(a,s,t)=>{try{const l=new FormData;l.append("file",a),l.append("tenantId",s),t&&l.append("folder",t);const p=await fetch(`${ae}/api/upload`,{method:"POST",body:l}),h=await p.text();if(!p.ok){let C=`Server error: ${p.status} ${p.statusText}`;try{const f=JSON.parse(h);C=f.message||f.error||C}catch{}throw new Error(C)}const x=JSON.parse(h);if(!x.success)throw new Error(x.error||"Upload failed");const b=x.imageUrl;if(b.startsWith("/uploads"))return b;const u=b.match(/\/uploads\/.+$/);return u?u[0]:b}catch(l){throw new Error(`Failed to upload image: ${l instanceof Error?l.message:"Unknown error"}`)}},_e=a=>{if(!a)return!1;const s=a.trim(),l=(s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'")?s.slice(1,-1).trim():s).toLowerCase();return l.startsWith("data:image/")&&l.includes(";base64,")},vt=a=>{const s=a.trim(),t=s.startsWith('"')&&s.endsWith('"')||s.startsWith("'")&&s.endsWith("'")?s.slice(1,-1).trim():s;if(!t.toLowerCase().startsWith("data:"))return t;const p=t.indexOf(",");if(p===-1)return t;const h=t.slice(0,p),x=t.slice(p+1);return!/;base64$/i.test(h)&&!/;base64/i.test(h)?t:`${h},${x.replace(/\s+/g,"")}`},Oe=async(a,s,t)=>{try{const l=vt(a),p=await fetch(`${ae}/api/upload/fix-base64`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base64Data:l,tenantId:s,folder:t,filename:`carousel-fixed-${Date.now()}.webp`})}),h=await p.text();if(!p.ok){let C=`Server error: ${p.status} ${p.statusText}`;try{const f=JSON.parse(h);C=f.message||f.error||C}catch{}throw new Error(C)}const x=JSON.parse(h);if(!x.success)throw new Error(x.error||"Conversion failed");const b=x.imageUrl;if(b.startsWith("/uploads"))return b;const u=b.match(/\/uploads\/.+$/);return u?u[0]:b}catch(l){throw new Error(`Failed to convert base64 image: ${l instanceof Error?l.message:"Unknown error"}`)}},Et=async(a,s)=>{if(!s||s.trim()==="")throw new Error("Tenant ID is required for image upload. Please wait for the store to load.");try{const t=await jt(a);console.log(`[ImageUpload] Starting upload for ${t.name} (${t.size} bytes) to tenant: ${s}`),console.log(`[ImageUpload] API URL: ${ae}/api/upload`);const l=new FormData;l.append("file",t),l.append("tenantId",s);const p=await fetch(`${ae}/api/upload`,{method:"POST",body:l});console.log(`[ImageUpload] Response status: ${p.status} ${p.statusText}`);const h=await p.text();if(console.log(`[ImageUpload] Response body: ${h.substring(0,500)}`),!p.ok){let u="Upload failed";try{const C=JSON.parse(h);u=C.message||C.error||u}catch{u=`Server error: ${p.status} ${p.statusText}`}throw new Error(u)}const x=JSON.parse(h);if(!x.success)throw new Error(x.error||"Upload failed");if(console.log(`[ImageUpload] Success! Image URL: ${x.imageUrl}`),x.imageUrl.startsWith("http://")||x.imageUrl.startsWith("https://")){const u=x.imageUrl.replace("https://allinbangla.com",ae);return console.log(`[ImageUpload] Cleaned URL: ${u}`),u}const b=`${ae}${x.imageUrl.startsWith("/")?"":"/"}${x.imageUrl}`;return console.log(`[ImageUpload] Full URL: ${b}`),b}catch(t){throw console.error("[ImageUpload] Error:",t),new Error(`Failed to upload image: ${t instanceof Error?t.message:"Unknown error"}`)}},ye={Draft:"text-amber-600 bg-amber-50 border border-amber-200"},wt={primary:"#22c55e",secondary:"#ec4899",tertiary:"#9333ea",font:"#0f172a",hover:"#f97316",surface:"#e2e8f0",adminBg:"#030407",adminInputBg:"#0f172a",adminBorder:"#ffffff",adminFocus:"#f87171"},Ut={websiteName:"",shortDescription:"",whatsappNumber:"",favicon:null,headerLogo:null,footerLogo:null,addresses:[],emails:[],phones:[],socialLinks:[],footerQuickLinks:[],footerUsefulLinks:[],showMobileHeaderCategory:!0,showNewsSlider:!0,headerSliderText:"",hideCopyright:!1,hideCopyrightText:!1,showPoweredBy:!1,showFlashSaleCounter:!0,brandingText:"",carouselItems:[],campaigns:[],popups:[],searchHints:"",orderLanguage:"English",adminNoticeText:"",categorySectionStyle:"style5"},De={headerStyle:{style1:"https://hdnfltv.com/image/nitimages/header_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/header-2.webp",style3:"https://hdnfltv.com/image/nitimages/header-3.webp",style4:"https://hdnfltv.com/image/nitimages/header-4.webp",style5:"https://hdnfltv.com/image/nitimages/header_-_5.webp"},mobileHeaderStyle:{style1:"https://hdnfltv.com/image/nitimages/mobile_header_-_1_1768841563.webp",style2:"https://hdnfltv.com/image/nitimages/mobile_header_2.webp",style3:"https://hdnfltv.com/image/nitimages/mobile_header_3.webp",style4:"https://hdnfltv.com/image/nitimages/mobile_header_4.webp",style5:"https://hdnfltv.com/image/nitimages/mobile_header_5.webp"},showcaseSectionStyle:{style1:"https://images.unsplash.com/photo-1472851294608-062f824d29cc?w=1200&q=80&fm=webp",style2:"https://images.unsplash.com/photo-1441984904996-e0b6ba687e04?w=1200&q=80&fm=webp",style3:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1200&q=80&fm=webp",style4:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=1200&q=80&fm=webp",style5:"https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=1200&q=80&fm=webp"},brandSectionStyle:{none:"",style1:"https://images.unsplash.com/photo-1561070791-2526d30994b5?w=1200&q=80&fm=webp",style2:"https://images.unsplash.com/photo-1599305445671-ac291c95aaa9?w=1200&q=80&fm=webp",style3:"https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=1200&q=80&fm=webp",style4:"https://images.unsplash.com/photo-1605289982774-9a6fef564df8?w=1200&q=80&fm=webp",style5:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?w=1200&q=80&fm=webp"},categorySectionStyle:{none:"",style1:"https://hdnfltv.com/image/nitimages/category_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/category-2.webp",style3:"https://hdnfltv.com/image/nitimages/category_-_3.webp",style4:"https://hdnfltv.com/image/nitimages/category_-_4.webp",style5:"https://hdnfltv.com/image/nitimages/category-5.webp"},productSectionStyle:{style1:"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=1200&q=80&fm=webp",style2:"https://images.unsplash.com/photo-1556742111-a301076d9d18?w=1200&q=80&fm=webp",style3:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?w=1200&q=80&fm=webp",style4:"https://images.unsplash.com/photo-1472851294608-062f824d29cc?w=1200&q=80&fm=webp",style5:"https://images.unsplash.com/photo-1607083206869-4c7672e72a8a?w=1200&q=80&fm=webp"},productCardStyle:{style1:"https://hdnfltv.com/image/nitimages/product_card_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/product_card_-_2.webp",style3:"https://hdnfltv.com/image/nitimages/product_card_-_3.webp",style4:"https://hdnfltv.com/image/nitimages/product_card_-_4.webp",style5:"https://hdnfltv.com/image/nitimages/product_card_-_5.webp"},footerStyle:{style1:"https://hdnfltv.com/image/nitimages/footer_-_1.webp",style2:"https://hdnfltv.com/image/nitimages/footer_-_2.webp",style3:"https://hdnfltv.com/image/nitimages/footer_-3.webp",style4:"https://hdnfltv.com/image/nitimages/footer_-4_orginal.webp",style5:"https://hdnfltv.com/image/nitimages/footer_5_1768901505.webp"},bottomNavStyle:{style1:"https://hdnfltv.com/image/nitimages/bottomNav-1.webp",style2:"https://hdnfltv.com/image/nitimages/bottomNav-2.webp",style3:"https://hdnfltv.com/image/nitimages/bottomNav-3.webp",style4:"https://hdnfltv.com/image/nitimages/bottomNav_4.webp",style5:"https://hdnfltv.com/image/nitimages/bottomNav-5.webp"},readyThemes:{gadgets1:"https://hdnfltv.com/image/nitimages/gadgets-theme-1.webp",gadgets2:"https://hdnfltv.com/image/nitimages/gadgets-theme-2.webp",gadgets3:"https://hdnfltv.com/image/nitimages/gadgets-theme-3.webp",gadgets4:"https://hdnfltv.com/image/nitimages/gadgets-theme-4.webp",fashion1:"https://hdnfltv.com/image/nitimages/fashion-theme-1.webp",fashion2:"https://hdnfltv.com/image/nitimages/fashion-theme-2.webp",fashion3:"https://hdnfltv.com/image/nitimages/fashion-theme-3.webp",fashion4:"https://hdnfltv.com/image/nitimages/fashion-theme-4.webp",grocery1:"https://hdnfltv.com/image/nitimages/grocery-theme-1.webp",grocery2:"https://hdnfltv.com/image/nitimages/grocery-theme-2.webp",grocery3:"https://hdnfltv.com/image/nitimages/grocery-theme-3.webp",grocery4:"https://hdnfltv.com/image/nitimages/grocery-theme-4.webp",cosmetics1:"https://hdnfltv.com/image/nitimages/cosmetics-theme-1.webp",cosmetics2:"https://hdnfltv.com/image/nitimages/cosmetics-theme-2.webp",cosmetics3:"https://hdnfltv.com/image/nitimages/cosmetics-theme-3.webp",cosmetics4:"https://hdnfltv.com/image/nitimages/cosmetics-theme-4.webp",pharmacy1:"https://hdnfltv.com/image/nitimages/pharmacy-theme-1.webp",pharmacy2:"https://hdnfltv.com/image/nitimages/pharmacy-theme-2.webp",pharmacy3:"https://hdnfltv.com/image/nitimages/pharmacy-theme-3.webp",pharmacy4:"https://hdnfltv.com/image/nitimages/pharmacy-theme-4.webp"}},kt=a=>{const s=a.trim().replace(/[^0-9a-fA-F]/g,"");return s.length===3?`#${s.split("").map(t=>`${t}${t}`).join("").toUpperCase()}`:s.length===6?`#${s.toUpperCase()}`:""},Mt=({id:a,label:s,icon:t,activeTab:l,onTabChange:p})=>e.jsxs("button",{onClick:()=>p(a),className:`px-4 py-2 rounded-md text-sm font-medium transition whitespace-nowrap flex items-center gap-2 ${l===a?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[t," ",s]}),at=({children:a,variant:s="",className:t="",...l})=>e.jsx("button",{className:`px-4 py-2 rounded-lg text-sm font-bold ${s} ${t}`,...l,children:a}),At=({websiteConfiguration:a,setWebsiteConfiguration:s,tenantId:t,onUpdateWebsiteConfig:l,isSavingRef:p,hasUnsavedChangesRef:h,prevWebsiteConfigRef:x,lastSaveTimestampRef:b})=>{const[u,C]=m.useState("All"),[f,o]=m.useState(""),[I,y]=m.useState(!1),[R,E]=m.useState(null),[k,$]=m.useState({name:"",image:"",mobileImage:"",url:"",urlType:"Internal",serial:1,status:"Publish"}),[U,X]=m.useState(!1),[B,Q]=m.useState(!1),[V,H]=m.useState(null),[D,W]=m.useState(null),[S,_]=m.useState("desktop");m.useEffect(()=>{const i=a.carouselItems||[];!D&&i.length>0&&W(i[0])},[a.carouselItems]);const M=m.useRef(null),G=m.useRef(null),K=i=>{H(i),Q(!0)},n=i=>{V&&(V==="carousel"?$(v=>({...v,image:i})):V==="carouselMobile"&&$(v=>({...v,mobileImage:i})))},c=async(i,v)=>{const P=i.target.files?.[0];if(!P)return;const L=2*1024*1024;if(P.size>L){alert("File too large. Max 2MB."),i.target.value="";return}try{let j;v==="carousel"?j=await We(P,{quality:.85}):j=await We(P,{width:Ae,height:Be,quality:.85});const g=ie(j,`${v==="carouselMobile"?"carousel-mobile":"carousel"}-${Date.now()}.webp`),F=await Ee(g,t,"carousel");$(A=>v==="carousel"?{...A,image:F}:{...A,mobileImage:F})}catch(j){console.error("Failed to upload image:",j),alert("Failed to process image.")}finally{i.target.value=""}},r=i=>{i?(E(i),$({...i})):(E(null),$({name:"",image:"",mobileImage:"",url:"",urlType:"Internal",serial:a.carouselItems.length+1,status:"Publish"})),y(!0)},N=async i=>{if(i.preventDefault(),U||!k.image){k.image||T.error("Upload desktop banner.");return}X(!0),p.current=!0;const v=Date.now();try{let P=k.image||"",L=k.mobileImage||"";_e(P)&&(T.loading("Uploading desktop image...",{id:"carousel-handleImageUpload"}),P=await Oe(P,t,"carousel"),T.dismiss("carousel-handleImageUpload")),L&&_e(L)&&(T.loading("Uploading mobile image...",{id:"carousel-mobile-handleImageUpload"}),L=await Oe(L,t,"carousel"),T.dismiss("carousel-mobile-handleImageUpload"));const j={id:R?.id||Date.now().toString(),name:k.name||"Untitled",image:P,mobileImage:L,url:k.url||"#",urlType:k.urlType||"Internal",serial:Number(k.serial),status:k.status||"Publish"},g=R?a.carouselItems.map(q=>q.id===R.id?j:q):[...a.carouselItems,j],F={...a,carouselItems:g};T.loading("Saving carousel...",{id:"carousel-save"}),l&&await l(F),s(F),h.current=!1,x.current=F,b.current=Date.now();const A=Date.now()-v;A<1e3&&await new Promise(q=>setTimeout(q,1e3-A)),T.dismiss("carousel-save"),T.success(R?"Carousel updated successfully!":"Carousel added successfully!"),y(!1)}catch(P){console.error("Carousel save failed:",P),T.error("Failed to save carousel. Please try again.")}finally{X(!1),setTimeout(()=>{p.current=!1},2e3)}},w=async i=>{if(confirm("Delete carousel?")){const v=T.loading("Deleting carousel..."),P=Date.now();p.current=!0;try{const L={...a,carouselItems:a.carouselItems.filter(g=>g.id!==i)};l&&await l(L),s(L),h.current=!1,x.current=L,b.current=Date.now();const j=Date.now()-P;j<1e3&&await new Promise(g=>setTimeout(g,1e3-j)),T.dismiss(v),T.success("Carousel deleted successfully!")}catch(L){T.dismiss(v),console.error("Delete failed:",L),T.error("Failed to delete carousel")}finally{setTimeout(()=>{p.current=!1},2e3)}}},d=a.carouselItems.filter(i=>(u==="All"||i.status===u)&&i.name.toLowerCase().includes(f.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex bg-gray-100 rounded-lg p-0.5 overflow-x-auto scrollbar-hide",children:["All","Publish","Draft","Trash"].map(i=>e.jsxs("button",{onClick:()=>C(i),className:`px-3 sm:px-4 py-1.5 rounded-md text-xs sm:text-sm font-medium transition whitespace-nowrap ${u===i?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[i==="All"?"All Data":i,i==="All"&&e.jsx("span",{className:"ml-1 text-xs bg-gray-200 px-1.5 rounded-full",children:a.carouselItems.length})]},i))}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:"text",placeholder:"Search",className:"w-full pl-9 pr-3 py-1.5 bg-white border rounded-lg text-sm focus:ring-1 focus:ring-green-500",value:f,onChange:i=>o(i.target.value)}),e.jsx(Pe,{className:"absolute left-3 to p-2 text-gray-400",size:14})]}),e.jsxs(at,{onClick:()=>r(),variant:"bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] text-white hover:from-[#2BAEE8] hover:to-[#1A7FE8] flex items-center gap-2 justify-center flex-1 sm:flex-none",children:[e.jsx(se,{size:16}),e.jsx("span",{className:"hidden xs:inline",children:"Add"})," Carousel"]})]})]}),e.jsxs("div",{className:"overflow-hidden border rounded-lg shadow-sm",children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold text-xs uppercase border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 w-10",children:e.jsx("input",{type:"checkbox",className:"rounded"})}),e.jsx("th",{className:"px-3 py-2",children:"Image"}),e.jsx("th",{className:"px-3 py-2",children:"Name"}),e.jsx("th",{className:"px-3 py-2",children:"Url"}),e.jsx("th",{className:"px-3 py-2",children:"Url Type"}),e.jsx("th",{className:"px-3 py-2",children:"Serial"}),e.jsx("th",{className:"px-3 py-2",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[d.map(i=>e.jsxs("tr",{onClick:()=>W(i),className:`hover:bg-gray-50 group cursor-pointer ${D?.id===i.id?"bg-green-50 border-l-4 border-l-green-500":""}`,children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",className:"rounded",onClick:v=>v.stopPropagation()})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"w-14 h-8 bg-gray-100 rounded border overflow-hidden",children:i.image?e.jsx("img",{src:O(i.image),alt:i.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(Y,{size:14})})})}),e.jsx("td",{className:"px-3 py-2 font-medium text-gray-800",children:i.name}),e.jsx("td",{className:"px-3 py-2 text-gray-500 max-w-xs truncate",children:i.url}),e.jsx("td",{className:"px-3 py-2 text-gray-500",children:i.urlType}),e.jsx("td",{className:"px-3 py-2 font-mono",children:i.serial}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${i.status==="Publish"?"bg-green-100 text-green-700":ye.Draft}`,children:i.status})}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsxs("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>r(i),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:e.jsx(Z,{size:14})}),e.jsx("button",{onClick:()=>w(i.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:e.jsx(ee,{size:14})})]})})]},i.id)),d.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"text-center py-8 text-gray-400",children:[e.jsx(Y,{size:28,className:"mx-auto mb-1 opacity-50"}),"No carousel items found."]})})]})]})}),e.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:d.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(Y,{size:28,className:"mx-auto mb-1 opacity-50"}),"No carousel items found."]}):d.map(i=>e.jsx("div",{onClick:()=>W(i),className:`p-3 hover:bg-gray-50 cursor-pointer ${D?.id===i.id?"bg-green-50 border-l-4 border-l-green-500":""}`,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-16 h-10 bg-gray-100 rounded border overflow-hidden flex-shrink-0",children:i.image?e.jsx("img",{src:O(i.image),alt:i.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(Y,{size:16})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-800 truncate",children:i.name}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold flex-shrink-0 ${i.status==="Publish"?"bg-green-100 text-green-700":ye.Draft}`,children:i.status})]}),e.jsx("p",{className:"text-xs text-gray-500 truncate mt-1",children:i.url||"No URL"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-xs text-gray-400",children:["Serial: ",i.serial]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>r(i),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",children:e.jsx(Z,{size:16})}),e.jsx("button",{onClick:()=>w(i.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded",children:e.jsx(ee,{size:16})})]})]})]})]})},i.id))})]}),e.jsxs("div",{className:"flex justify-end items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"1 of 1"}),e.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[e.jsx("button",{disabled:!0,className:"px-2 py-1 bg-gray-50 text-gray-400 border-r",children:e.jsx(Qe,{size:16})}),e.jsx("button",{disabled:!0,className:"px-2 py-1 bg-gray-50 text-gray-400",children:e.jsx(Ve,{size:16})})]})]})]}),e.jsx("div",{className:"hidden xl:block w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky to p-4 border rounded-lg shadow-sm bg-white overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b bg-gray-50 flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(Le,{size:16}),"Preview"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>_("mobile"),className:`p-1.5 rounded ${S==="mobile"?"bg-green-100 text-green-600":"text-gray-400 hover:text-gray-600"}`,title:"Mobile View",children:e.jsx(ze,{size:16})}),e.jsx("button",{onClick:()=>_("desktop"),className:`p-1.5 rounded ${S==="desktop"?"bg-green-100 text-green-600":"text-gray-400 hover:text-gray-600"}`,title:"Desktop View",children:e.jsx(fe,{size:16})})]})]}),D?e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:`mx-auto bg-gray-900 rounded-2xl p-1.5 ${S==="mobile"?"w-44":"w-full"}`,children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:`bg-gray-100 ${S==="mobile"?"px-2 py-1":"px-2 py-1.5"} flex items-center gap-1`,children:S==="mobile"?e.jsx("div",{className:"w-6 h-0.5 bg-gray-300 rounded-full mx-auto"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-400"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"})]}),e.jsx("div",{className:"flex-1 mx-1",children:e.jsx("div",{className:"bg-white rounded px-1.5 py-0.5 text-[6px] text-gray-400 text-center truncate",children:"yourstore.com"})})]})}),e.jsxs("div",{className:`bg-white border-b ${S==="mobile"?"px-1.5 py-1":"px-2 py-1.5"} flex items-center justify-between`,children:[e.jsx("div",{className:`font-bold text-gray-800 ${S==="mobile"?"text-[6px]":"text-[8px]"}`,children:"üè™ Store"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:`bg-gray-100 rounded ${S==="mobile"?"w-8 h-2":"w-12 h-2.5"}`}),e.jsx("div",{className:`bg-pink-500 rounded ${S==="mobile"?"w-3 h-2":"w-4 h-2.5"}`})]})]}),e.jsx("div",{className:`bg-gray-50 border-b flex gap-1 ${S==="mobile"?"px-1 py-0.5":"px-2 py-1"}`,children:["Home","Categories","Products"].map(i=>e.jsx("div",{className:`text-gray-500 ${S==="mobile"?"text-[4px]":"text-[6px]"}`,children:i},i))}),e.jsxs("div",{className:`${S==="mobile"?"p-1":"p-1.5"}`,children:[e.jsxs("div",{className:"relative",children:[(()=>{const i=S==="mobile"&&D.mobileImage?D.mobileImage:D.image;return i?e.jsx("img",{src:O(i),alt:D.name,className:`w-full object-cover rounded ${S==="mobile"?"h-20":"h-24"}`}):e.jsx("div",{className:`w-full bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded flex items-center justify-center ${S==="mobile"?"h-20":"h-24"}`,children:e.jsx("span",{className:`text-white font-bold ${S==="mobile"?"text-[8px]":"text-xs"}`,children:D.name})})})(),e.jsxs("div",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 flex gap-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/50"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/50"})]})]}),e.jsxs("div",{className:"mt-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("span",{className:`font-semibold text-gray-700 ${S==="mobile"?"text-[5px]":"text-[7px]"}`,children:"Categories"}),e.jsx("span",{className:`text-pink-500 ${S==="mobile"?"text-[4px]":"text-[5px]"}`,children:"View All ‚Üí"})]}),e.jsx("div",{className:"flex gap-0.5 overflow-hidden",children:["üéÆ","üì±","üíª","üéß","‚åö"].map((i,v)=>e.jsx("div",{className:`bg-gray-100 rounded flex items-center justify-center flex-shrink-0 ${S==="mobile"?"w-5 h-5 text-[8px]":"w-6 h-6 text-[10px]"}`,children:i},v))})]})]})]})}),e.jsxs("div",{className:"mt-3 space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${D.status==="Publish"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:D.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Serial:"}),e.jsx("span",{className:"text-gray-700",children:D.serial})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"URL Type:"}),e.jsx("span",{className:"text-gray-700",children:D.urlType||"None"})]}),D.url&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"URL:"}),e.jsx("span",{className:"text-gray-700 truncate max-w-[120px]",title:D.url,children:D.url})]})]}),e.jsxs("button",{onClick:()=>r(D),className:"w-full mt-4 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2",children:[e.jsx(Z,{size:16}),"Edit Carousel"]})]}):e.jsxs("div",{className:"p-8 text-center text-gray-400",children:[e.jsx(Y,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Select a carousel to preview"})]})]})})]}),I&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-hidden max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-4 border-b bg-gray-50 flex justify-between items-center sticky top-0",children:[e.jsx("h3",{className:"font-bold text-gray-800",children:R?"Edit Carousel":"Add New Carousel"}),e.jsx("button",{onClick:()=>y(!1),children:e.jsx(le,{size:20,className:"text-gray-500"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desktop Banner*"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[tt,"√ó",st,"px. Auto WebP."]}),e.jsx("input",{type:"file",ref:M,onChange:i=>c(i,"carousel"),className:"hidden",accept:"image/*"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{onClick:()=>M.current?.click(),className:"flex-1 border-2 border-dashed rounded-lg p-2 text-center cursor-pointer hover:bg-gray-50 h-28",children:k.image?e.jsx("img",{src:O(k.image),alt:"",className:"w-full h-full object-cover rounded"}):e.jsxs("div",{className:"text-gray-400 flex flex-col items-center justify-center h-full",children:[e.jsx(Ie,{size:32,className:"mb-2"}),e.jsx("p",{className:"text-sm",children:"Upload"})]})}),e.jsxs("button",{type:"button",onClick:()=>K("carousel"),className:"w-24 border-2 border-dashed border-indigo-300 rounded-lg flex flex-col items-center justify-center text-indigo-600 hover:bg-indigo-50 transition",children:[e.jsx(Fe,{size:24,className:"mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Gallery"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile Banner"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:[Ae,"√ó",Be,"px. Auto WebP."]}),e.jsx("input",{type:"file",ref:G,onChange:i=>c(i,"carouselMobile"),className:"hidden",accept:"image/*"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{onClick:()=>G.current?.click(),className:"flex-1 border-2 border-dashed border-blue-300 rounded-lg p-2 text-center cursor-pointer hover:bg-blue-50 h-28",children:k.mobileImage?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:O(k.mobileImage),alt:"",className:"w-full h-full object-cover rounded"}),e.jsx("button",{type:"button",onClick:i=>{i.stopPropagation(),$(v=>({...v,mobileImage:""}))},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1",children:e.jsx(le,{size:14})})]}):e.jsxs("div",{className:"text-blue-400 flex flex-col items-center justify-center h-full",children:[e.jsx(Ie,{size:32,className:"mb-2"}),e.jsx("p",{className:"text-sm",children:"Upload"})]})}),e.jsxs("button",{type:"button",onClick:()=>K("carouselMobile"),className:"w-24 border-2 border-dashed border-indigo-300 rounded-lg flex flex-col items-center justify-center text-indigo-600 hover:bg-indigo-50 transition",children:[e.jsx(Fe,{size:24,className:"mb-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Gallery"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg text-sm",value:k.name,onChange:i=>$({...k,name:i.target.value}),required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border rounded-lg text-sm",value:k.serial,onChange:i=>$({...k,serial:Number(i.target.value)}),required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Url"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border rounded-lg text-sm",value:k.url,onChange:i=>$({...k,url:i.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Url Type"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg text-sm",value:k.urlType,onChange:i=>$({...k,urlType:i.target.value}),children:[e.jsx("option",{value:"Internal",children:"Internal"}),e.jsx("option",{value:"External",children:"External"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{className:"w-full px-3 py-2 border rounded-lg text-sm",value:k.status,onChange:i=>$({...k,status:i.target.value}),children:[e.jsx("option",{value:"Publish",children:"Publish"}),e.jsx("option",{value:"Draft",children:"Draft"})]})]}),e.jsxs("div",{className:"pt-4 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 border rounded-lg text-sm hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:U,className:"px-4 py-2 bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] text-white rounded-lg text-sm font-bold hover:from-[#2BAEE8] hover:to-[#1A7FE8] disabled:opacity-60 flex items-center gap-2",children:U?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{size:16,className:"animate-spin"}),"Saving..."]}):"Save Carousel"})]})]})]})}),e.jsx(Xe,{isOpen:B,onClose:()=>{Q(!1),H(null)},onSelect:n,title:`Choose ${V==="carousel"?"Desktop Banner":"Mobile Banner"} from Gallery`})]})},Bt=({websiteConfiguration:a,setWebsiteConfiguration:s,tenantId:t,products:l,onUpdateWebsiteConfig:p,hasUnsavedChangesRef:h,prevWebsiteConfigRef:x,lastSaveTimestampRef:b})=>{const[u,C]=m.useState("All"),[f,o]=m.useState(""),[I,y]=m.useState(!1),[R,E]=m.useState(null),[k,$]=m.useState({name:"",logo:"",startDate:"",endDate:"",url:"",status:"Publish",serial:1,productId:""}),[U,X]=m.useState(1),[B,Q]=m.useState(10),[V,H]=m.useState(null),[D,W]=m.useState(null),[S,_]=m.useState("desktop"),M=m.useRef(null);m.useEffect(()=>{const d=a.campaigns||[];!D&&d.length>0&&W(d[0])},[a.campaigns]);const G=d=>{d?(E(d),$({...d})):(E(null),$({name:"",logo:"",startDate:"",endDate:"",url:"",serial:(a.campaigns?.length||0)+1,productId:"",status:"Publish"})),y(!0)},K=async d=>{d.preventDefault();const i=T.loading("Saving campaign..."),v=Date.now();try{const P={id:R?.id||Date.now().toString(),name:k.name||"Untitled",logo:k.logo||"",startDate:k.startDate||new Date().toISOString(),endDate:k.endDate||new Date().toISOString(),url:k.url||"#",serial:Number(k.serial),status:k.status,productId:k.productId||""},L={...a,campaigns:R?(a.campaigns||[]).map(g=>g.id===R.id?P:g):[...a.campaigns||[],P]};p&&await p(L),s(L),h.current=!1,x.current=L,b.current=Date.now();const j=Date.now()-v;j<1e3&&await new Promise(g=>setTimeout(g,1e3-j)),T.dismiss(i),T.success(R?"Campaign updated!":"Campaign added!"),y(!1)}catch(P){T.dismiss(i),console.error("Campaign save failed:",P),T.error("Failed to save campaign.")}},n=async d=>{if(confirm("Delete campaign?")){const i=T.loading("Deleting campaign..."),v=Date.now();try{const P={...a,campaigns:(a.campaigns||[]).filter(j=>j.id!==d)};p&&await p(P),s(P),h.current=!1,x.current=P,b.current=Date.now();const L=Date.now()-v;L<1e3&&await new Promise(j=>setTimeout(j,1e3-L)),T.dismiss(i),T.success("Campaign deleted successfully!")}catch(P){T.dismiss(i),console.error("Delete failed:",P),T.error("Failed to delete campaign")}}},c=async d=>{const i=d.target.files?.[0];if(i){try{const v=await $e(i,{quality:.85,maxDimension:400}),P=ie(v,`campaign-${Date.now()}.webp`),L=await Ee(P,t,"carousel");$(j=>({...j,logo:L}))}catch{T.error("Upload failed.")}M.current&&(M.current.value="")}},r=(a.campaigns||[]).filter(d=>(u==="All"||d.status===u)&&d.name.toLowerCase().includes(f.toLowerCase())),N=Math.ceil(r.length/B),w=r.slice((U-1)*B,U*B);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-2 sm:gap-3",children:[e.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1 overflow-x-auto scrollbar-hide -mx-3 px-3 sm:mx-0 sm:px-1",children:["All","Publish","Draft"].map(d=>e.jsx("button",{onClick:()=>{C(d),X(1)},className:`px-3 sm:px-4 py-1.5 rounded-md text-xs sm:text-sm font-medium transition whitespace-nowrap ${u===d?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:d==="All"?"All Status":d},d))}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Pe,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:f,onChange:d=>{o(d.target.value),X(1)},placeholder:"Search Category",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-green-500"})]}),e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsxs("select",{value:B,onChange:d=>{Q(Number(d.target.value)),X(1)},className:"border rounded-lg px-2 sm:px-3 py-2 text-sm focus:ring-2 focus:ring-green-500 flex-1 sm:flex-none",children:[e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsxs(at,{onClick:()=>G(),variant:"bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] text-white hover:from-[#2BAEE8] hover:to-[#1A7FE8] flex items-center gap-2 justify-center flex-1 sm:flex-none",children:[e.jsx(se,{size:18}),e.jsx("span",{className:"hidden xs:inline",children:"Add"})," Campaign"]})]})]})]}),e.jsxs("div",{className:"overflow-visible border rounded-lg shadow-sm min-h-[400px]",children:[e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-700 font-semibold text-xs uppercase border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 w-10",children:e.jsx("input",{type:"checkbox",className:"rounded"})}),e.jsx("th",{className:"px-3 py-2",children:"SL"}),e.jsx("th",{className:"px-3 py-2",children:"Product"}),e.jsx("th",{className:"px-3 py-2",children:"Campaign Name"}),e.jsx("th",{className:"px-3 py-2",children:"Start"}),e.jsx("th",{className:"px-3 py-2",children:"End"}),e.jsx("th",{className:"px-3 py-2",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Action"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[w.map((d,i)=>{const v=l.find(L=>String(L.id)===d.productId),P=(U-1)*B+i+1;return e.jsxs("tr",{onClick:()=>W(d),className:`hover:bg-gray-50 group cursor-pointer ${D?.id===d.id?"bg-green-50 border-l-4 border-l-green-500":""}`,children:[e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{type:"checkbox",className:"rounded",onClick:L=>L.stopPropagation()})}),e.jsx("td",{className:"px-3 py-2 font-medium text-gray-800",children:d.serial||P}),e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded border overflow-hidden flex-shrink-0",children:v?.image?.[0]?e.jsx("img",{src:O(v.image[0]),alt:v.name,className:"w-full h-full object-cover"}):d.logo?e.jsx("img",{src:O(d.logo),alt:d.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(Y,{size:16})})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-800 truncate max-w-[180px]",children:v?.name||"No Product"}),v?.sku&&e.jsxs("p",{className:"text-xs text-gray-500",children:["[",v.sku,"]"]})]})]})}),e.jsx("td",{className:"px-3 py-2 text-gray-700",children:d.name}),e.jsx("td",{className:"px-3 py-2 text-gray-500",children:new Date(d.startDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")}),e.jsx("td",{className:"px-3 py-2 text-gray-500",children:new Date(d.endDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${d.status==="Publish"?"bg-green-100 text-green-700":ye.Draft}`,children:d.status})}),e.jsxs("td",{className:"px-3 py-2 text-right relative",children:[e.jsx("button",{onClick:()=>H(V===d.id?null:d.id),className:"p-1.5 hover:bg-gray-100 rounded-lg transition text-gray-500 hover:text-gray-700",children:e.jsx(Je,{size:18})}),V===d.id&&e.jsxs("div",{className:"absolute right-0 top-full mt-1 bg-white border rounded-lg shadow-xl z-50 min-w-[140px]",children:[e.jsxs("button",{onClick:L=>{L.stopPropagation(),G(d),H(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-gray-50 flex items-center gap-2 text-blue-600",children:[e.jsx(Z,{size:14})," Edit"]}),e.jsxs("button",{onClick:L=>{L.stopPropagation(),n(d.id),H(null)},className:"w-full px-4 py-2.5 text-left text-sm hover:bg-red-50 flex items-center gap-2 text-red-600",children:[e.jsx(ee,{size:14})," Delete"]})]})]})]},d.id)}),w.length===0&&e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"text-center py-8 text-gray-400",children:[e.jsx(be,{size:28,className:"mx-auto mb-2 opacity-50"}),"No campaigns found."]})})]})]})}),e.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:w.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-400",children:[e.jsx(be,{size:28,className:"mx-auto mb-2 opacity-50"}),"No campaigns found."]}):w.map((d,i)=>{const v=l.find(P=>String(P.id)===d.productId);return e.jsx("div",{onClick:()=>W(d),className:`p-3 hover:bg-gray-50 cursor-pointer ${D?.id===d.id?"bg-green-50 border-l-4 border-l-green-500":""}`,children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded border overflow-hidden flex-shrink-0",children:v?.image?.[0]?e.jsx("img",{src:O(v.image[0]),alt:v.name,className:"w-full h-full object-cover"}):d.logo?e.jsx("img",{src:O(d.logo),alt:d.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(Y,{size:20})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-800 truncate",children:d.name}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:v?.name||"No Product"})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold flex-shrink-0 ${d.status==="Publish"?"bg-green-100 text-green-700":ye.Draft}`,children:d.status})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-500",children:[e.jsx("span",{children:new Date(d.startDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})}),e.jsx("span",{children:"‚Üí"}),e.jsx("span",{children:new Date(d.endDate).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit"})})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>G(d),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",children:e.jsx(Z,{size:16})}),e.jsx("button",{onClick:()=>n(d.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded",children:e.jsx(ee,{size:16})})]})]})]})},d.id)})})]}),r.length>0&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-2 px-2 sm:px-3 py-2 border rounded-lg bg-gray-50",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-left",children:["Showing ",(U-1)*B+1," to ",Math.min(U*B,r.length)," of ",r.length]}),e.jsxs("div",{className:"flex items-center gap-1 flex-wrap justify-center",children:[e.jsxs("button",{onClick:()=>X(d=>Math.max(1,d-1)),disabled:U===1,className:"px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center gap-1",children:[e.jsx(Qe,{size:16})," ",e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),Array.from({length:Math.min(3,N)},(d,i)=>{let v;return N<=3||U<=2?v=i+1:U>=N-1?v=N-2+i:v=U-1+i,e.jsx("button",{onClick:()=>X(v),className:`w-8 h-8 text-xs sm:text-sm font-medium rounded-lg transition ${U===v?"bg-teal-500 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:v},v)}),e.jsxs("button",{onClick:()=>X(d=>Math.min(N,d+1)),disabled:U===N,className:"px-2 sm:px-3 py-1.5 text-xs sm:text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center gap-1",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"})," ",e.jsx(Ve,{size:16})]})]})]})]}),e.jsx("div",{className:"hidden xl:block w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky to p-4 border rounded-lg shadow-sm bg-white overflow-hidden",children:[e.jsxs("div",{className:"p-3 border-b bg-gray-50 flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(Le,{size:16}),"Preview"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>_("mobile"),className:`p-1.5 rounded ${S==="mobile"?"bg-green-100 text-green-600":"text-gray-400 hover:text-gray-600"}`,title:"Mobile View",children:e.jsx(ze,{size:16})}),e.jsx("button",{onClick:()=>_("desktop"),className:`p-1.5 rounded ${S==="desktop"?"bg-green-100 text-green-600":"text-gray-400 hover:text-gray-600"}`,title:"Desktop View",children:e.jsx(fe,{size:16})})]})]}),D?e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:`mx-auto bg-gray-900 rounded-2xl p-1.5 ${S==="mobile"?"w-44":"w-full"}`,children:e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[e.jsx("div",{className:`bg-gray-100 ${S==="mobile"?"px-2 py-1":"px-2 py-1.5"} flex items-center gap-1`,children:S==="mobile"?e.jsx("div",{className:"w-6 h-0.5 bg-gray-300 rounded-full mx-auto"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-400"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-yellow-400"}),e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400"})]}),e.jsx("div",{className:"flex-1 mx-1",children:e.jsx("div",{className:"bg-white rounded px-1.5 py-0.5 text-[6px] text-gray-400 text-center truncate",children:"yourstore.com"})})]})}),e.jsxs("div",{className:`bg-white border-b ${S==="mobile"?"px-1.5 py-1":"px-2 py-1.5"} flex items-center justify-between`,children:[e.jsx("div",{className:`font-bold text-gray-800 ${S==="mobile"?"text-[6px]":"text-[8px]"}`,children:"üè™ Store"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:`bg-gray-100 rounded ${S==="mobile"?"w-8 h-2":"w-12 h-2.5"}`}),e.jsx("div",{className:`bg-pink-500 rounded ${S==="mobile"?"w-3 h-2":"w-4 h-2.5"}`})]})]}),e.jsx("div",{className:`bg-gray-50 border-b flex gap-1 ${S==="mobile"?"px-1 py-0.5":"px-2 py-1"}`,children:["Home","Categories","Products"].map(d=>e.jsx("div",{className:`text-gray-500 ${S==="mobile"?"text-[4px]":"text-[6px]"}`,children:d},d))}),e.jsxs("div",{className:`${S==="mobile"?"p-1":"p-1.5"}`,children:[e.jsxs("div",{className:`flex gap-1 ${S==="mobile"?"flex-col":""}`,children:[e.jsxs("div",{className:`${S==="mobile"?"w-full":"flex-1"} relative`,children:[(()=>{const d=l.find(v=>String(v.id)===D.productId),i=d?.image||d?.galleryImages?.[0]||D.logo;return i?e.jsx("img",{src:O(i),alt:D.name,className:`w-full object-cover rounded ${S==="mobile"?"h-16":"h-20"}`}):e.jsx("div",{className:`w-full bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 rounded flex items-center justify-center ${S==="mobile"?"h-16":"h-20"}`,children:e.jsx("span",{className:`text-white font-bold ${S==="mobile"?"text-[8px]":"text-xs"}`,children:D.name})})})(),e.jsx("div",{className:`absolute bottom-1 left-1 bg-black/60 text-white rounded px-1 ${S==="mobile"?"text-[5px]":"text-[7px]"}`,children:D.name})]}),e.jsxs("div",{className:`${S==="mobile"?"w-full mt-1":"w-16"} bg-gray-50 rounded border`,children:[e.jsx("div",{className:`font-semibold text-gray-700 border-b bg-white ${S==="mobile"?"text-[5px] px-1 py-0.5":"text-[6px] px-1 py-0.5"}`,children:"Upcoming Campaigns"}),e.jsxs("div",{className:`${S==="mobile"?"p-1 flex gap-1":"p-0.5 space-y-0.5"}`,children:[e.jsxs("div",{className:`bg-white rounded border p-0.5 ${S==="mobile"?"flex-1":""}`,children:[e.jsxs("div",{className:`flex items-center gap-0.5 ${S==="mobile"?"":"flex-col"}`,children:[e.jsx("div",{className:"w-3 h-1 bg-gradient-to-r from-cyan-400 to-blue-500 rounded-full"}),e.jsxs("div",{className:`text-[5px] text-gray-600 ${S==="mobile"?"flex gap-1":"flex gap-0.5 mt-0.5"}`,children:[e.jsx("span",{className:"bg-gray-100 px-0.5 rounded",children:"0d"}),e.jsx("span",{className:"bg-gray-100 px-0.5 rounded",children:"0h"})]})]}),e.jsx("div",{className:"text-[4px] text-green-600 mt-0.5",children:"Campaign live!"})]}),e.jsx("div",{className:`bg-white rounded border p-0.5 ${S==="mobile"?"flex-1":""}`,children:e.jsxs("div",{className:`flex items-center gap-0.5 ${S==="mobile"?"":"flex-col"}`,children:[e.jsx("div",{className:"w-3 h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"w-full h-1/2 bg-gradient-to-r from-green-400 to-teal-500"})}),e.jsxs("div",{className:`text-[5px] text-gray-600 ${S==="mobile"?"flex gap-1":"flex gap-0.5 mt-0.5"}`,children:[e.jsx("span",{className:"bg-gray-100 px-0.5 rounded",children:"2d"}),e.jsx("span",{className:"bg-gray-100 px-0.5 rounded",children:"5h"})]})]})})]})]})]}),e.jsxs("div",{className:"mt-1 ",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5 ",children:[e.jsx("span",{className:`font-semibold text-gray-700 ${S==="mobile"?"text-[5px]":"text-[7px]"}`,children:"Categories"}),e.jsx("span",{className:`text-pink-500 ${S==="mobile"?"text-[4px]":"text-[5px]"}`,children:"View All ‚Üí"})]}),e.jsx("div",{className:"flex gap-0.5 overflow-hidden",children:["üéÆ","üì±","üíª","üéß","‚åö"].map((d,i)=>e.jsx("div",{className:`bg-gray-100 rounded flex items-center justify-center flex-shrink-0 ${S==="mobile"?"w-5 h-5 text-[8px]":"w-6 h-6 text-[10px]"}`,children:d},i))})]})]})]})}),e.jsxs("div",{className:"mt-3 space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${D.status==="Publish"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:D.status})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Start:"}),e.jsx("span",{className:"text-gray-700",children:new Date(D.startDate).toLocaleDateString("en-GB")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"End:"}),e.jsx("span",{className:"text-gray-700",children:new Date(D.endDate).toLocaleDateString("en-GB")})]})]}),e.jsxs("button",{onClick:()=>G(D),className:"w-full mt-4 px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2",children:[e.jsx(Z,{size:16}),"Edit Campaign"]})]}):e.jsxs("div",{className:"p-8 text-center text-gray-400",children:[e.jsx(be,{size:32,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Select a campaign to preview"})]})]})})]}),I&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4",onClick:()=>y(!1),children:e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:d=>d.stopPropagation(),children:[e.jsx("div",{className:"p-4 sm:p-6 border-b sticky top-0 bg-white z-10",children:e.jsx("h3",{className:"text-lg sm:text-xl font-bold",children:R?"Edit Campaign":"Add New Campaign"})}),e.jsxs("form",{onSubmit:K,className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Campaign Name *"}),e.jsx("input",{type:"text",value:k.name||"",onChange:d=>$(i=>({...i,name:d.target.value})),className:"w-full border rounded-lg px-3 sm:px-4 py-2 text-sm focus:ring-2 focus:ring-green-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Select Product"}),e.jsxs("select",{value:k.productId||"",onChange:d=>$(i=>({...i,productId:d.target.value})),className:"w-full border rounded-lg px-3 sm:px-4 py-2 text-sm focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"",children:"-- Select a Product --"}),l.map(d=>e.jsx("option",{value:d.id,children:d.name},d.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Campaign Logo"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-4",children:[k.logo?e.jsx("img",{src:O(k.logo),alt:"Logo",className:"w-16 sm:w-20 h-10 sm:h-12 object-contain border rounded"}):e.jsx("div",{className:"w-16 sm:w-20 h-10 sm:h-12 bg-gray-100 rounded flex items-center justify-center",children:e.jsx(Y,{className:"text-gray-400",size:20})}),e.jsx("input",{type:"file",ref:M,accept:"image/*",onChange:c,className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>M.current?.click(),className:"px-3 sm:px-4 py-1.5 sm:py-2 border rounded-lg hover:bg-gray-50 text-xs sm:text-sm",children:"Upload Logo"}),k.logo&&e.jsx("button",{type:"button",onClick:()=>$(d=>({...d,logo:""})),className:"text-red-500 hover:text-red-700",children:e.jsx(le,{size:18})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 xs:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),e.jsx("input",{type:"datetime-local",value:k.startDate?.slice(0,16)||"",onChange:d=>$(i=>({...i,startDate:new Date(d.target.value).toISOString()})),className:"w-full border rounded-lg px-3 sm:px-4 py-2 text-sm focus:ring-2 focus:ring-green-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),e.jsx("input",{type:"datetime-local",value:k.endDate?.slice(0,16)||"",onChange:d=>$(i=>({...i,endDate:new Date(d.target.value).toISOString()})),className:"w-full border rounded-lg px-3 sm:px-4 py-2 text-sm focus:ring-2 focus:ring-green-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Link URL"}),e.jsx("input",{type:"text",value:k.url||"",onChange:d=>$(i=>({...i,url:d.target.value})),className:"w-full border rounded-lg px-3 sm:px-4 py-2 text-sm focus:ring-2 focus:ring-green-500",placeholder:"https://..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Order"}),e.jsx("input",{type:"number",value:k.serial||1,onChange:d=>$(i=>({...i,serial:parseInt(d.target.value)})),className:"w-full border rounded-lg px-3 sm:px-4 py-2 text-sm focus:ring-2 focus:ring-green-500",min:1})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{value:k.status||"Publish",onChange:d=>$(i=>({...i,status:d.target.value})),className:"w-full border rounded-lg px-3 sm:px-4 py-2 text-sm focus:ring-2 focus:ring-green-500",children:[e.jsx("option",{value:"Publish",children:"Publish"}),e.jsx("option",{value:"Draft",children:"Draft"})]})]})]}),e.jsxs("div",{className:"flex flex-col xs:flex-row gap-2 sm:gap-3 pt-3 sm:pt-4",children:[e.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 px-4 py-2 border rounded-lg hover:bg-gray-50 text-sm",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] text-white rounded-lg hover:from-[#2BAEE8] hover:to-[#1A7FE8] font-medium text-sm",children:[R?"Update":"Create"," Campaign"]})]})]})]})})]})},z={container:{display:"flex",flexDirection:"column",gap:"17px",width:"100%"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},headerLeft:{display:"flex",flexDirection:"column",gap:"4px"},headerTitle:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"22px",color:"#023337",letterSpacing:"0.11px",margin:0},headerSubtitle:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"16px",color:"#777",margin:0},createButton:{display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",height:"48px",padding:"6px 16px 6px 12px",background:"linear-gradient(to right, #38bdf8, #1e90ff)",borderRadius:"8px",border:"none",cursor:"pointer"},createButtonText:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"15px",color:"white",letterSpacing:"-0.3px"},tableContainer:{display:"flex",flexDirection:"column",width:"100%",background:"white",borderRadius:"8px",overflow:"visible",minHeight:"400px"},tableHeader:{display:"grid",gridTemplateColumns:"50px 80px 1fr 1fr 100px 80px",alignItems:"center",height:"48px",background:"#f5f5f5",padding:"0 16px"},tableHeaderCell:{fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"16px",color:"black"},tableRow:{display:"grid",gridTemplateColumns:"50px 80px 1fr 1fr 100px 80px",alignItems:"center",height:"68px",borderBottom:"0.5px solid #b9b9b9",padding:"0 16px"},checkbox:{width:"20px",height:"20px",background:"white",border:"1.5px solid #eaf8e7",borderRadius:"4px",cursor:"pointer"},slNumber:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#1d1a1a",textAlign:"center"},productCell:{display:"flex",alignItems:"center",gap:"8px"},productImage:{width:"40px",height:"40px",borderRadius:"8px",background:"linear-gradient(to right, #38bdf8, #1e90ff)",objectFit:"cover",overflow:"hidden"},productName:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#1d1a1a",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},urlText:{fontFamily:"'Poppins', sans-serif",fontWeight:400,fontSize:"12px",color:"#1d1a1a",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},statusBadge:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"2px 9px",borderRadius:"30px",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"12px",cursor:"pointer",border:"none"},statusPublish:{background:"#c1ffbc",color:"#085e00"},statusDraft:{background:"#ffeeba",color:"#856404"},actionButton:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",background:"transparent",border:"none",padding:0},dropdownMenu:{position:"absolute",right:"0",top:"100%",background:"white",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",minWidth:"140px",zIndex:50,overflow:"visible",border:"1px solid #e5e7eb"},dropdownItem:{display:"flex",alignItems:"center",gap:"10px",padding:"12px 16px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",color:"#333",cursor:"pointer",background:"transparent",border:"none",width:"100%",textAlign:"left"},emptyState:{display:"flex",alignItems:"center",justifyContent:"center",padding:"48px 16px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",color:"#777"},mobileCard:{display:"flex",gap:"12px",padding:"16px",borderBottom:"1px solid #eee"},mobileCardImage:{width:"60px",height:"60px",borderRadius:"8px",objectFit:"cover",flexShrink:0},mobileCardContent:{flex:1,minWidth:0},mobileCardHeader:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:"8px"},mobileCardName:{fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"14px",color:"#1d1a1a",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},mobileCardUrl:{fontFamily:"'Poppins', sans-serif",fontSize:"12px",color:"#777",marginTop:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},mobileCardFooter:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"8px"}},Wt=({websiteConfiguration:a,setWebsiteConfiguration:s,tenantId:t,onUpdateWebsiteConfig:l,hasUnsavedChangesRef:p,prevWebsiteConfigRef:h,lastSaveTimestampRef:x})=>{const[b]=m.useState("All"),[u]=m.useState(""),[C,f]=m.useState(!1),[o,I]=m.useState(null),[y,R]=m.useState({name:"",image:"",url:"",urlType:"Internal",priority:0,status:"Draft"}),[E,k]=m.useState(null),[$,U]=m.useState(new Set),[X,B]=m.useState(!1),Q=m.useRef(null),V=r=>{R(N=>({...N,image:r}))},H=async r=>{const N=r.target.files?.[0];if(!N)return;const w=2*1024*1024;if(N.size>w){alert("File too large. Max 2MB."),r.target.value="";return}try{const d=await $e(N,{quality:.82,maxDimension:2e3});R(i=>({...i,image:d}))}catch(d){console.error("Failed to upload image:",d),alert("Failed to process image.")}finally{r.target.value=""}},D=r=>{r?(I(r),R(r)):(I(null),R({name:"",image:"",url:"",urlType:"Internal",priority:0,status:"Draft"})),f(!0)},W=async r=>{if(r.preventDefault(),!y.name||!y.image){T.error("Please fill all required fields");return}const N=T.loading("Saving popup..."),w=Date.now();try{const d={id:o?.id||Date.now(),name:y.name,image:y.image,url:y.url||"",urlType:y.urlType,priority:Number(y.priority),status:y.status,createdAt:o?.createdAt||new Date().toISOString(),updatedAt:new Date().toISOString()},i=o?(a.popups||[]).map(L=>L.id===o.id?d:L):[...a.popups||[],d],v={...a,popups:i};l&&await l(v),s(v),p.current=!1,h.current=v,x.current=Date.now();const P=Date.now()-w;P<1e3&&await new Promise(L=>setTimeout(L,1e3-P)),T.dismiss(N),T.success(o?"Popup updated successfully!":"Popup added successfully!"),f(!1)}catch(d){T.dismiss(N),console.error("Popup save failed:",d),T.error("Failed to save popup")}},S=async r=>{if(confirm("Delete popup?")){const N=T.loading("Deleting popup..."),w=Date.now();try{const d={...a,popups:(a.popups||[]).filter(v=>v.id!==r)};l&&await l(d),s(d),p.current=!1,h.current=d,x.current=Date.now();const i=Date.now()-w;i<1e3&&await new Promise(v=>setTimeout(v,1e3-i)),T.dismiss(N),T.success("Popup deleted successfully!")}catch(d){T.dismiss(N),console.error("Delete failed:",d),T.error("Failed to delete popup")}}},_=async r=>{const N=T.loading("Updating status..."),w=Date.now();try{const d=r.status==="Draft"?"Publish":"Draft",i=(a.popups||[]).map(L=>L.id===r.id?{...L,status:d,updatedAt:new Date().toISOString()}:L),v={...a,popups:i};l&&await l(v),s(v),p.current=!1,h.current=v,x.current=Date.now();const P=Date.now()-w;P<1e3&&await new Promise(L=>setTimeout(L,1e3-P)),T.dismiss(N),T.success("Status updated!")}catch(d){T.dismiss(N),console.error("Status update failed:",d),T.error("Failed to update status")}},M=(a.popups||[]).filter(r=>(b==="All"||r.status===b)&&r.name.toLowerCase().includes(u.toLowerCase())),G=r=>{const N=new Set($);N.has(r)?N.delete(r):N.add(r),U(N)},K=(r,N)=>r.length<=N?r:r.substring(0,N)+"...",[n,c]=m.useState(M[0]||null);return m.useEffect(()=>{M.length>0&&!n?c(M[0]):M.length===0?c(null):n&&!M.find(r=>r.id===n.id)&&c(M[0])},[M]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-3 sm:gap-4 lg:gap-6",style:{width:"100%"},children:[e.jsxs("div",{style:{...z.container,flex:1,minWidth:0},children:[e.jsxs("div",{style:z.header,children:[e.jsxs("div",{style:z.headerLeft,children:[e.jsx("p",{style:z.headerTitle,children:"Popup"}),e.jsx("p",{style:z.headerSubtitle,children:"Create unlimited Popup"})]}),e.jsxs("button",{style:z.createButton,onClick:()=>D(),onMouseEnter:r=>{r.currentTarget.style.opacity="0.9"},onMouseLeave:r=>{r.currentTarget.style.opacity="1"},children:[e.jsx(se,{size:24,color:"white"}),e.jsx("span",{style:z.createButtonText,children:"Create Popup"})]})]}),e.jsxs("div",{style:z.tableContainer,children:[e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{style:z.tableHeader,children:[e.jsx("div",{style:z.tableHeaderCell,children:"SL"}),e.jsx("div",{style:z.tableHeaderCell}),e.jsx("div",{style:z.tableHeaderCell,children:"Name"}),e.jsx("div",{style:z.tableHeaderCell,children:"URL"}),e.jsx("div",{style:z.tableHeaderCell,children:"Status"}),e.jsx("div",{style:z.tableHeaderCell,children:"Action"})]}),M.length===0?e.jsx("div",{style:z.emptyState,children:"No popups found"}):M.map((r,N)=>e.jsxs("div",{style:{...z.tableRow,cursor:"pointer",background:n?.id===r.id?"#f0f9ff":"transparent",transition:"background 0.15s ease"},onClick:()=>c(r),onMouseEnter:w=>{n?.id!==r.id&&(w.currentTarget.style.background="#fafafa")},onMouseLeave:w=>{w.currentTarget.style.background=n?.id===r.id?"#f0f9ff":"transparent"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:e.jsx("input",{type:"checkbox",checked:$.has(r.id),onChange:w=>{w.stopPropagation(),G(r.id)},onClick:w=>w.stopPropagation(),style:z.checkbox})}),e.jsx("div",{style:z.slNumber,children:N+1}),e.jsxs("div",{style:z.productCell,children:[e.jsx("div",{style:z.productImage,children:e.jsx("img",{src:O(r.image),alt:r.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"8px"}})}),e.jsx("span",{style:z.productName,title:r.name,children:K(r.name,25)})]}),e.jsx("div",{style:z.urlText,title:r.url||"-",children:K(r.url||"-",40)}),e.jsx("div",{children:e.jsx("button",{onClick:w=>{w.stopPropagation(),_(r)},style:{...z.statusBadge,...r.status==="Publish"?z.statusPublish:z.statusDraft},children:r.status})}),e.jsxs("div",{style:{position:"relative"},onClick:w=>w.stopPropagation(),children:[e.jsx("button",{style:z.actionButton,onClick:w=>{w.stopPropagation(),k(E===r.id?null:r.id)},children:e.jsx(Je,{size:20,color:"#666"})}),E===r.id&&e.jsxs("div",{style:z.dropdownMenu,children:[e.jsxs("button",{style:{...z.dropdownItem},onClick:w=>{w.stopPropagation(),D(r),k(null)},onMouseEnter:w=>{w.currentTarget.style.background="#f5f5f5"},onMouseLeave:w=>{w.currentTarget.style.background="transparent"},children:[e.jsx(Z,{size:16,color:"#1e90ff"}),"Edit"]}),e.jsxs("button",{style:{...z.dropdownItem,color:"#dc2626"},onClick:w=>{w.stopPropagation(),S(r.id),k(null)},onMouseEnter:w=>{w.currentTarget.style.background="#fef2f2"},onMouseLeave:w=>{w.currentTarget.style.background="transparent"},children:[e.jsx(ee,{size:16,color:"#dc2626"}),"Delete"]})]})]})]},r.id))]}),e.jsx("div",{className:"md:hidden",children:M.length===0?e.jsx("div",{style:z.emptyState,children:"No popups found"}):M.map((r,N)=>e.jsxs("div",{style:z.mobileCard,children:[e.jsx("img",{src:O(r.image),alt:r.name,style:z.mobileCardImage}),e.jsxs("div",{style:z.mobileCardContent,children:[e.jsxs("div",{style:z.mobileCardHeader,children:[e.jsx("span",{style:z.mobileCardName,children:r.name}),e.jsx("button",{onClick:()=>_(r),style:{...z.statusBadge,...r.status==="Publish"?z.statusPublish:z.statusDraft},children:r.status})]}),e.jsx("p",{style:z.mobileCardUrl,children:r.url||"No URL"}),e.jsxs("div",{style:z.mobileCardFooter,children:[e.jsxs("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"12px",color:"#777"},children:["#",N+1]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>D(r),style:{...z.actionButton,background:"#eff6ff",borderRadius:"6px",padding:"6px"},children:e.jsx(Z,{size:16,color:"#1e90ff"})}),e.jsx("button",{onClick:()=>S(r.id),style:{...z.actionButton,background:"#fef2f2",borderRadius:"6px",padding:"6px"},children:e.jsx(ee,{size:16,color:"#dc2626"})})]})]})]})]},r.id))})]})]}),e.jsxs("div",{className:"hidden lg:block",style:{width:"320px",flexShrink:0,background:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",padding:"20px",height:"fit-content",position:"sticky",top:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"1px solid #eee"},children:[e.jsx(Le,{size:18,color:"#1e90ff"}),e.jsx("span",{style:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"14px",color:"#333"},children:"Popup Preview"})]}),n?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsxs("div",{style:{position:"relative",borderRadius:"8px",overflow:"hidden",background:"#f5f5f5",aspectRatio:"1/1"},children:[e.jsx("img",{src:O(n.image),alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",width:"24px",height:"24px",background:"rgba(0,0,0,0.5)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(le,{size:14,color:"white"})})]}),e.jsxs("div",{style:{padding:"8px 0"},children:[e.jsx("p",{style:{fontFamily:"'Poppins', sans-serif",fontWeight:600,fontSize:"14px",color:"#333",marginBottom:"4px"},children:n.name}),e.jsx("p",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"12px",color:"#666",marginBottom:"8px"},children:n.url||"No URL specified"}),e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("span",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",borderRadius:"20px",fontSize:"11px",fontWeight:500,...n.status==="Publish"?{background:"#c1ffbc",color:"#085e00"}:{background:"#ffeeba",color:"#856404"}},children:n.status}),e.jsxs("span",{style:{fontSize:"11px",color:"#999",fontFamily:"'Poppins', sans-serif"},children:["Priority: ",n.priority||0]})]})]}),e.jsxs("button",{onClick:()=>D(n),style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"10px 16px",background:"linear-gradient(to right, #38bdf8, #1e90ff)",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"13px"},children:[e.jsx(Z,{size:16}),"Edit Popup"]})]}):e.jsxs("div",{style:{textAlign:"center",padding:"40px 16px",color:"#999"},children:[e.jsx(Y,{size:40,style:{opacity:.3,marginBottom:"12px"}}),e.jsx("p",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"13px"},children:"Select a popup to preview"})]})]})]}),C&&e.jsx("div",{style:{position:"fixed",inset:0,zIndex:100,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",padding:"16px"},children:e.jsxs("div",{style:{background:"white",borderRadius:"12px",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.25)",width:"100%",maxWidth:"500px",overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid #eee",background:"#f9f9f9",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"18px",color:"#023337",margin:0},children:o?"Edit Popup":"Add New Popup"}),e.jsx("button",{onClick:()=>f(!1),style:{background:"transparent",border:"none",cursor:"pointer",padding:"4px"},children:e.jsx(le,{size:20,color:"#666"})})]}),e.jsxs("form",{onSubmit:W,style:{padding:"24px"},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"14px",color:"#333",marginBottom:"8px"},children:"Popup Image*"}),e.jsx("input",{type:"file",ref:Q,onChange:H,style:{display:"none"},accept:"image/*"}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("div",{onClick:()=>Q.current?.click(),style:{flex:1,border:"2px dashed #d1d5db",borderRadius:"8px",padding:"16px",textAlign:"center",cursor:"pointer",background:"#f9f9f9",transition:"border-color 0.2s"},onMouseEnter:r=>{r.currentTarget.style.borderColor="#38bdf8"},onMouseLeave:r=>{r.currentTarget.style.borderColor="#d1d5db"},children:y.image?e.jsx("img",{src:O(y.image),alt:"",style:{height:"100px",margin:"0 auto",objectFit:"contain",borderRadius:"8px"}}):e.jsxs("div",{style:{color:"#9ca3af"},children:[e.jsx(Ie,{size:32,style:{margin:"0 auto 8px"}}),e.jsx("p",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"14px"},children:"Upload"})]})}),e.jsxs("button",{type:"button",onClick:()=>B(!0),style:{width:"100px",border:"2px dashed #38bdf8",borderRadius:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#1e90ff",cursor:"pointer",background:"#f0f9ff",transition:"background 0.2s"},onMouseEnter:r=>{r.currentTarget.style.background="#e0f2fe"},onMouseLeave:r=>{r.currentTarget.style.background="#f0f9ff"},children:[e.jsx(Fe,{size:24,style:{marginBottom:"4px"}}),e.jsx("span",{style:{fontFamily:"'Poppins', sans-serif",fontSize:"12px",fontWeight:500},children:"Gallery"})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"14px",color:"#333",marginBottom:"8px"},children:"Name*"}),e.jsx("input",{type:"text",value:y.name,onChange:r=>R({...y,name:r.target.value}),required:!0,style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"8px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",background:"#f9f9f9",outline:"none"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"14px",color:"#333",marginBottom:"8px"},children:"Priority"}),e.jsx("input",{type:"number",value:y.priority,onChange:r=>R({...y,priority:Number(r.target.value)}),style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"8px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",background:"#f9f9f9",outline:"none"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"14px",color:"#333",marginBottom:"8px"},children:"URL"}),e.jsx("input",{type:"text",value:y.url,onChange:r=>R({...y,url:r.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"8px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",background:"#f9f9f9",outline:"none"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"14px",color:"#333",marginBottom:"8px"},children:"URL Type"}),e.jsxs("select",{value:y.urlType,onChange:r=>R({...y,urlType:r.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"8px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",background:"#f9f9f9",outline:"none",cursor:"pointer"},children:[e.jsx("option",{value:"Internal",children:"Internal"}),e.jsx("option",{value:"External",children:"External"})]})]})]}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("label",{style:{display:"block",fontFamily:"'Poppins', sans-serif",fontWeight:500,fontSize:"14px",color:"#333",marginBottom:"8px"},children:"Status"}),e.jsxs("select",{value:y.status,onChange:r=>R({...y,status:r.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #d1d5db",borderRadius:"8px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",background:"#f9f9f9",outline:"none",cursor:"pointer"},children:[e.jsx("option",{value:"Publish",children:"Publish"}),e.jsx("option",{value:"Draft",children:"Draft"})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[e.jsx("button",{type:"button",onClick:()=>f(!1),style:{padding:"10px 20px",border:"1px solid #d1d5db",borderRadius:"8px",fontFamily:"'Poppins', sans-serif",fontSize:"14px",background:"white",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:r=>{r.currentTarget.style.background="#f9f9f9"},onMouseLeave:r=>{r.currentTarget.style.background="white"},children:"Cancel"}),e.jsx("button",{type:"submit",style:{padding:"10px 20px",background:"linear-gradient(to right, #38bdf8, #1e90ff)",border:"none",borderRadius:"8px",fontFamily:"'Lato', sans-serif",fontWeight:700,fontSize:"14px",color:"white",cursor:"pointer",transition:"opacity 0.2s"},onMouseEnter:r=>{r.currentTarget.style.opacity="0.9"},onMouseLeave:r=>{r.currentTarget.style.opacity="1"},children:"Save Popup"})]})]})]})}),e.jsx(Xe,{isOpen:X,onClose:()=>B(!1),onSelect:V,title:"Choose Popup Image from Gallery"})]})},ce=({title:a,imageUrl:s,onSelect:t,onRemove:l})=>e.jsxs("div",{style:{width:"270px",height:"154px",border:"1px dashed #bababa",borderRadius:"8px",overflow:"hidden",position:"relative"},children:[e.jsx("p",{style:{position:"absolute",top:"11px",left:"50%",transform:"translateX(-50%)",fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"12px",color:"black",whiteSpace:"nowrap"},children:a}),e.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, calc(-50% - 14px))",width:"246px",height:"68px",backgroundColor:"white",borderRadius:"4px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:s?e.jsx("img",{src:O(s),alt:"",style:{maxWidth:"204px",maxHeight:"57px",objectFit:"contain"}}):e.jsx("p",{style:{color:"#a2a2a2",fontSize:"12px",fontFamily:'"Poppins", sans-serif'},children:"No image"})}),e.jsx("button",{onClick:t,style:{position:"absolute",bottom:"17px",left:"50%",transform:"translateX(calc(-50% - 22.5px))",width:"201px",height:"32px",background:"linear-gradient(90deg, rgba(56,189,248,0.06) 0%, rgba(30,144,255,0.06) 100%)",border:"none",borderRadius:"4px",cursor:"pointer",fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"12px"},children:e.jsx("span",{style:{background:"linear-gradient(90deg, #38bdf8 0%, #1e90ff 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Select Image"})}),s&&e.jsx("button",{onClick:l,style:{position:"absolute",bottom:"17px",right:"12px",width:"32px",height:"32px",backgroundColor:"rgba(218,0,0,0.1)",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ee,{size:20,color:"#da0000"})})]}),J=({label:a,value:s,onChange:t,placeholder:l,type:p="text",flex:h=!1})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",...h?{flex:1,minWidth:0}:{}},children:[e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"15px",color:"black",margin:0},children:a}),e.jsx("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"10px 12px",height:"48px",display:"flex",alignItems:"center"},children:e.jsx("input",{type:p,value:s,onChange:x=>t(x.target.value),placeholder:l,style:{border:"none",background:"transparent",outline:"none",width:"100%",fontFamily:'"Poppins", sans-serif',fontSize:"16px",color:s?"black":"#a2a2a2"}})})]}),ne=({label:a,value:s,onChange:t,options:l,width:p})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:p||"auto"},children:[e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"15px",color:"black",margin:0},children:a}),e.jsxs("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"10px 12px",height:"48px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[e.jsx("select",{value:s,onChange:h=>t(h.target.value),style:{border:"none",background:"transparent",outline:"none",width:"100%",fontFamily:'"Poppins", sans-serif',fontSize:"16px",color:"black",cursor:"pointer",appearance:"none"},children:l.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx(rt,{size:24,color:"#666"})]})]}),ue=({title:a})=>e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"22px",color:"black",letterSpacing:"0.11px",margin:0},children:a}),pe=({label:a,value:s,onChange:t,placeholder:l})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[e.jsx(ue,{title:a}),e.jsxs("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"9px 13px",display:"flex",gap:"20px",alignItems:"center",flexWrap:"wrap"},children:[e.jsx("span",{style:{fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",color:"#4f4d4d"},children:"Normal"}),e.jsx("span",{style:{fontFamily:'"Lato", sans-serif',fontWeight:800,fontSize:"14px",color:"#4f4d4d"},children:"B"}),e.jsx("span",{style:{fontFamily:'"Crimson Text", serif',fontWeight:600,fontSize:"15px",color:"#4f4d4d",fontStyle:"italic"},children:"I"}),e.jsx("span",{style:{fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",color:"#4f4d4d",textDecoration:"underline"},children:"U"}),e.jsx("span",{style:{fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",color:"#4f4d4d",textDecoration:"underline"},children:"A"})]}),e.jsx("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",height:"175px",overflow:"hidden"},children:e.jsx("textarea",{value:s,onChange:p=>t(p.target.value),placeholder:l,style:{width:"100%",height:"100%",border:"none",background:"transparent",outline:"none",resize:"none",padding:"13px",fontFamily:'"Lato", sans-serif',fontSize:"14px",color:s?"black":"#a2a2a2"}})})]}),te=({label:a,checked:s,onChange:t})=>e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},onClick:()=>t(!s),children:[e.jsx("div",{style:{width:"26px",height:"26px",border:"1.5px solid rgba(12,32,52,0.77)",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:s?"#38bdf8":"transparent"},children:s&&e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M3 8L6.5 11.5L13 5",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontSize:"12px",color:"#1d1a1a",margin:0},children:a})]}),He=({title:a,description:s,links:t,onAddLink:l,onRemoveLink:p,onUpdateLink:h})=>e.jsxs("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"12px",height:"74px",position:"relative",width:"536px"},children:[e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"12px",color:"black",margin:0},children:a}),e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontSize:"8px",color:"#b9b9b9",marginTop:"6px"},children:s}),e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontSize:"8px",color:"#b9b9b9",marginTop:"6px"},children:t.length===0?"No links yet.":`${t.length} link(s)`}),e.jsxs("button",{onClick:l,style:{position:"absolute",top:"12px",right:"12px",width:"86px",height:"26px",background:"linear-gradient(90deg, #38bdf8 0%, #1e90ff 100%)",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx(se,{size:16,color:"white"}),e.jsx("span",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:600,fontSize:"12px",color:"white"},children:"Add Link"})]})]}),_t=({websiteConfiguration:a,setWebsiteConfiguration:s,logo:t,onUpdateLogo:l,tenantId:p,onSave:h})=>{const x=m.useRef(null),b=m.useRef(null),u=m.useRef(null),C=m.useRef(null),[f,o]=m.useState(!1),[I,y]=m.useState(!1),R=m.useRef("");m.useEffect(()=>{a.socialLogins||s(n=>({...n,socialLogins:[{type:"Google",clientId:""}]})),a.offers||s(n=>({...n,offers:[]}))},[]),m.useEffect(()=>{if(!R.current)R.current=JSON.stringify(a);else{const n=JSON.stringify(a)!==R.current;y(n)}},[a]);const E=a.socialLogins||[{type:"Google",clientId:""}],k=a.offers||[],$=(n,c,r)=>{s(N=>{const w=[...N.socialLogins||[]];return w[n]={...w[n],[c]:r},{...N,socialLogins:w}})},U=()=>{s(n=>({...n,socialLogins:[...n.socialLogins||[],{type:"Google",clientId:""}]}))},X=n=>{s(c=>({...c,socialLogins:(c.socialLogins||[]).filter((r,N)=>N!==n)}))},B=(n,c,r)=>{s(N=>{const w=[...N.offers||[]];return w[n]={...w[n],[c]:r},{...N,offers:w}})},Q=()=>{s(n=>({...n,offers:[...n.offers||[],{type:"Registration",discount:""}]}))},V=n=>{s(c=>({...c,offers:(c.offers||[]).filter((r,N)=>N!==n)}))},H=m.useCallback(async()=>{if(h){o(!0);try{await h(a),T.success("Website settings saved successfully!"),R.current=JSON.stringify(a),y(!1)}catch(n){console.error("Failed to save website settings:",n),T.error("Failed to save settings")}finally{o(!1)}}},[h,a]);m.useEffect(()=>{const n=c=>{(c.ctrlKey||c.metaKey)&&c.key==="s"&&(c.preventDefault(),H())};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[H]);const D=async(n,c)=>{const r=n.target.files?.[0];if(!r)return;const N=2*1024*1024;if(r.size>N){alert("File too large. Max 2MB."),n.target.value="";return}try{const w=await $e(r,{quality:c==="favicon"?.9:.82,maxDimension:c==="favicon"?512:2e3}),d=`${c}-${Date.now()}.webp`,i=ie(w,d),v=await Ee(i,p,"branding");c==="logo"?l(v):c==="favicon"?s(P=>({...P,favicon:v})):c==="headerLogo"?s(P=>({...P,headerLogo:v})):c==="footerLogo"&&s(P=>({...P,footerLogo:v}))}catch(w){console.error("Failed to upload image:",w),alert("Failed to process image.")}finally{n.target.value=""}},W=n=>{n==="logo"?(l(null),x.current&&(x.current.value="")):n==="favicon"?(s(c=>({...c,favicon:null})),b.current&&(b.current.value="")):n==="headerLogo"?(s(c=>({...c,headerLogo:null})),u.current&&(u.current.value="")):(s(c=>({...c,footerLogo:null})),C.current&&(C.current.value=""))},S=()=>{s(n=>({...n,socialLinks:[...n.socialLinks,{id:Date.now().toString(),platform:"Facebook",url:""}]}))},_=(n,c,r)=>{s(N=>{const w=[...N.socialLinks];return w[n]={...w[n],[c]:r},{...N,socialLinks:w}})},M=n=>{s(c=>({...c,[n]:[...c[n]||[],{id:Date.now().toString(),label:"",url:""}]}))},G=(n,c,r,N)=>{s(w=>{const d=[...w[n]||[]];return d[c]={...d[c],[r]:N},{...w,[n]:d}})},K=(n,c)=>{s(r=>({...r,[n]:(r[n]||[]).filter((N,w)=>w!==c)}))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"40px"},children:[e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"18px"},children:e.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[e.jsx(ce,{title:"Primary Store Logo (Fallback)",imageUrl:t,onSelect:()=>x.current?.click(),onRemove:()=>W("logo")}),e.jsx(ce,{title:"Header Logo Override",imageUrl:a.headerLogo??null,onSelect:()=>u.current?.click(),onRemove:()=>W("headerLogo")}),e.jsx(ce,{title:"Footer Logo Override",imageUrl:a.footerLogo??null,onSelect:()=>C.current?.click(),onRemove:()=>W("footerLogo")}),e.jsx(ce,{title:"Favicon (32x32 px)",imageUrl:a.favicon,onSelect:()=>b.current?.click(),onRemove:()=>W("favicon")}),e.jsx("input",{type:"file",ref:x,onChange:n=>D(n,"logo"),className:"hidden",accept:"image/*",style:{display:"none"}}),e.jsx("input",{type:"file",ref:u,onChange:n=>D(n,"headerLogo"),className:"hidden",accept:"image/*",style:{display:"none"}}),e.jsx("input",{type:"file",ref:C,onChange:n=>D(n,"footerLogo"),className:"hidden",accept:"image/*",style:{display:"none"}}),e.jsx("input",{type:"file",ref:b,onChange:n=>D(n,"favicon"),className:"hidden",accept:"image/*",style:{display:"none"}})]})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx(J,{label:"Announcement",value:a.adminNoticeText||"",onChange:n=>s(c=>({...c,adminNoticeText:n})),placeholder:"Text",flex:!0}),e.jsx("div",{style:{width:"304px"},children:e.jsx(J,{label:"Email",value:a.emails?.[0]||"",onChange:n=>s(c=>({...c,emails:[n,...c.emails?.slice(1)||[]]})),placeholder:"xyz@gmail.com",type:"email"})})]}),e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx(J,{label:"Branding Text",value:a.brandingText||"",onChange:n=>s(c=>({...c,brandingText:n})),placeholder:"Your Brand Text",flex:!0}),e.jsx(J,{label:"Address",value:a.addresses?.[0]||"",onChange:n=>s(c=>({...c,addresses:[n,...c.addresses?.slice(1)||[]]})),placeholder:"Your Address",flex:!0})]}),e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx(J,{label:"Facebook",value:a.socialLinks?.find(n=>n.platform==="Facebook")?.url||"",onChange:n=>{const c=a.socialLinks?.findIndex(r=>r.platform==="Facebook");c!==void 0&&c>=0?_(c,"url",n):s(r=>({...r,socialLinks:[...r.socialLinks||[],{id:Date.now().toString(),platform:"Facebook",url:n}]}))},placeholder:"Facebook link",flex:!0}),e.jsx(J,{label:"Massager",value:a.socialLinks?.find(n=>n.platform==="Messenger")?.url||"",onChange:n=>{const c=a.socialLinks?.findIndex(r=>r.platform==="Messenger");c!==void 0&&c>=0?_(c,"url",n):s(r=>({...r,socialLinks:[...r.socialLinks||[],{id:Date.now().toString(),platform:"Messenger",url:n}]}))},placeholder:"Massager Link",flex:!0})]}),e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx(J,{label:"Instagram",value:a.socialLinks?.find(n=>n.platform==="Instagram")?.url||"",onChange:n=>{const c=a.socialLinks?.findIndex(r=>r.platform==="Instagram");c!==void 0&&c>=0?_(c,"url",n):s(r=>({...r,socialLinks:[...r.socialLinks||[],{id:Date.now().toString(),platform:"Instagram",url:n}]}))},placeholder:"Instagram Link",flex:!0}),e.jsx(J,{label:"TikTok",value:a.socialLinks?.find(n=>n.platform==="TikTok")?.url||"",onChange:n=>{const c=a.socialLinks?.findIndex(r=>r.platform==="TikTok");c!==void 0&&c>=0?_(c,"url",n):s(r=>({...r,socialLinks:[...r.socialLinks||[],{id:Date.now().toString(),platform:"TikTok",url:n}]}))},placeholder:"TikTok Text",flex:!0})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-end"},children:[e.jsx("div",{style:{width:"547px"},children:e.jsx(J,{label:"Social Link",value:"",onChange:()=>{},placeholder:"Social Link"})}),e.jsxs("button",{onClick:S,style:{flex:1,height:"48px",background:"linear-gradient(180deg, #ff6a00 0%, #ff9f1c 100%)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx(se,{size:24,color:"white"}),e.jsx("span",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:600,fontSize:"16px",color:"white"},children:"Add New Link"})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsx(ue,{title:"Country Settings"}),e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx(ne,{label:"Shop Country",value:a.shopCountry||"BD",onChange:n=>s(c=>({...c,shopCountry:n})),options:[{value:"BD",label:"Bangladesh (BD)"},{value:"IN",label:"India (IN)"},{value:"US",label:"United States (US)"},{value:"UK",label:"United Kingdom (UK)"}],width:"425px"}),e.jsx(ne,{label:"Shop Currency",value:a.shopCurrency||"BDT",onChange:n=>s(c=>({...c,shopCurrency:n})),options:[{value:"BDT",label:"Taka-BDT (‡ß≥)"},{value:"INR",label:"Rupee-INR (‚Çπ)"},{value:"USD",label:"Dollar-USD ($)"},{value:"GBP",label:"Pound-GBP (¬£)"}],width:"auto"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsx(ue,{title:"Social Login"}),E.map((n,c)=>e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-end"},children:[e.jsx(ne,{label:c===0?"Login Type":"",value:n.type||"Google",onChange:r=>$(c,"type",r),options:[{value:"Google",label:"Google"},{value:"Facebook",label:"Facebook"}],width:"426px"}),e.jsx(J,{label:c===0?"Auth/Client ID":"",value:n.clientId||"",onChange:r=>$(c,"clientId",r),placeholder:"531559968835-9dne3cs01s1knffdctpgvu955qfft588.apps.googleusercontent.com",flex:!0}),E.length>1&&e.jsx("button",{onClick:()=>X(c),style:{width:"48px",height:"48px",backgroundColor:"rgba(218,0,0,0.1)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ee,{size:20,color:"#da0000"})})]},c)),e.jsxs("button",{onClick:U,style:{width:"132px",height:"48px",background:"linear-gradient(180deg, #ff6a00 0%, #ff9f1c 100%)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx(se,{size:24,color:"white"}),e.jsx("span",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:600,fontSize:"16px",color:"white"},children:"Add New"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsx(ue,{title:"Offer"}),k.length===0?e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx(ne,{label:"Offer Type",value:"Registration",onChange:()=>{},options:[{value:"Registration",label:"Registration"},{value:"First Purchase",label:"First Purchase"},{value:"Referral",label:"Referral"}],width:"426px"}),e.jsx(J,{label:"Discount",value:"",onChange:()=>{},placeholder:"Ex: 1000 or 20%",flex:!0})]}):k.map((n,c)=>e.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"flex-end"},children:[e.jsx(ne,{label:c===0?"Offer Type":"",value:n.type||"Registration",onChange:r=>B(c,"type",r),options:[{value:"Registration",label:"Registration"},{value:"First Purchase",label:"First Purchase"},{value:"Referral",label:"Referral"}],width:"426px"}),e.jsx(J,{label:c===0?"Discount":"",value:n.discount||"",onChange:r=>B(c,"discount",r),placeholder:"Ex: 1000 or 20%",flex:!0}),e.jsx("button",{onClick:()=>V(c),style:{width:"48px",height:"48px",backgroundColor:"rgba(218,0,0,0.1)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ee,{size:20,color:"#da0000"})})]},c)),e.jsxs("button",{onClick:Q,style:{width:"132px",height:"48px",background:"linear-gradient(180deg, #ff6a00 0%, #ff9f1c 100%)",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[e.jsx(se,{size:24,color:"white"}),e.jsx("span",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:600,fontSize:"16px",color:"white"},children:"Add New"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsx(pe,{label:"About us",value:a.aboutUs||"",onChange:n=>s(c=>({...c,aboutUs:n})),placeholder:"About your brand"}),e.jsx(pe,{label:"Privacy Policy",value:a.privacyPolicy||"",onChange:n=>s(c=>({...c,privacyPolicy:n})),placeholder:"Shop Privacy And Policy"}),e.jsx(pe,{label:"Terms and Condition",value:a.termsAndConditions||"",onChange:n=>s(c=>({...c,termsAndConditions:n})),placeholder:"Shop Terms And Conditions"}),e.jsx(pe,{label:"Return and Cancellation Policy",value:a.returnPolicy||"",onChange:n=>s(c=>({...c,returnPolicy:n})),placeholder:"Return and Cancellation Policy"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"24px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"25px"},children:[e.jsx(He,{title:"Footer Quick Links",description:"Shown in the Quick Links column of Footer 2",links:a.footerQuickLinks||[],onAddLink:()=>M("footerQuickLinks"),onRemoveLink:n=>K("footerQuickLinks",n),onUpdateLink:(n,c,r)=>G("footerQuickLinks",n,c,r)}),e.jsx(He,{title:"Footer Useful Links",description:"Shown in the useful Links column of Footer 3",links:a.footerUsefulLinks||[],onAddLink:()=>M("footerUsefulLinks"),onRemoveLink:n=>K("footerUsefulLinks",n),onUpdateLink:(n,c,r)=>G("footerUsefulLinks",n,c,r)})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"14px",color:"black",margin:0},children:"Footer Section Settings"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx(te,{label:"Is show new slider",checked:a.showNewsSlider||!1,onChange:n=>s(c=>({...c,showNewsSlider:n}))}),e.jsx(te,{label:"Hide copyright section",checked:a.hideCopyright||!1,onChange:n=>s(c=>({...c,hideCopyright:n}))}),e.jsx(te,{label:"Hide copyright text",checked:a.hideCopyrightText||!1,onChange:n=>s(c=>({...c,hideCopyrightText:n}))}),e.jsx(te,{label:"Powered by System Next IT",checked:a.showPoweredBy||!1,onChange:n=>s(c=>({...c,showPoweredBy:n}))})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"14px",color:"black",margin:0},children:"Product Settings"}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx(te,{label:"Show Product Sold Count",checked:a.showProductSoldCount||!1,onChange:n=>s(c=>({...c,showProductSoldCount:n}))}),e.jsx(te,{label:"Allow Product Image Downloads",checked:a.allowProductImageDownloads||!1,onChange:n=>s(c=>({...c,allowProductImageDownloads:n}))}),e.jsx(te,{label:"Show Email Field for Place Order",checked:a.showEmailFieldForOrder||!1,onChange:n=>s(c=>({...c,showEmailFieldForOrder:n}))}),e.jsx(te,{label:"Enable Promo Code for Place Order",checked:a.enablePromoCode||!1,onChange:n=>s(c=>({...c,enablePromoCode:n}))})]})]})]}),h&&I&&e.jsx("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1e3},children:e.jsx("button",{onClick:H,disabled:f,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"14px 28px",background:f?"linear-gradient(180deg, #94a3b8 0%, #64748b 100%)":"linear-gradient(180deg, #22c55e 0%, #16a34a 100%)",color:"white",fontFamily:'"Poppins", sans-serif',fontWeight:600,fontSize:"16px",border:"none",borderRadius:"12px",cursor:f?"not-allowed":"pointer",boxShadow:"0 4px 14px rgba(34, 197, 94, 0.4)",transition:"all 0.2s ease"},children:f?e.jsxs(e.Fragment,{children:[e.jsx(Ke,{size:20,className:"animate-spin",style:{animation:"spin 1s linear infinite"}}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{size:20}),"Save Changes"]})})})]})},St=({checked:a,onChange:s})=>e.jsx("div",{onClick:()=>s(!a),style:{width:"40px",height:"20px",background:a?"linear-gradient(90deg, #38bdf8 0%, #1e90ff 100%)":"#b9b9b9",borderRadius:"39px",padding:"2px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:a?"flex-end":"flex-start"},children:e.jsx("div",{style:{width:"16px",height:"16px",backgroundColor:"white",borderRadius:"186px"}})}),Ge=({title:a,description:s,checked:t,onChange:l})=>e.jsxs("div",{style:{flex:1,minWidth:"280px",height:"54px",backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"12px",color:"black",margin:0},children:a}),e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontSize:"8px",color:"#b9b9b9",margin:0},children:s})]}),e.jsx(St,{checked:t,onChange:l})]}),xe=({label:a,value:s,onChange:t,placeholder:l,type:p="text",labelColor:h="#023337"})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"15px",color:h,margin:0},children:a}),e.jsx("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",height:"48px",padding:"10px 12px",display:"flex",alignItems:"center"},children:e.jsx("input",{type:p,value:s,onChange:x=>t(x.target.value),placeholder:l,style:{border:"none",background:"transparent",outline:"none",width:"100%",fontFamily:'"Poppins", sans-serif',fontSize:"16px",color:s?"black":"#a2a2a2"}})})]}),ke=({icon:a,label:s,active:t,onClick:l})=>e.jsxs("div",{onClick:l,style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",border:t?"0.5px solid #38bdf8":"none",minWidth:"120px"},children:[a,e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontWeight:500,fontSize:"16px",color:"black",margin:0},children:s})]}),Ot=({websiteConfiguration:a,setWebsiteConfiguration:s,onSave:t})=>{const[l,p]=m.useState("messenger"),[h,x]=m.useState(""),[b,u]=m.useState(!1);m.useEffect(()=>{x(l==="phone"?a.chatSupportPhone||"":l==="whatsapp"?a.chatSupportWhatsapp||"":a.chatSupportMessenger||"")},[l,a.chatSupportPhone,a.chatSupportWhatsapp,a.chatSupportMessenger]);const C=async()=>{if(t){u(!0);try{await t()}finally{u(!1)}}};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"32px 19px",position:"relative"},children:[e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"22px",color:"#023337",letterSpacing:"0.11px",margin:0,marginBottom:"24px"},children:"Chat settings"}),e.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",flexWrap:"wrap"},children:[e.jsx(Ge,{title:"Enable Live Chat",description:"Allow customers to chat with you",checked:a.chatEnabled??!1,onChange:f=>s(o=>({...o,chatEnabled:f}))}),e.jsx(Ge,{title:"WhatsApp Fallback",description:"Redirect to WhatsApp when chat disabled",checked:a.chatWhatsAppFallback??!1,onChange:f=>s(o=>({...o,chatWhatsAppFallback:f}))})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[e.jsxs("div",{style:{flex:1,minWidth:"300px",display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsx(xe,{label:"Welcome Message",value:a.chatGreeting||"",onChange:f=>s(o=>({...o,chatGreeting:f})),placeholder:"Hi! How can we help?"}),e.jsx(xe,{label:"Offline Message",value:a.chatOfflineMessage||"",onChange:f=>s(o=>({...o,chatOfflineMessage:f})),placeholder:"We're offline. Leave a message!",labelColor:"#2d2d2d"})]}),e.jsxs("div",{style:{width:"267px",display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsx(xe,{label:"Support Hour From",value:a.chatSupportHours?.from||"09:00",onChange:f=>s(o=>({...o,chatSupportHours:{...o.chatSupportHours||{},from:f}})),placeholder:"09:00 AM",type:"time"}),e.jsx(xe,{label:"Support Hour To",value:a.chatSupportHours?.to||"21:00",onChange:f=>s(o=>({...o,chatSupportHours:{...o.chatSupportHours||{},to:f}})),placeholder:"09:00 PM",type:"time"})]})]})]}),e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px 19px"},children:[e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontWeight:500,fontSize:"20px",color:"black",margin:0},children:"Chat Support"}),e.jsx("p",{style:{fontFamily:'"Lato", sans-serif',fontSize:"12px",color:"#6f6f6f",margin:0,marginTop:"8px"},children:"Please provide your credentials to integrate"})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px",flexWrap:"wrap"},children:[e.jsx(ke,{icon:e.jsx(nt,{size:24,color:"#4caf50",style:{transform:"rotate(-90deg)"}}),label:"Phone",active:l==="phone",onClick:()=>p("phone")}),e.jsx(ke,{icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z",fill:"#25D366"}),e.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12c0 1.89.525 3.66 1.438 5.168L2 22l4.832-1.438A9.955 9.955 0 0012 22c5.523 0 10-4.477 10-10S17.523 2 12 2z",stroke:"#25D366",strokeWidth:"1.5",fill:"none"})]}),label:"WhatsApp",active:l==="whatsapp",onClick:()=>p("whatsapp")}),e.jsx(ke,{icon:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M12 2C6.477 2 2 6.145 2 11.259c0 2.913 1.454 5.512 3.726 7.21V22l3.405-1.869c.909.252 1.871.388 2.869.388 5.523 0 10-4.145 10-9.259C22 6.145 17.523 2 12 2z",fill:"#0084FF"}),e.jsx("path",{d:"M13.076 14.028L10.69 11.5l-4.634 2.528 5.096-5.413 2.456 2.529 4.564-2.529-5.096 5.413z",fill:"white"})]}),label:"Messenger",active:l==="messenger",onClick:()=>p("messenger")})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsx("div",{style:{flex:1,height:"40px",backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"0 13px",display:"flex",alignItems:"center"},children:e.jsx("input",{type:"text",value:h,onChange:f=>x(f.target.value),placeholder:l==="phone"||l==="whatsapp"?"+880XXXXXXXXXX":"www.facebook.com/messages/xyz",style:{border:"none",background:"transparent",outline:"none",width:"100%",fontFamily:'"Lato", sans-serif',fontSize:"14px",color:h?"black":"#a2a2a2"}})}),e.jsx("button",{onClick:()=>{const f=`chatSupport${l.charAt(0).toUpperCase()+l.slice(1)}`;s(o=>({...o,[f]:h}))},style:{width:"120px",height:"40px",backgroundColor:"#1e90ff",border:"1px solid #1e90ff",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("span",{style:{fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",color:"white"},children:"Apply"})})]})]}),t&&e.jsx("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:1e3},children:e.jsxs("button",{onClick:C,disabled:b,style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:b?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:b?"not-allowed":"pointer",fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.4)",transition:"all 0.2s ease"},children:[e.jsx(Ye,{size:18}),b?"Saving...":"Save Chat Settings"]})})]})},Nt=[{id:"gadgets",title:"Gadgets Theme",themes:["gadgets1","gadgets2","gadgets3","gadgets4"]},{id:"fashion",title:"Fashion Theme",themes:["fashion1","fashion2","fashion3","fashion4"]},{id:"grocery",title:"Grocery Theme",themes:["grocery1","grocery2","grocery3","grocery4"]},{id:"cosmetics",title:"Cosmetics Theme",themes:["cosmetics1","cosmetics2","cosmetics3","cosmetics4"]},{id:"pharmacy",title:"Pharmacy Theme",themes:["pharmacy1","pharmacy2","pharmacy3","pharmacy4"]}],Se=[{id:1,primary:"#1e90ff",secondary:"#ff6a00",depthAccent:"#00400e",font:"#000000"},{id:2,primary:"#f01d1d",secondary:"#1d9904",depthAccent:"#530777",font:"#000000"},{id:3,primary:"#dd008c",secondary:"#00b7cb",depthAccent:"#322d8f",font:"#3c3c3c"},{id:4,primary:"#b70707",secondary:"#ff6200",depthAccent:"#00a1ca",font:"#000000"}],he=({label:a,value:s,onChange:t})=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",minWidth:"180px"},children:[e.jsx("label",{style:{fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",color:"#023337"},children:a}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"#f9f9f9",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:s,border:"1px solid #ddd"}}),e.jsx("input",{type:"text",value:s.toUpperCase(),onChange:l=>t(l.target.value),style:{flex:1,border:"none",backgroundColor:"transparent",fontFamily:'"Lato", sans-serif',fontSize:"14px",color:"#333",outline:"none"}}),e.jsx("input",{type:"color",value:s,onChange:l=>t(l.target.value),style:{width:"24px",height:"24px",border:"none",cursor:"pointer",opacity:0,position:"absolute"}})]})]}),Ct=({themeId:a,isSelected:s,onSelect:t,imageUrl:l})=>{const[p,h]=m.useState(!1);return e.jsx("div",{onClick:t,style:{width:"262px",backgroundColor:"white",border:s?"1.5px solid #ff6a00":"1.5px solid #f9f9f9",borderRadius:"8px",overflow:"hidden",paddingBottom:"8px",cursor:"pointer",transition:"all 0.2s ease"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",alignItems:"center",width:"100%"},children:[e.jsx("div",{style:{width:"100%",height:"168px",backgroundColor:"#f0f0f0",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center"},children:l&&!p?e.jsx("img",{src:l,alt:`Theme ${a}`,style:{width:"100%",height:"100%",objectFit:"cover"},onError:()=>h(!0)}):e.jsx("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #e0e0e0 0%, #f5f5f5 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#999",fontFamily:"Poppins, sans-serif",fontSize:"14px"},children:"Theme Preview"})}),e.jsx("button",{onClick:x=>{x.stopPropagation(),t()},style:{width:"142px",height:"33px",borderRadius:"8px",border:"none",cursor:"pointer",fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"15px",letterSpacing:"-0.3px",transition:"all 0.2s ease",...s?{background:"linear-gradient(180deg, rgba(255,106,0,0.2) 0%, rgba(255,159,28,0.2) 100%)",color:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundImage:"linear-gradient(180deg, #ff6a00 0%, #ff9f1c 100%)"}:{backgroundColor:"#f9f9f9",color:"black"}},children:s?"Selected":"Select"})]})})},Ht=({websiteConfiguration:a,setWebsiteConfiguration:s})=>{const[t,l]=m.useState(1),[p,h]=m.useState({primary:"#1e90ff",secondary:"#ff6a00",depthAccent:"#00400e",font:"#000000"}),x=a.readyTheme||"gadgets1",b=o=>{s(I=>({...I,readyTheme:o}))},u=o=>{l(o.id),h({primary:o.primary,secondary:o.secondary,depthAccent:o.depthAccent,font:o.font}),s(I=>({...I,themeColors:{primary:o.primary,secondary:o.secondary,depthAccent:o.depthAccent,font:o.font}}))},C=()=>{const o=Math.floor(Math.random()*Se.length);u(Se[o])},f=(o,I)=>{h(y=>({...y,[o]:I})),s(y=>({...y,themeColors:{...y.themeColors,[o]:I}}))};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"32px"},children:[e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"24px"},children:[e.jsx("h3",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"18px",color:"#f91515",marginBottom:"20px"},children:'Theme Colour - "(This section is under development, changes here will not reflect on the live website yet.)"'}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"20px",marginBottom:"24px"},children:[e.jsx(he,{label:"Primary",value:p.primary,onChange:o=>f("primary",o)}),e.jsx(he,{label:"Secondary",value:p.secondary,onChange:o=>f("secondary",o)}),e.jsx(he,{label:"Depth Accent",value:p.depthAccent,onChange:o=>f("depthAccent",o)}),e.jsx(he,{label:"Font Colour",value:p.font,onChange:o=>f("font",o)})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("span",{style:{fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",color:"#023337"},children:"Ready Colours"}),e.jsx("div",{style:{display:"flex",gap:"12px"},children:Se.map(o=>e.jsxs("button",{onClick:()=>u(o),style:{display:"flex",gap:"3px",padding:"6px 8px",backgroundColor:t===o.id?"#e8f4ff":"#f9f9f9",border:t===o.id?"2px solid #1e90ff":"1px solid #e0e0e0",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease"},children:[e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",backgroundColor:o.primary}}),e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",backgroundColor:o.secondary}}),e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",backgroundColor:o.depthAccent}}),e.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"4px",backgroundColor:o.font}})]},o.id))}),e.jsxs("button",{onClick:C,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 16px",backgroundColor:"#f9f9f9",border:"1px solid #e0e0e0",borderRadius:"8px",cursor:"pointer",fontFamily:'"Lato", sans-serif',fontWeight:600,fontSize:"14px",color:"#333",transition:"all 0.2s ease"},children:[e.jsx(it,{size:16}),"Shuffle"]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"40px"},children:[Nt.map(o=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[e.jsx("h3",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"22px",color:"#023337",letterSpacing:"0.11px",margin:0},children:o.title}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"14px"},children:o.themes.map(I=>{const y=De.readyThemes?.[I];return e.jsx(Ct,{themeId:I,isSelected:x===I,onSelect:()=>b(I),imageUrl:y},I)})})]},o.id)),e.jsx("div",{style:{textAlign:"center",padding:"32px",backgroundColor:"#f9fafc",borderRadius:"8px",marginTop:"20px"},children:e.jsx("span",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"18px",color:"#666"},children:"More Themes Are Coming Soon"})})]})]})},Ne=[{id:1,primary:"#1e90ff",secondary:"#ff6a00",tertiary:"#00400e",font:"#000000",selected:!0},{id:2,primary:"#f01d1d",secondary:"#1d9904",tertiary:"#530777",font:"#000000",selected:!1},{id:3,primary:"#dd008c",secondary:"#00b7cb",tertiary:"#322d8f",font:"#3c3c3c",selected:!1},{id:4,primary:"#b70707",secondary:"#ff6200",tertiary:"#00a1ca",font:"#000000",selected:!1}],It=[{id:"vertical",style:"linear-gradient(180deg, #38bdf8 0%, #1e90ff 100%)"},{id:"horizontal",style:"linear-gradient(90deg, #38bdf8 0%, #1e90ff 100%)"},{id:"diagonal1",style:"linear-gradient(122deg, #38bdf8 0%, #1e90ff 100%)"},{id:"diagonal2",style:"linear-gradient(239deg, #38bdf8 0%, #1e90ff 100%)"}],Ft=["#000000","#1e90ff","#00c853","#ffc107","#9c27b0","#e91e63","#00bcd4","#ff5722","#607d8b"],Ce=a=>{const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(!s)return{h:0,s:0,v:1};const t=parseInt(s[1],16)/255,l=parseInt(s[2],16)/255,p=parseInt(s[3],16)/255,h=Math.max(t,l,p),x=Math.min(t,l,p),b=h-x;let u=0;const C=h===0?0:b/h,f=h;if(h!==x){switch(h){case t:u=(l-p)/b+(l<p?6:0);break;case l:u=(p-t)/b+2;break;case p:u=(t-l)/b+4;break}u/=6}return{h:u*360,s:C*100,v:f*100}},lt=(a,s,t)=>{a=a/360,s=s/100,t=t/100;let l=0,p=0,h=0;const x=Math.floor(a*6),b=a*6-x,u=t*(1-s),C=t*(1-b*s),f=t*(1-(1-b)*s);switch(x%6){case 0:l=t,p=f,h=u;break;case 1:l=C,p=t,h=u;break;case 2:l=u,p=t,h=f;break;case 3:l=u,p=C,h=t;break;case 4:l=f,p=u,h=t;break;case 5:l=t,p=u,h=C;break}const o=I=>{const y=Math.round(I*255).toString(16);return y.length===1?"0"+y:y};return`#${o(l)}${o(p)}${o(h)}`},qe=a=>lt(a,100,100),ge=({label:a,color:s,onChange:t,onBlur:l})=>{const[p,h]=m.useState("solid"),[x,b]=m.useState(!1),[u,C]=m.useState("#38bdf8"),[f,o]=m.useState("#1e90ff"),[I,y]=m.useState("horizontal"),[R,E]=m.useState(s.replace("#","").toUpperCase()),[k,$]=m.useState(100),[U,X]=m.useState(Ft),B=Ce(s),[Q,V]=m.useState(B.h),[H,D]=m.useState(B.s),[W,S]=m.useState(B.v),_=m.useRef(null),M=m.useRef(null),G=m.useRef(null),K=m.useRef(null),n=m.useRef(!1),c=m.useRef(!1),r=m.useRef(!1);m.useEffect(()=>{E(s.replace("#","").toUpperCase());const g=Ce(s);V(g.h),D(g.s),S(g.v)},[s]);const N=m.useCallback((g,F,A)=>{const q=lt(g,F,A);t(q),E(q.replace("#","").toUpperCase())},[t]),w=m.useCallback(g=>{if(!_.current)return;const F=_.current.getBoundingClientRect(),A=Math.max(0,Math.min(g.clientX-F.left,F.width)),q=Math.max(0,Math.min(g.clientY-F.top,F.height)),oe=A/F.width*100,Ue=100-q/F.height*100;D(oe),S(Ue),N(Q,oe,Ue)},[Q,N]),d=m.useCallback(g=>{if(!M.current)return;const F=M.current.getBoundingClientRect(),q=Math.max(0,Math.min(g.clientX-F.left,F.width))/F.width*360;V(q),N(q,H,W)},[H,W,N]),i=m.useCallback(g=>{if(!G.current)return;const F=G.current.getBoundingClientRect(),A=Math.max(0,Math.min(g.clientX-F.left,F.width)),q=Math.round(A/F.width*100);$(q)},[]);m.useEffect(()=>{const g=A=>{n.current&&w(A),c.current&&d(A),r.current&&i(A)},F=()=>{n.current=!1,c.current=!1,r.current=!1};return document.addEventListener("mousemove",g),document.addEventListener("mouseup",F),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",F)}},[w,d,i]),m.useEffect(()=>{const g=F=>{K.current&&!K.current.contains(F.target)&&(x&&X(A=>{const q=A.filter(oe=>oe.toLowerCase()!==s.toLowerCase());return[s,...q].slice(0,9)}),b(!1))};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[x,s]);const v=g=>{E(g.toUpperCase()),/^[0-9A-Fa-f]{6}$/.test(g)&&t(`#${g}`)},P=()=>{/^[0-9A-Fa-f]{6}$/.test(R)?t(`#${R}`):E(s.replace("#","").toUpperCase()),l?.()},L=g=>{t(g);const F=Ce(g);V(F.h),D(F.s),S(F.v)},j={container:{position:"absolute",top:"100%",left:0,zIndex:9999,backgroundColor:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05)",width:"320px",marginTop:"8px"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",borderBottom:"1px solid #eee"},title:{fontFamily:'"Inter", sans-serif',fontWeight:600,fontSize:"16px",color:"#27222a",margin:0,textTransform:"capitalize"},closeBtn:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},content:{display:"flex",flexDirection:"column",gap:"16px",padding:"16px"},toggle:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"4px",display:"flex",gap:"4px",height:"36px"},toggleBtn:g=>({flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",cursor:"pointer",fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"14px",backgroundColor:g?"white":"transparent",color:g?"#27222a":"#706a73",boxShadow:g?"2px 2px 8px rgba(44,38,46,0.12)":"none",transition:"all 0.2s ease"}),satBrightArea:{width:"100%",height:"200px",borderRadius:"8px",border:"1px solid #eee",position:"relative",cursor:"crosshair",background:`linear-gradient(180deg, rgba(0,0,0,0) 0%, rgb(0,0,0) 100%), linear-gradient(90deg, rgb(255,255,255) 0%, ${qe(Q)} 100%)`},handle:{position:"absolute",width:"16px",height:"16px",borderRadius:"50%",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",transform:"translate(-50%, -50%)",pointerEvents:"none"},sliderRow:{display:"flex",gap:"16px",alignItems:"center"},colorLump:{width:"40px",height:"40px",borderRadius:"4px",border:"1px solid #eee",position:"relative",overflow:"hidden"},colorLumpLeft:{position:"absolute",left:0,top:0,bottom:0,width:"50%",backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Crect width='4' height='4' fill='%23ccc'/%3E%3Crect x='4' y='4' width='4' height='4' fill='%23ccc'/%3E%3C/svg%3E")`,backgroundSize:"8px 8px"},colorLumpRight:g=>({position:"absolute",right:0,top:0,bottom:0,width:"50%",backgroundColor:g,borderTopRightRadius:"4px",borderBottomRightRadius:"4px"}),sliderWrapper:{flex:1,display:"flex",flexDirection:"column",gap:"16px"},slider:{height:"16px",borderRadius:"8px",border:"1px solid #eee",position:"relative",cursor:"pointer"},hueSlider:{background:"linear-gradient(90deg, rgb(255,0,0) 0%, rgb(255,255,0) 16.6%, rgb(0,255,0) 33.3%, rgb(0,255,255) 50%, rgb(0,0,255) 65%, rgb(158,0,255) 75%, rgb(255,0,167) 89.5%, rgb(255,0,0) 100%)"},opacitySlider:g=>({backgroundImage:`linear-gradient(90deg, transparent 0%, ${g} 100%), url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Crect width='4' height='4' fill='%23ccc'/%3E%3Crect x='4' y='4' width='4' height='4' fill='%23ccc'/%3E%3C/svg%3E")`,backgroundSize:"100% 100%, 8px 8px"}),sliderHandle:{position:"absolute",top:"0",width:"16px",height:"16px",borderRadius:"50%",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",transform:"translateX(-50%)",pointerEvents:"none"},inputRow:{display:"flex",gap:"16px",alignItems:"center"},pipetteBtn:{width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",background:"none",border:"none",cursor:"pointer",color:"#706a73"},inputGroup:{flex:1,display:"flex",gap:"8px"},hexInput:{flex:1,backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"8px 12px",display:"flex",gap:"4px",alignItems:"center"},hashSign:{color:"#969298",fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"14px",width:"10px"},hexText:{border:"none",background:"transparent",outline:"none",fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"14px",color:"#27222a",width:"60px"},opacityInput:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"8px 12px",display:"flex",gap:"4px",alignItems:"center",width:"72px"},opacityText:{border:"none",background:"transparent",outline:"none",fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"14px",color:"#27222a",width:"28px",textAlign:"right"},percentSign:{color:"#969298",fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"14px"},lastUsedSection:{borderTop:"1px solid #eee",padding:"16px",display:"flex",flexDirection:"column",gap:"16px"},lastUsedTitle:{fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"12px",color:"#27222a",margin:0,textTransform:"capitalize"},lastUsedGrid:{display:"flex",flexWrap:"wrap",gap:"8px"},lastUsedColor:g=>({width:"24px",height:"24px",borderRadius:"4px",backgroundColor:g,border:"1px solid #eee",cursor:"pointer",transition:"transform 0.1s ease"})};return e.jsxs("div",{ref:K,style:{display:"flex",flexDirection:"column",gap:"4px",position:"relative"},children:[e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"12px",color:"#6c6c6c",margin:0},children:a}),e.jsxs("div",{onClick:()=>b(!x),style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"8px 7px",display:"flex",gap:"8px",alignItems:"center",cursor:"pointer"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:s}}),e.jsx("input",{type:"text",value:`#${R}`,onChange:g=>v(g.target.value.replace("#","")),onBlur:P,onClick:g=>g.stopPropagation(),style:{fontFamily:'"Poppins", sans-serif',fontSize:"16px",color:s,border:"none",background:"transparent",outline:"none",width:"80px"}})]}),x&&e.jsxs("div",{style:j.container,children:[e.jsxs("div",{style:j.header,children:[e.jsx("p",{style:j.title,children:"Color Picker"}),e.jsx("button",{style:j.closeBtn,onClick:()=>b(!1),children:e.jsx(le,{size:16,color:"#27222a"})})]}),e.jsxs("div",{style:j.content,children:[e.jsxs("div",{style:j.toggle,children:[e.jsx("button",{onClick:()=>h("solid"),style:j.toggleBtn(p==="solid"),children:"Solid"}),e.jsx("button",{onClick:()=>h("gradient"),style:j.toggleBtn(p==="gradient"),children:"Gradient"})]}),p==="solid"?e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:_,style:j.satBrightArea,onMouseDown:g=>{n.current=!0,w(g)},children:e.jsx("div",{style:{...j.handle,left:`${H}%`,top:`${100-W}%`,backgroundColor:s}})}),e.jsxs("div",{style:j.sliderRow,children:[e.jsxs("div",{style:j.colorLump,children:[e.jsx("div",{style:j.colorLumpLeft}),e.jsx("div",{style:{...j.colorLumpLeft,backgroundColor:`${s}${Math.round(k*2.55).toString(16).padStart(2,"0")}`}}),e.jsx("div",{style:j.colorLumpRight(s)})]}),e.jsxs("div",{style:j.sliderWrapper,children:[e.jsx("div",{ref:M,style:{...j.slider,...j.hueSlider},onMouseDown:g=>{c.current=!0,d(g)},children:e.jsx("div",{style:{...j.sliderHandle,left:`${Q/360*100}%`,backgroundColor:qe(Q)}})}),e.jsx("div",{ref:G,style:{...j.slider,...j.opacitySlider(s)},onMouseDown:g=>{r.current=!0,i(g)},children:e.jsx("div",{style:{...j.sliderHandle,left:`${k}%`,backgroundColor:s}})})]})]}),e.jsxs("div",{style:j.inputRow,children:[e.jsx("button",{style:j.pipetteBtn,title:"Pick color from screen",children:e.jsx(dt,{size:18})}),e.jsxs("div",{style:j.inputGroup,children:[e.jsxs("div",{style:j.hexInput,children:[e.jsx("span",{style:j.hashSign,children:"#"}),e.jsx("input",{type:"text",value:R,onChange:g=>v(g.target.value),onBlur:P,style:j.hexText,maxLength:6})]}),e.jsxs("div",{style:j.opacityInput,children:[e.jsx("input",{type:"number",value:k,onChange:g=>$(Math.max(0,Math.min(100,parseInt(g.target.value)||0))),style:j.opacityText,min:0,max:100}),e.jsx("span",{style:j.percentSign,children:"%"})]})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{position:"relative",marginBottom:"8px"},children:[e.jsx("div",{style:{position:"absolute",left:"8px",top:"-8px",width:"20px",height:"20px",backgroundColor:u,borderRadius:"4px",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",cursor:"pointer",zIndex:2},onClick:()=>{const g=document.createElement("input");g.type="color",g.value=u,g.onchange=F=>C(F.target.value),g.click()}}),e.jsx("div",{style:{position:"absolute",right:"8px",top:"-8px",width:"20px",height:"20px",backgroundColor:f,borderRadius:"4px",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",cursor:"pointer",zIndex:2},onClick:()=>{const g=document.createElement("input");g.type="color",g.value=f,g.onchange=F=>o(F.target.value),g.click()}}),e.jsx("div",{style:{height:"40px",borderRadius:"8px",marginTop:"16px",background:`linear-gradient(90deg, ${u} 0%, ${f} 100%)`}})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsx("div",{onClick:()=>{const g=document.createElement("input");g.type="color",g.value=u,g.onchange=F=>C(F.target.value),g.click()},style:{width:"32px",height:"32px",borderRadius:"6px",backgroundColor:u,cursor:"pointer"}}),e.jsxs("div",{style:j.hexInput,children:[e.jsx("span",{style:j.hashSign,children:"#"}),e.jsx("input",{type:"text",value:u.replace("#","").toUpperCase(),onChange:g=>{const F=g.target.value.replace("#","").toUpperCase();/^[0-9A-Fa-f]{0,6}$/.test(F)&&F.length===6&&C(`#${F}`)},style:j.hexText,maxLength:6})]}),e.jsxs("div",{style:j.opacityInput,children:[e.jsx("span",{style:{...j.opacityText,width:"auto"},children:"100"}),e.jsx("span",{style:j.percentSign,children:"%"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsx("div",{onClick:()=>{const g=document.createElement("input");g.type="color",g.value=f,g.onchange=F=>o(F.target.value),g.click()},style:{width:"32px",height:"32px",borderRadius:"6px",backgroundColor:f,cursor:"pointer"}}),e.jsxs("div",{style:j.hexInput,children:[e.jsx("span",{style:j.hashSign,children:"#"}),e.jsx("input",{type:"text",value:f.replace("#","").toUpperCase(),onChange:g=>{const F=g.target.value.replace("#","").toUpperCase();/^[0-9A-Fa-f]{0,6}$/.test(F)&&F.length===6&&o(`#${F}`)},style:j.hexText,maxLength:6})]}),e.jsxs("div",{style:j.opacityInput,children:[e.jsx("span",{style:{...j.opacityText,width:"auto"},children:"100"}),e.jsx("span",{style:j.percentSign,children:"%"})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsx("p",{style:{...j.title,fontSize:"12px"},children:"Color Style"}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:It.map(g=>e.jsx("button",{onClick:()=>{y(g.id),t(u)},style:{width:"66px",height:"40px",borderRadius:"8px",border:I===g.id?"2px solid #38bdf8":"none",background:g.style.replace("#38bdf8",u).replace("#1e90ff",f),cursor:"pointer"}},g.id))})]})]})]}),e.jsxs("div",{style:j.lastUsedSection,children:[e.jsx("p",{style:j.lastUsedTitle,children:"Last used"}),e.jsx("div",{style:j.lastUsedGrid,children:U.map((g,F)=>e.jsx("div",{style:j.lastUsedColor(g),onClick:()=>L(g),onMouseEnter:A=>A.currentTarget.style.transform="scale(1.1)",onMouseLeave:A=>A.currentTarget.style.transform="scale(1)"},F))})]})]})]})},Gt=({websiteConfiguration:a,setWebsiteConfiguration:s,themeColors:t,setThemeColors:l})=>{const[p,h]=m.useState({...wt}),[x,b]=m.useState(1);m.useEffect(()=>{h(t)},[t]);const u=(o,I)=>{const y=kt(I);y&&(l(R=>({...R,[o]:y})),b(null))},C=o=>{l({...t,primary:o.primary,secondary:o.secondary,tertiary:o.tertiary,font:o.font}),b(o.id)},f=()=>{const o=Ne[Math.floor(Math.random()*Ne.length)];C(o)};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"20px"},children:[e.jsx("h3",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"20px",color:"#023337",letterSpacing:"0.1px",margin:"0 0 20px 0"},children:"Theme Colour"}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"flex-start",justifyContent:"space-between",gap:"16px"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[e.jsx(ge,{label:"Primary",color:t.primary,onChange:o=>u("primary",o)}),e.jsx(ge,{label:"Secondary",color:t.secondary,onChange:o=>u("secondary",o)}),e.jsx(ge,{label:"Depth Accent",color:t.tertiary,onChange:o=>u("tertiary",o)}),e.jsx(ge,{label:"Font Colour",color:t.font,onChange:o=>u("font",o)})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px",flex:1,minWidth:"300px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"12px",color:"#6c6c6c",margin:0},children:"Ready Colours"}),e.jsxs("button",{onClick:f,style:{display:"flex",alignItems:"center",gap:"4px",background:"none",border:"none",cursor:"pointer",padding:"4px"},children:[e.jsx("span",{style:{fontFamily:'"Poppins", sans-serif',fontWeight:500,fontSize:"12px",background:"linear-gradient(180deg, #ff6a00 0%, #ff9f1c 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Shuffle"}),e.jsx(ot,{size:20,style:{color:"#ff6a00"}})]})]}),e.jsx("div",{style:{backgroundColor:"#f9f9f9",borderRadius:"8px",padding:"7px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"8px"},children:Ne.map(o=>e.jsxs("div",{onClick:()=>C(o),style:{display:"flex",gap:"4px",alignItems:"center",cursor:"pointer"},children:[e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",border:x===o.id?"2px solid #22c55e":"2px solid transparent",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:x===o.id?"#22c55e":"#e5e5e5"},children:x===o.id&&e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"3",children:e.jsx("path",{d:"M5 13l4 4L19 7"})})}),e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:o.primary}}),e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:o.secondary}}),e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:o.tertiary}}),e.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",backgroundColor:o.font}})]},o.id))})]})]})]}),e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"8px",padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #f59e0b 0%, #ea580c 100%)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(245, 158, 11, 0.3)"},children:e.jsx(Pe,{size:18,style:{color:"white"}})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"18px",color:"#023337",margin:0},children:"Search Hints"}),e.jsx("p",{style:{fontFamily:'"Poppins", sans-serif',fontSize:"12px",color:"#6c6c6c",margin:0},children:"Suggest keywords to help customers find products"})]})]}),e.jsx("input",{type:"text",value:a.searchHints||"",onChange:o=>s(I=>({...I,searchHints:o.target.value})),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e5e5",borderRadius:"10px",backgroundColor:"#f9f9f9",fontFamily:'"Poppins", sans-serif',fontSize:"14px",outline:"none",transition:"all 0.2s ease"},placeholder:"gadget, gift, toy, electronics..."})]})]})},Dt=[{title:"Header Section",key:"headerStyle",count:5,layout:"full"},{title:"Category Section",key:"categorySectionStyle",count:5,layout:"grid"},{title:"Product card",key:"productCardStyle",count:5,layout:"cards"},{title:"Footer Section",key:"footerStyle",count:5,layout:"grid"},{title:"Bottom Nav Section",key:"bottomNavStyle",count:5,layout:"grid"}],me=({sectionKey:a,styleIndex:s,isSelected:t,onSelect:l,imageUrl:p,layout:h})=>{const[x,b]=m.useState(!1),[u,C]=m.useState(!1),f=()=>h==="full"?"140px":h==="cards"?"320px":"140px";return e.jsx("div",{onClick:l,onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),style:{backgroundColor:"white",border:t?"2px solid #ff6a00":"1.5px solid #e5e7eb",borderRadius:"12px",overflow:"hidden",paddingBottom:"12px",cursor:"pointer",transition:"all 0.3s ease",boxShadow:t?"0 4px 20px rgba(255, 106, 0, 0.25)":u?"0 8px 25px rgba(0, 0, 0, 0.12)":"0 2px 8px rgba(0, 0, 0, 0.06)",transform:u?"translateY(-2px)":"translateY(0)"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center",width:"100%"},children:[e.jsx("div",{style:{width:"100%",height:f(),backgroundColor:"#fafafa",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",borderBottom:"1px solid #f0f0f0"},children:p&&!x?e.jsx("img",{src:p,alt:`Style ${s+1}`,style:{width:"100%",height:"100%",objectFit:"contain",objectPosition:"center",padding:"4px"},onError:()=>b(!0)}):e.jsxs("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontFamily:"Poppins, sans-serif",fontSize:"14px",fontWeight:500},children:["Style ",s+1]})}),e.jsx("button",{onClick:o=>{o.stopPropagation(),l()},style:{width:"90%",maxWidth:"160px",height:"36px",borderRadius:"8px",border:t?"none":"1.5px solid #e5e7eb",cursor:"pointer",fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"14px",letterSpacing:"-0.3px",transition:"all 0.2s ease",...t?{background:"linear-gradient(135deg, #ff6a00 0%, #ff9f1c 100%)",color:"white",boxShadow:"0 2px 8px rgba(255, 106, 0, 0.3)"}:{backgroundColor:"#f8fafc",color:"#475569"}},children:t?"‚úì Selected":"Select"})]})})},qt=({websiteConfiguration:a,setWebsiteConfiguration:s})=>{const[t,l]=m.useState("desktop"),p=()=>{const x=a.headerStyle||"style1";return De.headerStyle?.[x]||""},h=(x,b)=>{s(u=>({...u,[x]:b}))};return e.jsxs("div",{style:{display:"flex",gap:"24px",position:"relative"},children:[e.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"48px"},children:Dt.map(x=>{const b=a[x.key]||"style1",u=De[x.key]||{};return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"18px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("h3",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"24px",color:"#023337",letterSpacing:"0.11px",margin:0},children:x.title}),e.jsxs("span",{style:{fontSize:"13px",color:"#64748b",fontFamily:"Poppins, sans-serif",backgroundColor:"#f1f5f9",padding:"4px 10px",borderRadius:"20px"},children:[x.count," styles"]})]}),x.layout==="full"?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:Array.from({length:x.count}).map((C,f)=>{const o=`style${f+1}`,I=b===o,y=u[o];return e.jsx(me,{sectionKey:x.key,styleIndex:f,isSelected:I,onSelect:()=>h(x.key,o),imageUrl:y,layout:x.layout},f)})}):x.layout==="cards"?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"18px"},children:[e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"18px"},children:Array.from({length:3}).map((C,f)=>{const o=`style${f+1}`,I=b===o,y=u[o];return e.jsx(me,{sectionKey:x.key,styleIndex:f,isSelected:I,onSelect:()=>h(x.key,o),imageUrl:y,layout:x.layout},f)})}),e.jsx("div",{style:{display:"flex",gap:"18px"},children:Array.from({length:2}).map((C,f)=>{const o=f+3,I=`style${o+1}`,y=b===I,R=u[I];return e.jsx("div",{style:{width:"209px"},children:e.jsx(me,{sectionKey:x.key,styleIndex:o,isSelected:y,onSelect:()=>h(x.key,I),imageUrl:R,layout:x.layout})},o)})})]}):e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"18px"},children:Array.from({length:x.count}).map((C,f)=>{const o=`style${f+1}`,I=b===o,y=u[o];return e.jsx(me,{sectionKey:x.key,styleIndex:f,isSelected:I,onSelect:()=>h(x.key,o),imageUrl:y,layout:x.layout},f)})})]},x.key)})}),e.jsx("div",{style:{width:"456px",position:"sticky",top:"20px",alignSelf:"flex-start",height:"fit-content",display:"none"},className:"hidden lg:block",children:e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.12)",border:"1px solid rgba(0,0,0,0.06)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"18px 20px",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",borderBottom:"1px solid rgba(0,0,0,0.06)"},children:[e.jsx("h4",{style:{fontFamily:'"Lato", sans-serif',fontWeight:700,fontSize:"20px",color:"#023337",letterSpacing:"0.1px",margin:0},children:"Live Preview"}),e.jsx("button",{onClick:()=>l(t==="desktop"?"mobile":"desktop"),style:{background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",cursor:"pointer",padding:"8px 12px",display:"flex",alignItems:"center",gap:"6px",justifyContent:"center",transition:"all 0.2s ease",boxShadow:"0 1px 3px rgba(0,0,0,0.05)"},title:`Switch to ${t==="desktop"?"mobile":"desktop"} view`,children:t==="desktop"?e.jsxs(e.Fragment,{children:[e.jsx(fe,{size:18,style:{color:"#023337"}}),e.jsx("span",{style:{fontSize:"13px",color:"#023337",fontWeight:500},children:"Desktop"})]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{size:18,style:{color:"#023337"}}),e.jsx("span",{style:{fontSize:"13px",color:"#023337",fontWeight:500},children:"Mobile"})]})})]}),e.jsx("div",{style:{width:"100%",height:"677px",overflow:"hidden",backgroundColor:"#f5f5f5"},children:p()?e.jsx("img",{src:p(),alt:"Theme Preview",style:{width:"100%",height:"100%",objectFit:"contain",objectPosition:"top",backgroundColor:"#f8fafc"}}):e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#94a3b8",fontFamily:"Poppins, sans-serif",fontSize:"16px",gap:"12px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"16px",backgroundColor:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(fe,{size:28,style:{color:"#94a3b8"}})}),e.jsx("span",{children:"Select a style to preview"})]})})]})})]})};export{At as C,Ut as D,Wt as P,Mt as T,_t as W,Ee as a,Bt as b,$e as c,Ot as d,Oe as e,ie as f,$t as g,wt as h,_e as i,Ht as j,Gt as k,qt as l,O as n,Et as u};
