import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as n}from"./react-core-KcGD0Z1V.js";import{L as i,f as k,a3 as A,h as E,Y as T,bk as F,aJ as I}from"./icons-chunk-AVFeydwE.js";import"./pkg-eventemitter3-CXfM2dhT.js";const M={enabled:!0,whatsappNumber:"",messengerPageId:"",liveChatEnabled:!1,supportHoursFrom:"09:00",supportHoursTo:"18:00",autoReplyMessage:"Thanks for reaching out! We'll get back to you soon.",offlineMessage:"We're currently offline. Please leave a message and we'll respond during business hours."},W=({chatConfig:f,onSaveChatConfig:g,tenants:j,onApplyToTenant:N,onApplyToAll:v})=>{const[t,l]=n.useState(f||M),[c,m]=n.useState(!1),[d,o]=n.useState(!1),[r,x]=n.useState([]),[u,h]=n.useState(!1),y=async()=>{m(!0);try{await g(t)}finally{m(!1)}},w=async()=>{if(r.length!==0){o(!0);try{for(const s of r)await N(s,t);x([]),h(!1)}finally{o(!1)}}},C=async()=>{o(!0);try{await v(t)}finally{o(!1)}},p=({enabled:s,onChange:a})=>e.jsx("button",{onClick:a,className:`w-12 h-6 rounded-full transition-colors ${s?"bg-emerald-500":"bg-slate-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow transition-transform ${s?"translate-x-6":"translate-x-0.5"}`})});return e.jsxs("div",{className:"p-3 sm:p-4 lg:p-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Chat Configuration"}),e.jsx("p",{className:"text-slate-500 mt-1",children:"Configure chat settings for tenant storefronts"})]}),e.jsxs("button",{onClick:y,disabled:c,className:"px-4 py-2.5 bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] hover:from-[#2BAEE8] hover:to-[#1A7FE8] text-white rounded-lg font-medium flex items-center gap-2 disabled:opacity-50 transition-colors",children:[c?e.jsx(i,{className:"w-5 h-5 animate-spin"}):e.jsx(k,{className:"w-5 h-5"}),"Save Configuration"]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-slate-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 flex items-center justify-center",children:e.jsx(A,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Chat Support"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Enable chat widget on storefronts"})]})]}),e.jsx(p,{enabled:t.enabled,onChange:()=>l(s=>({...s,enabled:!s.enabled}))})]})}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-100 flex items-center justify-center",children:e.jsx(E,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"WhatsApp Integration"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Configure WhatsApp chat button"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"WhatsApp Number"}),e.jsx("input",{type:"text",value:t.whatsappNumber,onChange:s=>l(a=>({...a,whatsappNumber:s.target.value})),placeholder:"+880 1XXXXXXXXX",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Include country code (e.g., +880 for Bangladesh)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Facebook Messenger Page ID"}),e.jsx("input",{type:"text",value:t.messengerPageId,onChange:s=>l(a=>({...a,messengerPageId:s.target.value})),placeholder:"Your Facebook Page ID",className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:"Support Hours"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Set business hours for chat support"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"From"}),e.jsx("input",{type:"time",value:t.supportHoursFrom,onChange:s=>l(a=>({...a,supportHoursFrom:s.target.value})),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"To"}),e.jsx("input",{type:"time",value:t.supportHoursTo,onChange:s=>l(a=>({...a,supportHoursTo:s.target.value})),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm"})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-slate-700",children:"Live Chat"}),e.jsx("p",{className:"text-sm text-slate-500",children:"Enable real-time live chat support"})]}),e.jsx(p,{enabled:t.liveChatEnabled,onChange:()=>l(s=>({...s,liveChatEnabled:!s.liveChatEnabled}))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Automated Messages"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Auto-Reply Message"}),e.jsx("textarea",{value:t.autoReplyMessage,onChange:s=>l(a=>({...a,autoReplyMessage:s.target.value})),rows:3,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Offline Message"}),e.jsx("textarea",{value:t.offlineMessage,onChange:s=>l(a=>({...a,offlineMessage:s.target.value})),rows:3,className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-100 text-sm resize-none"})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-slate-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(F,{className:"w-5 h-5 text-slate-400"}),e.jsx("h3",{className:"font-semibold text-slate-900",children:"Apply Settings"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:C,disabled:d,className:"w-full px-4 py-2.5 bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] hover:from-[#2BAEE8] hover:to-[#1A7FE8] text-white rounded-lg font-medium flex items-center justify-center gap-2 disabled:opacity-50 transition-colors",children:[d?e.jsx(i,{className:"w-5 h-5 animate-spin"}):null,"Apply to All Tenants"]}),e.jsx("button",{onClick:()=>h(!u),className:"w-full px-4 py-2.5 border border-slate-200 hover:bg-slate-50 text-slate-700 rounded-xl font-medium transition-colors",children:"Select Specific Tenants"}),u&&e.jsx("div",{className:"mt-3 max-h-64 overflow-y-auto border border-slate-200 rounded-xl",children:j.map(s=>e.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer border-b border-slate-100 last:border-0",children:[e.jsx("input",{type:"checkbox",checked:r.includes(s.id),onChange:a=>{x(b=>a.target.checked?[...b,s.id]:b.filter(S=>S!==s.id))},className:"w-4 h-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:s.name}),e.jsxs("p",{className:"text-xs text-slate-500",children:[s.subdomain,".allinbangla.com"]})]})]},s.id))}),r.length>0&&e.jsxs("button",{onClick:w,disabled:d,className:"w-full px-4 py-2.5 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium flex items-center justify-center gap-2 disabled:opacity-50 transition-colors",children:[d?e.jsx(i,{className:"w-5 h-5 animate-spin"}):e.jsx(I,{className:"w-5 h-5"}),"Apply to ",r.length," Tenant(s)"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-4 sm:p-6 shadow-sm border border-slate-200",children:[e.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Chat Status"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Status"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.enabled?"bg-emerald-100 text-emerald-700":"bg-slate-100 text-slate-600"}`,children:t.enabled?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"WhatsApp"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.whatsappNumber?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:t.whatsappNumber?"Configured":"Not Set"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Live Chat"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.liveChatEnabled?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:t.liveChatEnabled?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-600",children:"Hours"}),e.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[t.supportHoursFrom," - ",t.supportHoursTo]})]})]})]})]})]})]})};export{W as default};
