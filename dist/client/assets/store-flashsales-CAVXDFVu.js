import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as a}from"./react-core-KcGD0Z1V.js";import{n as S}from"./cmp-admincustomization-DQ3Wytgo.js";import{c3 as C,b as v,C as L,b1 as z,E,aU as P,ab as I}from"./icons-chunk-AVFeydwE.js";import"./pkg-eventemitter3-CXfM2dhT.js";import"./pkg-toast-Dpd4iwUK.js";import"./pkg-goober-N6sOClW1.js";import"./cmp-gallerypicker-tsx-CnyOus4y.js";import"./cmp-dashboard-CvCpAVHs.js";import"./pkg-socket-B8R9XNBE.js";import"./pkg-engine-io-C8bqYME4.js";import"./pkg-@socket.io-component-emitter-B3A4JZne.js";import"./pkg-socket.io-parser-C0hgSYjy.js";import"./cmp-approutes-tsx-T9J5ygBG.js";import"./cmp-skeletonloaders-tsx-Durrj7lG.js";import"./cmp-addnewduemodal-tsx-OjU2U-0e.js";import"./cmp-modern-dashboard-C6grFkCj.js";import"./cmp-invoiceprinttemplate-tsx-CUwUe6zE.js";import"./pkg-papaparse-BEpmA8em.js";import"./pkg-xlsx-BljOZNTS.js";import"./page-adminnote-C1Ob2d7z.js";import"./cmp-duehistorymodal-tsx-KQ79TbYj.js";const M=({product:s,onProductClick:n,onBuyNow:i,onAddToCart:c,onQuickView:x})=>{const[m,d]=a.useState(!1),[u,o]=a.useState(!1),h=S(s.galleryImages?.[0]||s.image),r=s.originalPrice&&s.price?Math.round((s.originalPrice-s.price)/s.originalPrice*100):null;return e.jsxs("div",{className:"group bg-white rounded-lg sm:rounded-xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 flex flex-col w-[120px] xs:w-[140px] sm:w-[160px] md:w-[180px] lg:w-[200px] flex-shrink-0 border border-gray-100",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[e.jsxs("div",{className:"relative aspect-square bg-gray-50 overflow-hidden",children:[e.jsx("button",{onClick:p=>{p.stopPropagation(),d(!m)},className:"absolute top-1 right-1 sm:to p-2 sm:right-2 z-10 w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-white/90 shadow-sm flex items-center justify-center hover:scale-110 transition-transform",children:e.jsx(z,{size:12,className:`sm:w-4 sm:h-4 ${m?"fill-red-500 text-red-500":"text-gray-400"}`})}),r&&r>0&&e.jsxs("span",{className:"absolute top-1 left-1 sm:to p-2 sm:left-2 bg-red-500 text-white text-[8px] sm:text-[10px] font-bold px-1 sm:px-2 py-0.5 sm:py-1 rounded sm:rounded-md shadow-sm",children:["-",r,"%"]}),e.jsx("img",{src:h,alt:s.name,className:"w-full h-full object-contain p-1 sm:p-2 cursor-pointer group-hover:scale-105 transition-transform duration-300",onClick:()=>n(s),loading:"lazy"}),e.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-1 sm:p-2 hidden sm:flex justify-center gap-1 sm:gap-2 transition-all duration-300 ${u?"sm:opacity-100 sm:translate-y-0":"sm:opacity-0 sm:translate-y-2"}`,children:[e.jsx("button",{onClick:()=>x?.(s),className:"w-6 h-6 sm:w-8 sm:h-8 bg-white rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors shadow-md",children:e.jsx(E,{size:12,className:"sm:w-[14px] sm:h-[14px] text-gray-700"})}),e.jsx("button",{onClick:()=>c?.(s),className:"w-6 h-6 sm:w-8 sm:h-8 bg-white rounded-full flex items-center justify-center hover:bg-gray-100 transition-colors shadow-md",children:e.jsx(P,{size:12,className:"sm:w-[14px] sm:h-[14px] text-gray-700"})})]})]}),e.jsxs("div",{className:"p-1.5 sm:p-2 md:p-3 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1 mb-0.5 sm:mb-1",children:[e.jsx(I,{size:10,className:"sm:w-3 sm:h-3 text-amber-400 fill-amber-400"}),e.jsxs("span",{className:"text-[10px] sm:text-xs text-gray-500",children:[s.rating||"4.5"," ",e.jsxs("span",{className:"hidden xs:inline",children:["(",s.reviews||0,")"]})]})]}),e.jsx("h3",{className:"text-[11px] sm:text-xs md:text-sm font-medium text-gray-800 line-clamp-2 mb-1 sm:mb-2 cursor-pointer hover:text-pink-600 transition-colors min-h-[28px] sm:min-h-[32px] md:min-h-[40px]",onClick:()=>n(s),children:s.name}),e.jsxs("div",{className:"flex items-baseline gap-1 sm:gap-2 mt-auto flex-wrap",children:[e.jsxs("span",{className:"text-xs sm:text-sm md:text-base font-bold text-gray-900",children:["৳",s.price?.toLocaleString()]}),s.originalPrice&&e.jsxs("span",{className:"text-[9px] sm:text-[10px] md:text-xs text-gray-400 line-through",children:["৳",s.originalPrice.toLocaleString()]})]}),e.jsx("button",{onClick:()=>i?.(s),className:"mt-1 sm:mt-2 w-full py-1 sm:py-1.5 md:py-2 bg-gradient-to-r from-pink-500 to-rose-500 text-white text-[10px] sm:text-xs font-semibold rounded sm:rounded-lg hover:from-pink-600 hover:to-rose-600 transition-all shadow-sm",children:"Buy Now"})]})]})},se=({products:s,showCounter:n,countdown:i,onProductClick:c,onBuyNow:x,onQuickView:m,onAddToCart:d,productCardStyle:u,sectionRef:o,onViewAll:h})=>{const r=a.useRef(null),[p,N]=a.useState(!1),[y,k]=a.useState(!0),[w,b]=a.useState(!1);a.useEffect(()=>{if(s.length<=3||w)return;const t=setInterval(()=>{if(r.current){const l=r.current,g=l.scrollWidth-l.clientWidth;l.scrollLeft>=g-10?l.scrollTo({left:0,behavior:"smooth"}):l.scrollBy({left:210,behavior:"smooth"})}},3500);return()=>clearInterval(t)},[s.length,w]);const j=t=>{if(!r.current)return;const l=420,g=t==="left"?r.current.scrollLeft-l:r.current.scrollLeft+l;r.current.scrollTo({left:g,behavior:"smooth"})},f=()=>{r.current&&(N(r.current.scrollLeft>0),k(r.current.scrollLeft<r.current.scrollWidth-r.current.clientWidth-10))};return a.useEffect(()=>{const t=r.current;if(t)return t.addEventListener("scroll",f),f(),()=>t.removeEventListener("scroll",f)},[s]),s.length?e.jsx("section",{ref:o,className:"py-2 sm:py-4 md:py-6",onMouseEnter:()=>b(!0),onMouseLeave:()=>b(!1),children:e.jsx("div",{className:"bg-gradient-to-r from-pink-500 via-rose-500 to-orange-500 rounded-xl sm:rounded-2xl p-0.5 sm:p-1 shadow-lg",children:e.jsxs("div",{className:"bg-gradient-to-r from-pink-500/90 via-rose-500/90 to-orange-500/90 rounded-lg sm:rounded-xl p-2.5 sm:p-4 md:p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[e.jsx("div",{className:"w-7 h-7 sm:w-10 sm:h-10 bg-white/20 rounded-lg sm:rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx(C,{className:"text-white w-4 h-4 sm:w-5 sm:h-5 md:w-[22px] md:h-[22px]"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-sm sm:text-xl md:text-2xl font-bold text-white truncate",children:"Deal of The Day"}),e.jsx("p",{className:"text-white/80 text-[10px] sm:text-xs md:text-sm hidden xs:block",children:"Limited time offers"})]})]}),n&&e.jsx("div",{className:"flex sm:hidden items-center gap-0.5 mx-1",role:"timer","aria-label":"Deal countdown timer",children:i.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("div",{className:"bg-white/20 rounded px-1 py-0.5 min-w-[24px] text-center","aria-label":`${t.value} ${t.label}`,children:e.jsx("span",{className:"text-[11px] font-bold text-white leading-none",children:t.value})}),l<i.length-1&&e.jsx("span",{className:"text-white/80 text-[10px] font-bold","aria-hidden":"true",children:":"})]},l))}),n&&e.jsx("div",{className:"hidden sm:flex items-center gap-1.5",children:i.map((t,l)=>e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"bg-white/20 rounded-lg px-2.5 py-1.5 min-w-[45px] text-center",children:[e.jsx("span",{className:"text-lg font-bold text-white",children:t.value}),e.jsx("p",{className:"text-[9px] text-white/70 uppercase",children:t.label})]}),l<i.length-1&&e.jsx("span",{className:"text-white font-bold",children:":"})]},l))}),e.jsxs("button",{onClick:h,className:"flex items-center gap-0.5 sm:gap-1 bg-white text-pink-600 text-[10px] sm:text-xs md:text-sm font-bold px-2 sm:px-4 py-1 sm:py-2 rounded-full hover:bg-pink-50 transition-all shadow-md flex-shrink-0",children:[e.jsx("span",{className:"hidden xs:inline",children:"View All"}),e.jsx("span",{className:"xs:hidden",children:"All"}),e.jsx(v,{size:12,className:"sm:w-4 sm:h-4"})]})]}),e.jsxs("div",{className:"relative",children:[p&&e.jsx("button",{onClick:()=>j("left"),className:"absolute -left-1 sm:-left-2 md:left-0 top-1/2 -translate-y-1/2 z-10 w-6 h-6 sm:w-8 sm:h-8 md:w-9 md:h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:bg-gray-50 transition-all",children:e.jsx(L,{size:16,className:"sm:w-5 sm:h-5"})}),e.jsx("div",{ref:r,className:"flex gap-2 sm:gap-3 md:gap-4 overflow-x-auto scrollbar-hide pb-1 sm:pb-2 scroll-smooth px-0.5 sm:px-1",children:s.map((t,l)=>e.jsx(M,{product:t,onProductClick:c,onBuyNow:x,onAddToCart:d,onQuickView:m},`flash-${t.id}-${l}`))}),y&&e.jsx("button",{onClick:()=>j("right"),className:"absolute -right-1 sm:-right-2 md:right-0 top-1/2 -translate-y-1/2 z-10 w-6 h-6 sm:w-8 sm:h-8 md:w-9 md:h-9 bg-white rounded-full shadow-lg flex items-center justify-center text-gray-700 hover:bg-gray-50 transition-all",children:e.jsx(v,{size:16,className:"sm:w-5 sm:h-5"})})]}),s.length>4&&e.jsx("div",{className:"flex justify-center gap-1 sm:gap-1.5 mt-2 sm:mt-4",children:Array.from({length:Math.min(5,Math.ceil(s.length/2))}).map((t,l)=>e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-white/40 hover:bg-white/80 transition-colors cursor-pointer"},l))})]})})}):null};export{se as FlashSalesSection,se as default};
