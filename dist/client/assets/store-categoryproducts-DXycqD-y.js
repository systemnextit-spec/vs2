const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cmp-storeheader-BurZc6zF.js","assets/cmp-approutes-tsx-DORRjFJg.js","assets/react-jsx-runtime-BBsywpoz.js","assets/react-core-KcGD0Z1V.js","assets/pkg-eventemitter3-CXfM2dhT.js","assets/cmp-skeletonloaders-tsx-Durrj7lG.js","assets/store-header-DNV3DrNl.js","assets/store-header-mobile-z4016zOq.js","assets/cmp-admincustomization-BgTFiuh2.js","assets/pkg-toast-Dpd4iwUK.js","assets/pkg-goober-N6sOClW1.js","assets/cmp-gallerypicker-tsx-T-_pXSB3.js","assets/cmp-dashboard-CwyHj6aR.js","assets/pkg-socket-D1bUdbwx.js","assets/pkg-engine-io-BZqIjJKj.js","assets/pkg-@socket.io-component-emitter-Dkula2eQ.js","assets/pkg-socket.io-parser-CafqElEs.js","assets/cmp-addnewduemodal-tsx-OjU2U-0e.js","assets/icons-chunk-AVFeydwE.js","assets/cmp-modern-dashboard-C6grFkCj.js","assets/cmp-invoiceprinttemplate-tsx-CUwUe6zE.js","assets/pkg-papaparse-BEpmA8em.js","assets/pkg-xlsx-BljOZNTS.js","assets/page-adminnote-C1Ob2d7z.js","assets/cmp-duehistorymodal-tsx-KQ79TbYj.js","assets/store-header-desktop-2RqZUDgA.js","assets/store-header-search-Cczo2qOt.js","assets/cmp-landingpagecomponents-tsx-r6jaT4TN.js","assets/store-header-modals-SJmrtiSV.js","assets/cmp-storeheader-BzgGRwUb.css","assets/store-footer-CsytP2Qk.js","assets/store-footer-D-CGY2_e.css","assets/store-modal-track-BPT0ruEP.js"])))=>i.map(i=>d[i]);
import{_ as M}from"./cmp-approutes-tsx-DORRjFJg.js";import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as a}from"./react-core-KcGD0Z1V.js";import{P as be}from"./cmp-storeproductcomponents-tsx-DwE_Owim.js";import{n as q}from"./cmp-admincustomization-BgTFiuh2.js";import{P as ve}from"./cmp-productfilter-tsx-CoMgXbD1.js";import{C as ye,c1 as S,af as Ne,X as P,n as X,b as we,v as ke}from"./icons-chunk-AVFeydwE.js";const Se=a.lazy(()=>M(()=>import("./cmp-storeheader-BurZc6zF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29])).then(i=>({default:i.StoreHeader}))),_e=a.lazy(()=>M(()=>import("./store-footer-CsytP2Qk.js"),__vite__mapDeps([30,2,3,4,8,9,10,11,12,13,14,15,16,1,5,17,18,19,20,21,22,23,24,31])).then(i=>({default:i.StoreFooter}))),ze=a.lazy(()=>M(()=>import("./store-modal-track-BPT0ruEP.js"),__vite__mapDeps([32,2,3,4,18])).then(i=>({default:i.TrackOrderModal}))),m=(i,h)=>i?.toLowerCase()===h?.toLowerCase(),b=(i,h)=>!i.tags||!Array.isArray(i.tags)?!1:i.tags.some(_=>_.toLowerCase()===h.toLowerCase()),Ee=({products:i,categories:h,subCategories:_,childCategories:G,brands:z,tags:C,selectedCategory:l,onCategoryChange:T,onBack:v,onHome:J,onProductClick:E,onBuyNow:K,onQuickView:Q,onAddToCart:Y,websiteConfig:F,logo:L,user:Z,wishlistCount:ee=0,wishlist:se=[],onToggleWishlist:te,cart:re=[],onToggleCart:ae,onCheckoutFromCart:le,onLoginClick:ie,onLogoutClick:ne,onProfileClick:oe,onOpenChat:ce,onImageSearchClick:de,orders:me=[]})=>{const[o,y]=a.useState(null),[c,N]=a.useState(null),[O,B]=a.useState("relevance"),[xe,$]=a.useState(!1),[he,ue]=a.useState(""),[ge,H]=a.useState(!1),u=l==="__all__",f=l.startsWith("brand:"),n=l.startsWith("tag:"),A=f?l.slice(6):null,g=n?l.slice(4):null,I=a.useMemo(()=>h?.filter(s=>s.status==="Active")||[],[h]),w=a.useMemo(()=>z?.filter(s=>s.status==="Active")||[],[z]),j=a.useMemo(()=>C?.filter(s=>s.status==="Active")||[],[C]),x=a.useMemo(()=>i.filter(s=>!s.status||s.status==="Active"),[i]),R=a.useMemo(()=>x.filter(s=>{const t=!o||m(s.brand,o),r=!c||b(s,c);if(u)return t&&r;if(f)return m(s.brand,A)&&r;if(n)return b(s,g)&&t;const d=m(s.category,l),pe=m(s.subCategory,l),fe=m(s.childCategory,l),je=b(s,l);return(d||pe||fe||je)&&t&&r}),[x,l,o,c,u,f,n,A,g]),k=a.useMemo(()=>{const s=[...R];return{"price-low":()=>s.sort((r,d)=>(r.price||0)-(d.price||0)),"price-high":()=>s.sort((r,d)=>(d.price||0)-(r.price||0)),rating:()=>s.sort((r,d)=>(d.rating||0)-(r.rating||0)),newest:()=>s.sort((r,d)=>(d.id||0)-(r.id||0))}[O]?.()||s},[R,O]),V=a.useMemo(()=>{if(u)return w;if(n&&g){const t=new Set(x.filter(r=>b(r,g)).map(r=>r.brand).filter(Boolean));return w.filter(r=>t.has(r.name))}const s=new Set(x.filter(t=>m(t.category,l)||b(t,l)).map(t=>t.brand).filter(Boolean));return w.filter(t=>s.has(t.name))},[x,l,w,u,n,g]);a.useMemo(()=>{if(u)return j;if(n)return[];const s=new Set;return x.forEach(t=>{(m(t.category,l)||f)&&Array.isArray(t.tags)&&t.tags.forEach(r=>s.add(r))}),j.filter(t=>s.has(t.name))},[x,l,j,u,n,f]);const D=u?"All Products":n?g:A||l,U=()=>{y(null),N(null),B("relevance")},p=()=>$(!1),W=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-theme-r px-4 py-3",children:e.jsx("h3",{className:"text-white font-bold text-sm",children:"Categories"})}),e.jsx("div",{className:"divide-y divide-gray-50 max-h-[400px] overflow-y-auto",children:I.map(s=>{const t=m(l,s.name);return e.jsxs("button",{onClick:()=>{T(s.name),y(null),N(null),p()},className:`w-full flex items-center justify-between px-4 py-3 text-sm transition-all hover:bg-theme-primary/10 group ${t?"bg-theme-primary/10 text-theme-primary font-semibold":"text-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.image?e.jsx("img",{src:q(s.image),alt:s.name,className:"w-8 h-8 rounded-lg object-cover border border-gray-100"}):e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:e.jsx(X,{size:16,className:"text-gray-400"})}),e.jsx("span",{className:"truncate",children:s.name})]}),e.jsx(we,{size:16,className:`text-gray-400 flex-shrink-0 transition-transform ${t?"rotate-90 text-theme-primary":"group-hover:translate-x-1"}`})]},s.id)})})]}),j.length>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-4 py-3",children:e.jsxs("h3",{className:"text-white font-bold text-sm flex items-center gap-2",children:[e.jsx(S,{size:14})," Tags"]})}),e.jsx("div",{className:"divide-y divide-gray-50 max-h-[300px] overflow-y-auto",children:j.map(s=>{const t=n?m(g,s.name):c===s.name;return e.jsxs("button",{onClick:()=>{n?T(`tag:${s.name}`):N(r=>r===s.name?null:s.name),p()},className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-all hover:bg-purple-50 ${t?"bg-purple-50 text-purple-600 font-semibold":"text-gray-700"}`,children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(S,{size:16,className:t?"text-purple-600":"text-purple-400"})}),e.jsx("span",{className:"truncate",children:s.name})]},s.id)})})]}),V.length>0&&e.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-700 to-gray-800 px-4 py-3",children:e.jsx("h3",{className:"text-white font-bold text-sm",children:"Brands"})}),e.jsx("div",{className:"divide-y divide-gray-50 max-h-[300px] overflow-y-auto",children:V.map(s=>e.jsxs("button",{onClick:()=>{y(t=>t===s.name?null:s.name),p()},className:`w-full flex items-center gap-3 px-4 py-3 text-sm transition-all hover:bg-gray-50 ${o===s.name?"bg-blue-50 text-blue-600 font-semibold":"text-gray-700"}`,children:[s.logo?e.jsx("img",{src:q(s.logo),alt:s.name,className:"w-8 h-8 rounded-lg object-contain border border-gray-100 bg-white p-1"}):e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:e.jsx(ke,{size:16,className:"text-gray-400"})}),e.jsx("span",{className:"truncate",children:s.name})]},s.id))})]}),(o||c)&&e.jsx("button",{onClick:()=>{U(),p()},className:"w-full py-2 px-4 bg-red-50 text-red-600 rounded-lg text-sm font-semibold hover:bg-red-100 transition",children:"Clear Filters"})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[e.jsx(a.Suspense,{fallback:null,children:e.jsx(Se,{onTrackOrder:()=>H(!0),onHomeClick:J||v,onImageSearchClick:de,productCatalog:x,wishlistCount:ee,wishlist:se,onToggleWishlist:te,cart:re,onToggleCart:ae,onCheckoutFromCart:le,user:Z,onLoginClick:ie,onLogoutClick:ne,onProfileClick:oe,logo:L,websiteConfig:F,searchValue:he,onSearchChange:ue,onCategoriesClick:v,onProductsClick:v,categoriesList:I.map(s=>s.name),onCategorySelect:T,onProductClick:E,categories:h,subCategories:_,childCategories:G,brands:z,tags:C})}),e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-[60px] z-20",children:e.jsxs("div",{className:"max-w-[1408px] mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:v,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition",children:[e.jsx(ye,{size:20}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Back"})]}),e.jsx("div",{className:"h-6 w-px bg-gray-200"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n&&e.jsx(S,{size:16,className:"text-purple-500"}),e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:D})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[k.length," products"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ve,{products:k,sortBy:O,onSortChange:(s,t)=>B(s)}),e.jsxs("button",{onClick:()=>$(!0),className:"lg:hidden flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-200 transition",children:[e.jsx(Ne,{size:16}),e.jsx("span",{children:"Filters"})]})]})]})}),e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"max-w-[1408px] mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:e.jsxs("div",{className:"flex gap-3 sm:gap-4 lg:gap-6",children:[e.jsx("aside",{className:"hidden lg:block w-64 flex-shrink-0 space-y-4",children:e.jsx(W,{})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[(o||c)&&e.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Filters:"}),o&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium",children:[o,e.jsx("button",{onClick:()=>y(null),className:"ml-1 hover:text-blue-900",children:e.jsx(P,{size:14})})]}),c&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:[e.jsx(S,{size:12}),c,e.jsx("button",{onClick:()=>N(null),className:"ml-1 hover:text-purple-900",children:e.jsx(P,{size:14})})]})]}),k.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 md:grid-cols-3 lg:grid-cols-4",children:k.map(s=>e.jsx(be,{product:s,onClick:E,onBuyNow:K,variant:F?.productCardStyle,onQuickView:Q,onAddToCart:Y},`cat-${s.id}`))}):e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(X,{size:64,className:"mx-auto text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500 font-medium text-lg",children:"No products found"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:o||c?"No products match the selected filters":`No products in ${D}`}),(o||c)&&e.jsx("button",{onClick:U,className:"mt-4 px-3 sm:px-4 lg:px-6 py-2 bg-theme-primary text-white rounded-lg text-sm font-semibold hover:opacity-90 transition",children:"Clear Filters"})]})]})]})})}),xe&&e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:p}),e.jsxs("div",{className:"absolute right-0 to p-0 bottom-0 w-80 max-w-full bg-gray-50 shadow-xl overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-4 py-3 flex items-center justify-between",children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"Filters"}),e.jsx("button",{onClick:p,className:"p-2 hover:bg-gray-100 rounded-lg transition",children:e.jsx(P,{size:20})})]}),e.jsx("div",{className:"p-4 space-y-4",children:e.jsx(W,{})})]})]}),e.jsx(a.Suspense,{fallback:null,children:e.jsx(_e,{websiteConfig:F,logo:L,onOpenChat:ce})}),ge&&e.jsx(a.Suspense,{fallback:null,children:e.jsx(ze,{onClose:()=>H(!1),orders:me})})]})};export{Ee as S};
