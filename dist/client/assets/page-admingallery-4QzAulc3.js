import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as l}from"./react-core-KcGD0Z1V.js";import{a as Ee,D as te}from"./cmp-dashboard-CwyHj6aR.js";import{n as F,u as ae}from"./cmp-admincustomization-BgTFiuh2.js";import{ImageGridSkeleton as re}from"./cmp-skeletonloaders-tsx-Durrj7lG.js";import d from"./pkg-toast-Dpd4iwUK.js";import{U as le,T as f,S as oe,F as N,g as Re,d as Le,aJ as ne,X as ie,bC as Me,w as Oe,ao as Ae,Y as de,br as ce,ak as Ge,aC as Je,aK as me,c as pe,bD as ue}from"./icons-chunk-AVFeydwE.js";import"./pkg-eventemitter3-CXfM2dhT.js";import"./pkg-socket-D1bUdbwx.js";import"./pkg-engine-io-BZqIjJKj.js";import"./pkg-@socket.io-component-emitter-Dkula2eQ.js";import"./pkg-socket.io-parser-CafqElEs.js";import"./cmp-approutes-tsx-DORRjFJg.js";import"./cmp-addnewduemodal-tsx-OjU2U-0e.js";import"./cmp-modern-dashboard-C6grFkCj.js";import"./cmp-invoiceprinttemplate-tsx-CUwUe6zE.js";import"./pkg-papaparse-BEpmA8em.js";import"./pkg-xlsx-BljOZNTS.js";import"./page-adminnote-C1Ob2d7z.js";import"./cmp-duehistorymodal-tsx-KQ79TbYj.js";import"./cmp-gallerypicker-tsx-T-_pXSB3.js";import"./pkg-goober-N6sOClW1.js";const _e=[],ps=()=>{const{activeTenantId:r}=Ee(),[z,xe]=l.useState(""),[p,b]=l.useState([]),[j,g]=l.useState([]),[D,T]=l.useState(!1),[A,G]=l.useState(null),J=l.useRef(null),[_,C]=l.useState([]),[x,I]=l.useState(null),[K,$]=l.useState(!1),[ge,U]=l.useState(!1),[P,E]=l.useState(""),[he,R]=l.useState(null),[w,Y]=l.useState(""),[y,fe]=l.useState(!1),[k,B]=l.useState([]),[ye,X]=l.useState(!1),[be,S]=l.useState(!1),[L,q]=l.useState([]),[h,v]=l.useState(null),[W,M]=l.useState(!1),O=l.useRef(null),u="https://allinbangla.com",V=l.useCallback(async()=>{if(r)try{const t=await(await fetch(`${u}/api/upload/folders?tenantId=${r}`,{credentials:"include",headers:{"Content-Type":"application/json"}})).json();t.success&&C(t.folders||[])}catch(s){console.error("Failed to load folders:",s)}},[r,u]),Z=l.useCallback(async()=>{if(r){X(!0);try{const t=await(await fetch(`${u}/api/upload/trash?tenantId=${r}`,{credentials:"include",headers:{"Content-Type":"application/json"}})).json();t.success&&B(t.items||[])}catch(s){console.error("Failed to load trash:",s)}finally{X(!1)}}},[r,u]),je=async(s,t,a)=>{s.stopPropagation();const o=F(t);try{await navigator.clipboard.writeText(o),G(a),setTimeout(()=>G(null),2e3)}catch(i){console.error("Failed to copy:",i)}},we=async(s,t,a)=>{s.stopPropagation();const o=F(t);try{const c=await(await fetch(o)).blob(),n=window.URL.createObjectURL(c),m=document.createElement("a");m.href=n,m.download=`${a}.${c.type.split("/")[1]||"png"}`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(n)}catch{window.open(o,"_blank")}},ve=async(s,t)=>{s.stopPropagation();try{const o=await(await fetch(`${u}/api/upload/trash`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:t.imageUrl,tenantId:r})})).json();o.success?(g(i=>i.filter(c=>c.id!==t.id)),b(i=>i.filter(c=>c!==t.id)),d.success("Image moved to trash")):d.error(o.error||"Failed to delete image")}catch(a){console.error("Delete failed:",a),d.error("Failed to delete image")}},Ne=async()=>{if(p.length===0)return;const s=j.filter(a=>p.includes(a.id));let t=0;for(const a of s)try{(await(await fetch(`${u}/api/upload/trash`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:a.imageUrl,tenantId:r})})).json()).success&&t++}catch{console.error("Delete failed for:",a.imageUrl)}t>0&&(g(a=>a.filter(o=>!p.includes(o.id))),b([]),d.success(`${t} image(s) moved to trash`))},Ce=async s=>{try{const a=await(await fetch(`${u}/api/upload/restore`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({trashPath:s.trashPath,tenantId:r})})).json();if(a.success){const o={id:Date.now(),title:s.filename.split(".")[0],category:s.folder||"Restored",imageUrl:a.imageUrl,dateAdded:new Date().toISOString()};g(i=>[o,...i]),B(i=>i.filter(c=>c.trashPath!==s.trashPath)),d.success("Image restored")}else d.error(a.error||"Failed to restore")}catch(t){console.error("Restore failed:",t),d.error("Failed to restore image")}},H=async()=>{if(P.trim())try{const t=await(await fetch(`${u}/api/upload/folders`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantId:r,folderName:P.trim()})})).json();t.success?(C(a=>[...a,t.folder]),E(""),U(!1),d.success("Folder created")):d.error(t.error||"Failed to create folder")}catch(s){console.error("Create folder failed:",s),d.error("Failed to create folder")}},Q=async s=>{if(!w.trim()||w===s){R(null);return}try{const a=await(await fetch(`${u}/api/upload/folders`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantId:r,oldName:s,newName:w.trim()})})).json();a.success?(C(o=>o.map(i=>i.name===s?{...i,name:w.trim()}:i)),R(null),d.success("Folder renamed")):d.error(a.error||"Failed to rename folder")}catch(t){console.error("Rename folder failed:",t),d.error("Failed to rename folder")}},ke=async s=>{if(confirm(`Delete folder "${s}"? The folder must be empty.`))try{const a=await(await fetch(`${u}/api/upload/folders`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({tenantId:r,folderName:s})})).json();a.success?(C(o=>o.filter(i=>i.name!==s)),x===s&&I(null),v(null),d.success("Folder deleted")):d.error(a.error||"Failed to delete folder")}catch(t){console.error("Delete folder failed:",t),d.error("Failed to delete folder")}},ee=async s=>{if(L.length===0)return;let t=0;for(const a of L)try{const i=await(await fetch(`${u}/api/upload/move`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:a.imageUrl,targetFolder:s||"root",tenantId:r})})).json();i.success&&(g(c=>c.map(n=>n.id===a.id?{...n,imageUrl:i.imageUrl,category:s||"Gallery"}:n)),t++)}catch(o){console.error("Move failed:",o)}t>0&&d.success(`${t} image(s) moved`),S(!1),q([]),b([])},Se=()=>{const s=j.filter(t=>p.includes(t.id));if(s.length===0){d.error("Select images to move");return}q(s),S(!0)},Fe=s=>{const t=Math.floor(s/36e5),a=Math.floor(s%(3600*1e3)/(60*1e3));return t>0?`${t}h ${a}m`:`${a}m`};l.useEffect(()=>{let s=!0;const t=async()=>{if(r)try{const a=`gallery_${r}`,o=await te.get(a,_e);s&&(g(o),T(!0))}catch(a){console.warn("Failed to load gallery, using defaults",a),s&&T(!0)}};return g([]),T(!1),b([]),t(),V(),()=>{s=!1}},[V,r]),l.useEffect(()=>{if(!D||!r)return;const s=`gallery_${r}`;te.save(s,j)},[j,D,r]),l.useEffect(()=>{y&&Z()},[y,Z]),l.useEffect(()=>{const s=()=>v(null);if(h)return document.addEventListener("click",s),()=>document.removeEventListener("click",s)},[h]);const se=j.filter(s=>{const t=s.title.toLowerCase().includes(z.toLowerCase())||s.category.toLowerCase().includes(z.toLowerCase()),a=!x||s.category===x;return t&&a}),ze=s=>{p.includes(s)?b(p.filter(t=>t!==s)):b([...p,s])},De=async s=>{const t=s.target,a=t.files;if(!a||a.length===0)return;if(!r){d.error("Tenant not loaded yet. Please try again in a moment."),t&&(t.value="");return}const o=Array.from(a).map(async n=>{try{const m=await ae(n,r);return{id:Date.now()+Math.random(),title:n.name.split(".")[0],category:x||"Uploads",imageUrl:m,dateAdded:new Date().toISOString()}}catch(m){return console.error("Failed to upload:",n.name,m),null}}),c=(await Promise.all(o)).filter(n=>n!==null);c.length>0&&(g(n=>[...c,...n]),d.success(`${c.length} image(s) uploaded`)),t&&(t.value="")},Te=s=>{s.preventDefault(),s.stopPropagation(),M(!0)},Ie=s=>{s.preventDefault(),s.stopPropagation(),O.current&&s.relatedTarget&&!O.current.contains(s.relatedTarget)&&M(!1)},$e=s=>{s.preventDefault(),s.stopPropagation()},Ue=async s=>{s.preventDefault(),s.stopPropagation(),M(!1);const t=s.dataTransfer.files;if(!t||t.length===0)return;if(!r){d.error("Tenant not loaded yet. Please try again in a moment.");return}const a=Array.from(t).filter(n=>n.type.startsWith("image/"));if(a.length===0){d.error("Please drop image files only");return}const o=a.map(async n=>{try{const m=await ae(n,r);return{id:Date.now()+Math.random(),title:n.name.split(".")[0],category:x||"Uploads",imageUrl:m,dateAdded:new Date().toISOString()}}catch(m){return console.error("Failed to upload:",n.name,m),null}}),c=(await Promise.all(o)).filter(n=>n!==null);c.length>0&&(g(n=>[...c,...n]),d.success(`${c.length} image(s) uploaded`))};return e.jsxs("div",{ref:O,className:`flex flex-col h-[calc(100vh-80px)] bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden animate-fade-in relative ${W?"ring-2 ring-purple-500 ring-opacity-50":""}`,onDragEnter:Te,onDragLeave:Ie,onDragOver:$e,onDrop:Ue,children:[W&&e.jsx("div",{className:"absolute inset-0 bg-purple-500/10 backdrop-blur-sm z-50 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:`bg-white rounded-xl p-8 shadow-2xl border-2 border-dashed ${r?"border-purple-500":"border-gray-400"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(le,{size:48,className:`mx-auto mb-4 ${r?"text-purple-500":"text-gray-400"}`}),r?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg font-bold text-purple-700",children:"Drop images here to upload"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Images will be uploaded to ",x||"Gallery Root"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-lg font-bold text-gray-600",children:"Please wait..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Store is still loading"})]})]})})}),e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-100 flex flex-col gap-3 sm:gap-4 bg-white z-10",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"Gallery"}),e.jsxs("button",{onClick:()=>fe(!y),className:`flex items-center gap-1.5 sm:gap-2 px-2 sm:px-3 py-1 sm:py-1.5 rounded-lg text-xs sm:text-sm font-medium transition ${y?"bg-red-100 text-red-700 border border-red-200":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(f,{size:14,className:"sm:hidden"}),e.jsx(f,{size:16,className:"hidden sm:block"}),e.jsx("span",{className:"hidden xs:inline",children:"Trash"})," ",k.length>0&&`(${k.length})`]})]}),!y&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 w-full sm:w-auto",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-none sm:w-48 lg:w-64",children:[e.jsx("input",{type:"text",placeholder:"Search images...",className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2 border border-purple-100 bg-purple-50/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",value:z,onChange:s=>xe(s.target.value)}),e.jsx(oe,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 sm:hidden"}),e.jsx(oe,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 hidden sm:block"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>$(!K),className:"flex items-center justify-center sm:justify-start gap-2 px-3 sm:px-4 py-2 border border-blue-500 text-blue-600 rounded-lg hover:bg-blue-50 transition text-sm font-bold whitespace-nowrap w-full sm:w-auto",children:[e.jsx(N,{size:16,className:"sm:hidden"}),e.jsx(N,{size:18,className:"hidden sm:block"}),e.jsx("span",{className:"truncate max-w-[100px] sm:max-w-none",children:x||"All Images"}),e.jsx(Re,{size:16})]}),K&&e.jsxs("div",{className:"absolute right-0 sm:right-auto sm:left-0 top-full mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50",children:[e.jsx("div",{className:"p-2 border-b border-gray-100",children:e.jsx("button",{onClick:()=>{I(null),$(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm ${x?"hover:bg-gray-50":"bg-purple-50 text-purple-700"}`,children:"All Images"})}),e.jsx("div",{className:"max-h-48 overflow-y-auto p-2",children:_.map(s=>e.jsx("div",{className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm cursor-pointer group ${x===s.name?"bg-purple-50 text-purple-700":"hover:bg-gray-50"}`,onClick:()=>{I(s.name),$(!1)},onContextMenu:t=>{t.preventDefault(),v({x:t.clientX,y:t.clientY,folder:s.name})},children:he===s.name?e.jsx("input",{value:w,onChange:t=>Y(t.target.value),onBlur:()=>Q(s.name),onKeyDown:t=>t.key==="Enter"&&Q(s.name),onClick:t=>t.stopPropagation(),className:"flex-1 px-2 py-1 border rounded text-sm",autoFocus:!0}):e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(N,{size:16}),s.name]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),v({x:t.clientX,y:t.clientY,folder:s.name})},className:"opacity-0 group-hover:opacity-100 p-1 hover:bg-gray-200 rounded",children:e.jsx(Le,{size:14})})]})},s.name))}),e.jsx("div",{className:"p-2 border-t border-gray-100",children:ge?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{value:P,onChange:s=>E(s.target.value),placeholder:"Folder name",className:"flex-1 px-3 py-2 border rounded-lg text-sm",onKeyDown:s=>s.key==="Enter"&&H(),autoFocus:!0}),e.jsx("button",{onClick:H,className:"px-3 py-2 bg-gradient-to-r from-[#38BDF8] to-[#1E90FF] text-white rounded-lg text-sm",children:e.jsx(ne,{size:16})}),e.jsx("button",{onClick:()=>{U(!1),E("")},className:"px-3 py-2 bg-gray-200 rounded-lg text-sm",children:e.jsx(ie,{size:16})})]}):e.jsxs("button",{onClick:()=>U(!0),className:"w-full flex items-center gap-2 px-3 py-2 text-purple-600 hover:bg-purple-50 rounded-lg text-sm",children:[e.jsx(Me,{size:16}),"Create Folder"]})})]})]})]})]})}),h&&e.jsxs("div",{className:"fixed bg-white border border-gray-200 rounded-lg shadow-xl z-[100] py-1",style:{left:h.x,top:h.y},children:[e.jsxs("button",{onClick:()=>{R(h.folder),Y(h.folder),v(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-50",children:[e.jsx(Oe,{size:14})," Rename"]}),e.jsxs("button",{onClick:()=>ke(h.folder),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[e.jsx(f,{size:14})," Delete"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 md:p-6 bg-gray-50/30",children:y?ye?e.jsx(re,{count:6}):k.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 bg-amber-50 p-2 sm:p-3 rounded-lg text-xs sm:text-sm",children:[e.jsx(Ae,{size:16,className:"flex-shrink-0"}),e.jsx("span",{children:"Items are permanently deleted after 24 hours"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 md:gap-6",children:k.map(s=>e.jsxs("div",{className:"group relative bg-white rounded-lg overflow-hidden border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"aspect-square bg-gray-100 flex items-center justify-center relative overflow-hidden opacity-60",children:e.jsx("img",{src:F(s.trashPath),alt:s.filename,className:"w-full h-full object-contain",onError:t=>{t.target.src="/placeholder.png"}})}),e.jsxs("div",{className:"p-2 sm:p-3",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-xs sm:text-sm truncate",children:s.filename}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600 mt-1",children:[e.jsx(de,{size:10,className:"sm:hidden"}),e.jsx(de,{size:12,className:"hidden sm:block"}),e.jsxs("span",{className:"text-[10px] sm:text-xs",children:["Expires in ",Fe(s.expiresIn)]})]}),e.jsxs("button",{onClick:()=>Ce(s),className:"mt-2 w-full flex items-center justify-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 bg-emerald-100 text-emerald-700 rounded-lg text-[10px] sm:text-xs font-medium hover:bg-emerald-200 transition",children:[e.jsx(ce,{size:12,className:"sm:hidden"}),e.jsx(ce,{size:14,className:"hidden sm:block"}),"Restore"]})]})]},s.trashPath))})]}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[e.jsx(f,{size:36,className:"mb-4 opacity-20 sm:hidden"}),e.jsx(f,{size:48,className:"mb-4 opacity-20 hidden sm:block"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:"Trash is empty"})]}):D?se.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4 md:gap-6",children:se.map(s=>e.jsxs("div",{onClick:()=>ze(s.id),className:`group relative bg-white rounded-lg overflow-hidden border shadow-sm cursor-pointer transition-all duration-200 ${p.includes(s.id)?"border-purple-600 ring-2 ring-purple-500 ring-opacity-50":"border-gray-200 hover:shadow-md"}`,children:[e.jsxs("div",{className:"aspect-square bg-gray-100 flex items-center justify-center relative overflow-hidden",children:[e.jsx("img",{src:F(s.imageUrl),alt:s.title,className:"w-full h-full object-contain group-hover:scale-105 transition duration-500"}),e.jsxs("div",{className:`absolute inset-0 bg-black/40 flex flex-col items-center justify-center gap-2 sm:gap-3 transition-opacity duration-200 ${p.includes(s.id)?"opacity-100":"opacity-0 group-hover:opacity-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 flex-wrap justify-center px-2",children:[e.jsxs("button",{onClick:t=>je(t,s.imageUrl,s.id),className:"bg-white hover:bg-gray-100 text-gray-700 rounded-lg p-2 sm:px-3 sm:py-2 shadow-lg flex items-center gap-1 sm:gap-1.5 text-xs font-medium transition",title:"Copy image URL",children:[A===s.id?e.jsx(ne,{size:14,className:"text-emerald-500"}):e.jsx(Ge,{size:14}),e.jsx("span",{className:"hidden sm:inline",children:A===s.id?"Copied!":"Copy"})]}),e.jsx("button",{onClick:t=>we(t,s.imageUrl,s.title),className:"bg-white hover:bg-gray-100 text-gray-700 rounded-lg p-2 sm:px-3 sm:py-2 shadow-lg flex items-center gap-1 sm:gap-1.5 text-xs font-medium transition",title:"Download image",children:e.jsx(Je,{size:14})}),e.jsx("button",{onClick:t=>ve(t,s),className:"bg-red-500 hover:bg-red-600 text-white rounded-lg p-2 sm:px-3 sm:py-2 shadow-lg flex items-center gap-1 sm:gap-1.5 text-xs font-medium transition",title:"Delete image",children:e.jsx(f,{size:14})})]}),p.includes(s.id)&&e.jsxs("div",{className:"bg-purple-600 text-white rounded-full p-1.5 sm:p-2 shadow-lg",children:[e.jsx(me,{size:18,className:"sm:hidden"}),e.jsx(me,{size:24,className:"hidden sm:block"})]})]})]}),e.jsxs("div",{className:"p-2 sm:p-3",children:[e.jsx("h4",{className:"font-bold text-gray-800 text-xs sm:text-sm truncate",title:s.title,children:s.title}),e.jsx("div",{className:"flex justify-between items-center mt-1",children:e.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 bg-gray-100 px-1.5 sm:px-2 py-0.5 rounded-full truncate max-w-[80%]",children:s.category})})]})]},s.id))}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400",children:[e.jsx(pe,{size:36,className:"mb-4 opacity-20 sm:hidden"}),e.jsx(pe,{size:48,className:"mb-4 opacity-20 hidden sm:block"}),e.jsx("p",{className:"font-medium text-sm sm:text-base",children:"No images found"})]}):e.jsx(re,{count:10})}),!y&&e.jsx("div",{className:"p-2 sm:p-3 md:p-4 border-t border-gray-100 bg-white z-20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[e.jsx("div",{className:"flex items-center gap-2 sm:gap-3 overflow-x-auto",children:p.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:Se,className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-lg font-medium transition text-xs sm:text-sm whitespace-nowrap",children:[e.jsx(ue,{size:14,className:"sm:hidden"}),e.jsx(ue,{size:16,className:"hidden sm:block"}),e.jsx("span",{className:"hidden xs:inline",children:"Move to"})," Folder"]}),e.jsxs("button",{onClick:Ne,className:"flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2 bg-red-100 text-red-700 hover:bg-red-200 rounded-lg font-medium transition text-xs sm:text-sm whitespace-nowrap",children:[e.jsx(f,{size:14,className:"sm:hidden"}),e.jsx(f,{size:16,className:"hidden sm:block"}),"Delete"]})]})}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 justify-end",children:[e.jsx("input",{type:"file",ref:J,className:"hidden",accept:"image/*",multiple:!0,onChange:De}),e.jsxs("button",{onClick:()=>J.current?.click(),disabled:!r,className:`group relative px-6 sm:px-10 py-2 sm:py-4 rounded-xl font-bold transition-all duration-500 active:scale-95 overflow-hidden ${r?"bg-slate-950":"bg-gray-300 cursor-not-allowed"}`,title:r?"Upload images":"Waiting for store to load...",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"absolute inset-0 rounded-xl border-2 border-transparent bg-gradient-to-r from-orange-500 to-blue-500 [mask-image:linear-gradient(white,white)_padding-box,linear-gradient(white,white)] [mask-composite:exclude] opacity-70 animate-pulse"}),e.jsx("span",{className:"absolute inset-0 rounded-xl bg-orange-500/20 blur-xl animate-pulse"}),e.jsx("span",{className:"absolute -inset-1 rounded-xl bg-blue-500/20 blur-2xl animate-pulse [animation-delay:1.5s]"}),e.jsx("span",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-700 bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 -translate-x-full group-hover:translate-x-full"}),e.jsx("span",{className:"absolute to p-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-orange-300/30 to-transparent"}),e.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-blue-300/30 to-transparent"})]}),e.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2 sm:gap-3",children:[e.jsx(le,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-all duration-500 ${r?"text-orange-400 group-hover:text-blue-300 group-hover:-translate-y-1 drop-shadow-[0_0_8px_rgba(249,115,22,0.5)]":"text-gray-500"}`}),e.jsx("span",{className:`tracking-[0.1em] uppercase text-xs sm:text-sm font-bold transition-all duration-500 ${r?"text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-blue-400 group-hover:from-white group-hover:to-white":"text-gray-500"}`,children:r?"Upload":"Loading..."})]})]}),e.jsxs("div",{className:"px-3 sm:px-6 py-2 sm:py-3 border border-purple-600 text-purple-600 rounded-lg font-medium text-xs sm:text-sm min-w-[80px] sm:min-w-[120px] text-center",children:[p.length," ",e.jsx("span",{className:"hidden xs:inline",children:"Selected"})]})]})]})}),be&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl p-4 sm:p-6 w-full max-w-md shadow-2xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-base sm:text-lg font-bold",children:["Move ",L.length," image(s) to folder"]}),e.jsx("button",{onClick:()=>S(!1),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(ie,{size:20})})]}),e.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[e.jsxs("button",{onClick:()=>ee(null),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-purple-50 rounded-lg text-left",children:[e.jsx(N,{size:20,className:"text-gray-400"}),e.jsx("span",{children:"Gallery Root"})]}),_.map(s=>e.jsxs("button",{onClick:()=>ee(s.name),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-purple-50 rounded-lg text-left",children:[e.jsx(N,{size:20,className:"text-purple-500"}),e.jsx("span",{children:s.name})]},s.name))]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsx("button",{onClick:()=>S(!1),className:"w-full py-2 text-gray-600 hover:bg-gray-100 rounded-lg",children:"Cancel"})})]})})]})};export{ps as default};
