import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as n}from"./react-core-KcGD0Z1V.js";import{at as S,au as H,av as B,aA as Y,I as M,as as y,a$ as z,ay as D,az as $,b0 as A,T as P}from"./icons-chunk-AVFeydwE.js";const O=({value:g,onChange:b,placeholder:j="Enter product description...",minHeight:C="min-h-[300px]",label:w,hideLabel:k=!1})=>{const a=n.useRef(null),p=n.useRef(null),[N,h]=n.useState(!1),[r,f]=n.useState(!1),[L,m]=n.useState(!1),[d,x]=n.useState("");n.useEffect(()=>(f(!0),a.current&&g&&(a.current.innerHTML=g),()=>{f(!1),a.current&&(a.current.innerHTML="")}),[]);const o=n.useCallback(()=>{a.current&&r&&b(a.current.innerHTML)},[b,r]),l=n.useCallback(t=>{if(!(!r||!a.current)){switch(a.current.focus(),t){case"bold":document.execCommand("bold",!1);break;case"italic":document.execCommand("italic",!1);break;case"underline":document.execCommand("underline",!1);break;case"h2":document.execCommand("formatBlock",!1,"h2");break;case"code":document.execCommand("formatBlock",!1,"pre");break;case"ul":document.execCommand("insertUnorderedList",!1);break;case"ol":document.execCommand("insertOrderedList",!1);break;case"link":{const i=prompt("Enter URL:");i&&document.execCommand("createLink",!1,i);break}case"image":{p.current?.click();break}}a.current?.focus(),o()}},[r,o]),T=n.useCallback(t=>{const i=t.target.files?.[0];if(!i||!r)return;const c=new FileReader;c.onload=u=>{const F=u.target?.result;r&&a.current&&(a.current.focus(),document.execCommand("insertImage",!1,F),o())},c.readAsDataURL(i),t.target.value=""},[r,o]),I=n.useCallback(()=>{!r||!a.current||(document.execCommand("removeFormat",!1),o())},[r,o]),v=n.useCallback(()=>{if(!d.trim()||!a.current)return;let t="";const i=/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,c=d.match(i);if(c&&c[1])t=c[1];else if(d.length===11)t=d;else{alert("Please enter a valid YouTube URL or video ID");return}const u=`<div style="position: relative; width: 100%; padding-bottom: 56.25%; height: 0; margin: 1rem 0;"><iframe style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;" src="https://www.youtube.com/embed/${t}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowFullScreen></iframe></div>`;a.current.focus(),document.execCommand("insertHTML",!1,u),o(),x(""),m(!1)},[d,r,o]),s=({icon:t,title:i,onClick:c,isActive:u=!1})=>e.jsx("button",{type:"button",onClick:c,title:i,className:`p-2 rounded border transition ${u?"bg-purple-100 border-purple-300 text-purple-700":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:e.jsx(t,{size:16})}),E=n.useCallback(t=>{!r||!a.current||(a.current.focus(),document.execCommand("formatBlock",!1,t),o())},[r,o]),R=n.useCallback(t=>{!r||!a.current||(a.current.focus(),document.execCommand("fontName",!1,t),o())},[r,o]),U=n.useCallback(t=>{!r||!a.current||(a.current.focus(),document.execCommand("fontSize",!1,t),o())},[r,o]);return e.jsxs("div",{className:"space-y-2",children:[!k&&e.jsx("label",{className:"text-sm font-medium text-gray-700",children:w||"Product Description"}),e.jsxs("div",{className:"flex flex-wrap gap-1 p-3 bg-gray-50 border border-gray-300 rounded-t-lg",children:[e.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded text-sm bg-white hover:bg-gray-50",onChange:t=>{t.target.value&&(E(t.target.value),t.target.value="")},children:[e.jsx("option",{value:"",children:"Format"}),e.jsx("option",{value:"p",children:"Paragraph"}),e.jsx("option",{value:"h1",children:"Heading 1"}),e.jsx("option",{value:"h2",children:"Heading 2"}),e.jsx("option",{value:"h3",children:"Heading 3"}),e.jsx("option",{value:"pre",children:"Code"})]}),e.jsx("div",{className:"w-px bg-gray-300"}),e.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded text-sm bg-white hover:bg-gray-50",onChange:t=>{t.target.value&&(R(t.target.value),t.target.value="")},children:[e.jsx("option",{value:"",children:"Font"}),e.jsx("option",{value:"Arial",children:"Arial"}),e.jsx("option",{value:"Georgia",children:"Georgia"}),e.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),e.jsx("option",{value:"Courier New",children:"Courier New"}),e.jsx("option",{value:"Verdana",children:"Verdana"})]}),e.jsx("div",{className:"w-px bg-gray-300"}),e.jsxs("select",{className:"px-2 py-1 border border-gray-300 rounded text-sm bg-white hover:bg-gray-50",onChange:t=>{t.target.value&&(U(t.target.value),t.target.value="")},children:[e.jsx("option",{value:"",children:"Size"}),e.jsx("option",{value:"1",children:"Small"}),e.jsx("option",{value:"3",children:"Normal"}),e.jsx("option",{value:"5",children:"Large"}),e.jsx("option",{value:"7",children:"Extra Large"})]}),e.jsx("div",{className:"w-px bg-gray-300"}),e.jsx(s,{icon:S,title:"Bold (Ctrl+B)",onClick:()=>l("bold")}),e.jsx(s,{icon:H,title:"Italic (Ctrl+I)",onClick:()=>l("italic")}),e.jsx(s,{icon:B,title:"Underline (Ctrl+U)",onClick:()=>l("underline")}),e.jsx("div",{className:"w-px bg-gray-300"}),e.jsx(s,{icon:Y,title:"Insert Link",onClick:()=>l("link")}),e.jsx(s,{icon:M,title:"Insert Image",onClick:()=>l("image")}),e.jsx(s,{icon:y,title:"Embed YouTube",onClick:()=>m(!0)}),e.jsx("div",{className:"w-px bg-gray-300"}),e.jsx(s,{icon:z,title:"Heading 2",onClick:()=>l("h2")}),e.jsx(s,{icon:D,title:"Bullet List",onClick:()=>l("ul")}),e.jsx(s,{icon:$,title:"Numbered List",onClick:()=>l("ol")}),e.jsx("div",{className:"w-px bg-gray-300"}),e.jsx(s,{icon:A,title:"Code Block",onClick:()=>l("code")}),e.jsx("button",{type:"button",onClick:I,title:"Clear Formatting",className:"p-2 rounded border border-gray-300 text-gray-600 hover:bg-gray-100",children:e.jsx(P,{size:16})})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{ref:a,contentEditable:!0,suppressContentEditableWarning:!0,onInput:o,onFocus:()=>h(!0),onBlur:()=>h(!1),className:`w-full px-4 py-3 border ${N?"border-purple-500 ring-2 ring-purple-200":"border-gray-300"} rounded-b-lg focus:outline-none transition ${C} bg-white prose prose-sm max-w-none overflow-auto`,style:{wordWrap:"break-word",whiteSpace:"pre-wrap",outline:"none"},"data-placeholder":j})}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          div[data-placeholder]:empty:before {
            content: attr(data-placeholder);
            color: #9ca3af;
            pointer-events: none;
          }
        `}}),e.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:T,className:"hidden"}),L&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(y,{size:24,className:"text-red-600"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Embed YouTube Video"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"YouTube URL or Video ID"}),e.jsx("input",{type:"text",value:d,onChange:t=>x(t.target.value),onKeyDown:t=>t.key==="Enter"&&v(),placeholder:"https://youtube.com/watch?v=... or dQw4w9WgXcQ",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:outline-none",autoFocus:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ðŸ’¡ Paste a YouTube URL or just the video ID"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:v,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-semibold py-2 rounded-lg transition",children:"Embed"}),e.jsx("button",{type:"button",onClick:()=>{m(!1),x("")},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-800 font-semibold py-2 rounded-lg transition",children:"Cancel"})]})]})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"ðŸ’¡ Tip: Use the toolbar above to format your text with bold, italics, links, images, and more!"})]})};export{O as R};
