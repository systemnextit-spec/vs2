const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cmp-storeheader-BKqqZvCb.js","assets/cmp-approutes-tsx-T9J5ygBG.js","assets/react-jsx-runtime-BBsywpoz.js","assets/react-core-KcGD0Z1V.js","assets/pkg-eventemitter3-CXfM2dhT.js","assets/cmp-skeletonloaders-tsx-Durrj7lG.js","assets/store-header-DNV3DrNl.js","assets/store-header-mobile-BhofyFSn.js","assets/cmp-admincustomization-DQ3Wytgo.js","assets/pkg-toast-Dpd4iwUK.js","assets/pkg-goober-N6sOClW1.js","assets/cmp-gallerypicker-tsx-CnyOus4y.js","assets/cmp-dashboard-CvCpAVHs.js","assets/pkg-socket-B8R9XNBE.js","assets/pkg-engine-io-C8bqYME4.js","assets/pkg-@socket.io-component-emitter-B3A4JZne.js","assets/pkg-socket.io-parser-C0hgSYjy.js","assets/cmp-addnewduemodal-tsx-OjU2U-0e.js","assets/icons-chunk-AVFeydwE.js","assets/cmp-modern-dashboard-C6grFkCj.js","assets/cmp-invoiceprinttemplate-tsx-CUwUe6zE.js","assets/pkg-papaparse-BEpmA8em.js","assets/pkg-xlsx-BljOZNTS.js","assets/page-adminnote-C1Ob2d7z.js","assets/cmp-duehistorymodal-tsx-KQ79TbYj.js","assets/store-header-desktop-d_2--QaS.js","assets/store-header-search-B8Q8k4Nc.js","assets/cmp-landingpagecomponents-tsx-r6jaT4TN.js","assets/store-header-modals-utruRZpO.js","assets/cmp-storeheader-BzgGRwUb.css","assets/store-footer-COJcQJ2h.js","assets/store-footer-D-CGY2_e.css","assets/store-modal-misc-BHVqFE1x.js","assets/store-mobilenav-CLpy8ipw.js","assets/store-productreviews-CHDBm43H.js","assets/useVisitorStats-MvdN4Nsb.js","assets/store-modal-track-BPT0ruEP.js"])))=>i.map(i=>d[i]);
import{_ as y}from"./cmp-approutes-tsx-T9J5ygBG.js";import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r}from"./react-core-KcGD0Z1V.js";import{f as oe}from"./cmp-landingpagecomponents-tsx-r6jaT4TN.js";import{L as ne}from"./cmp-storeproductcomponents-tsx-CwhkzIom.js";import{n as p}from"./cmp-admincustomization-DQ3Wytgo.js";import{X as nt,b1 as ct,C as Oe,b as Re,aj as dt,bM as mt,a9 as ht,aU as Me,q as Ve,aW as xt,ab as bt,b8 as gt,G as ft,k as ce,bN as ut,bO as Be,bP as De,aL as pt,bQ as yt,bR as de,bS as Ge,b9 as jt,bT as H,bU as vt,b2 as wt,bL as me,bV as Fe,bW as kt,c as he}from"./icons-chunk-AVFeydwE.js";import"./cmp-skeletonloaders-tsx-Durrj7lG.js";import"./pkg-eventemitter3-CXfM2dhT.js";import"./pkg-toast-Dpd4iwUK.js";import"./pkg-goober-N6sOClW1.js";import"./cmp-gallerypicker-tsx-CnyOus4y.js";import"./cmp-dashboard-CvCpAVHs.js";import"./pkg-socket-B8R9XNBE.js";import"./pkg-engine-io-C8bqYME4.js";import"./pkg-@socket.io-component-emitter-B3A4JZne.js";import"./pkg-socket.io-parser-C0hgSYjy.js";import"./cmp-addnewduemodal-tsx-OjU2U-0e.js";import"./cmp-modern-dashboard-C6grFkCj.js";import"./cmp-invoiceprinttemplate-tsx-CUwUe6zE.js";import"./pkg-papaparse-BEpmA8em.js";import"./pkg-xlsx-BljOZNTS.js";import"./page-adminnote-C1Ob2d7z.js";import"./cmp-duehistorymodal-tsx-KQ79TbYj.js";const Nt=r.lazy(()=>y(()=>import("./cmp-storeheader-BKqqZvCb.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29])).then(t=>({default:t.StoreHeader}))),St=r.lazy(()=>y(()=>import("./store-footer-COJcQJ2h.js"),__vite__mapDeps([30,2,3,4,8,9,10,11,12,13,14,15,16,1,5,17,18,19,20,21,22,23,24,31])).then(t=>({default:t.StoreFooter}))),zt=r.lazy(()=>y(()=>import("./store-modal-misc-BHVqFE1x.js"),__vite__mapDeps([32,2,3,4,18])).then(t=>({default:t.AddToCartSuccessModal})));r.lazy(()=>y(()=>import("./store-mobilenav-CLpy8ipw.js"),__vite__mapDeps([33,2,3,4,18])).then(t=>({default:t.MobileBottomNav})));const Ct=r.lazy(()=>y(()=>import("./store-productreviews-CHDBm43H.js"),__vite__mapDeps([34,2,3,4,12,13,14,15,16,1,5,17,18,8,9,10,11,19,20,21,22,23,24])).then(t=>({default:t.ProductReviews}))),Pt=()=>y(()=>import("./useVisitorStats-MvdN4Nsb.js"),__vite__mapDeps([35,3,4])).then(t=>t.trackPageView),Tt=r.lazy(()=>y(()=>import("./store-modal-track-BPT0ruEP.js"),__vite__mapDeps([36,2,3,4,18])).then(t=>({default:t.TrackOrderModal}))),_t=r.lazy(()=>y(()=>import("./cmp-skeletonloaders-tsx-Durrj7lG.js"),__vite__mapDeps([5,2,3,4])).then(t=>({default:t.ProductDetailSkeleton}))),At=()=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-white border-t-transparent rounded-full"})}),It=({rating:t,count:o})=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"flex text-yellow-400",children:[1,2,3,4,5].map(i=>e.jsx(bt,{size:14,fill:i<=t?"currentColor":"none",className:i<=t?"text-yellow-400":"text-gray-300"},i))}),o!==void 0&&e.jsxs("span",{className:"text-xs text-gray-400",children:["(",o," reviews)"]})]}),E={smartphone:e.jsx(he,{size:20,strokeWidth:1.5}),mobile:e.jsx(he,{size:20,strokeWidth:1.5}),phone:e.jsx(he,{size:20,strokeWidth:1.5}),watch:e.jsx(kt,{size:20,strokeWidth:1.5}),"battery-charging":e.jsx(Fe,{size:20,strokeWidth:1.5}),charger:e.jsx(Fe,{size:20,strokeWidth:1.5}),headphones:e.jsx(me,{size:20,strokeWidth:1.5}),headphone:e.jsx(me,{size:20,strokeWidth:1.5}),audio:e.jsx(me,{size:20,strokeWidth:1.5}),zap:e.jsx(wt,{size:20,strokeWidth:1.5}),bluetooth:e.jsx(vt,{size:20,strokeWidth:1.5}),"gamepad-2":e.jsx(H,{size:20,strokeWidth:1.5}),gaming:e.jsx(H,{size:20,strokeWidth:1.5}),gadget:e.jsx(H,{size:20,strokeWidth:1.5}),gadgets:e.jsx(H,{size:20,strokeWidth:1.5}),camera:e.jsx(jt,{size:20,strokeWidth:1.5}),home:e.jsx(Ge,{size:20,strokeWidth:1.5}),"home supply":e.jsx(Ge,{size:20,strokeWidth:1.5}),fashion:e.jsx(de,{size:20,strokeWidth:1.5}),fasion:e.jsx(de,{size:20,strokeWidth:1.5}),clothing:e.jsx(de,{size:20,strokeWidth:1.5}),baby:e.jsx(yt,{size:20,strokeWidth:1.5}),gift:e.jsx(pt,{size:20,strokeWidth:1.5}),laptop:e.jsx(De,{size:20,strokeWidth:1.5}),computer:e.jsx(De,{size:20,strokeWidth:1.5}),tv:e.jsx(Be,{size:20,strokeWidth:1.5}),television:e.jsx(Be,{size:20,strokeWidth:1.5}),cable:e.jsx(ut,{size:20,strokeWidth:1.5}),"must have":e.jsx(ce,{size:20,strokeWidth:1.5}),musthave:e.jsx(ce,{size:20,strokeWidth:1.5}),essential:e.jsx(ce,{size:20,strokeWidth:1.5}),grid:e.jsx(ft,{size:20,strokeWidth:1.5})},$t=(t,o)=>{const i=t.toLowerCase().trim();if(o&&E[o.toLowerCase()])return E[o.toLowerCase()];if(E[i])return E[i];for(const[c,j]of Object.entries(E))if(i.includes(c)||c.includes(i))return j;return e.jsx(gt,{size:20,strokeWidth:1.5})},q={compatible:3,complementary:2,behavioral:1},He={compatible:{label:"Compatible",className:"bg-emerald-50 text-emerald-700 border border-emerald-100"},complementary:{label:"Complements",className:"bg-sky-50 text-sky-700 border border-sky-100"},behavioral:{label:"Trending",className:"bg-gray-50 text-gray-600 border border-gray-100"}},Wt={Phones:["Charger","Power Bank","Audio","Earbuds"],Watches:["Charger","Audio","Phones"],Audio:["Phones","Power Bank","Gaming"],Gaming:["Audio","Accessories","Phones"],Charger:["Phones","Power Bank","Audio"],"Power Bank":["Phones","Audio","Watches"]},qe=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"",Ue=t=>t?t.split(" ")[0].toLowerCase():"",Et=t=>t.variantStock?.length?t.variantStock.reduce((o,i)=>o+(i.stock||0),0):t.stock??0,Lt=t=>t?.length?`Customers eyeing ${t[0]} accessories often grab this too.`:"Frequently bought after viewing this item.",Ot=(t,o)=>{const i=Ue(t.name),c=t.category||"",j=[...t.tags||[],...t.searchTags||[]],U=Wt[c]||[],O=o.filter(l=>l.id!==t.id&&l.tenantId===t.tenantId).map(l=>{const m=Ue(l.name),M=i&&m&&i===m,V=c&&l.category===c,Z=U.includes(l.category||""),X=[...l.tags||[],...l.searchTags||[]],J=j.filter(k=>X.includes(k)).length,I=Et(l),K=I>0;let v="behavioral",w=Lt(l.tags),n=(l.rating||0)*6+(l.reviews||0)*.08;if(M)v="compatible",n+=60,w=`Complete your ${qe(i)} ecosystem.`;else if(V)v="compatible",n+=40,w=`Explore more top-rated ${(l.category||"tech").toLowerCase()} gear.`;else if(Z){v="complementary",n+=45;const k=l.category||"Accessory",ee=c?c.toLowerCase():"setup";w=`${qe(k)} that pairs with your ${ee}.`}return J>0&&(n+=J*8,v==="behavioral"&&(w=`Shoppers interested in ${j.slice(0,2).join(", ")} also add this.`)),K?n+=Math.min(I,80)*.4:n-=200,{product:l,matchType:v,reason:w,stockCount:I,score:n}}),A=(l,m)=>q[m.matchType]!==q[l.matchType]?q[m.matchType]-q[l.matchType]:m.score===l.score?m.stockCount-l.stockCount:m.score-l.score,Y=O.filter(l=>l.matchType!=="behavioral").sort(A),R=O.filter(l=>l.matchType==="behavioral").sort(A);return[...Y,...R].slice(0,6)},ds=({product:t,orders:o,tenantId:i,onBack:c,onProductClick:j,wishlistCount:U,isWishlisted:L,onToggleWishlist:O,onCheckout:A,onAddToCart:Y,user:R,onLoginClick:Q,onLogoutClick:l,onProfileClick:m,logo:M,websiteConfig:V,searchValue:Z,onSearchChange:X,onImageSearchClick:J,onOpenChat:I,cart:K,onToggleCart:v,onCheckoutFromCart:w,productCatalog:n,categories:k,onCategoryClick:ee})=>{const[Ye,xe]=r.useState(!1),[Qe,be]=r.useState(!1),[Ze,ge]=r.useState(!1),[z,Xe]=r.useState({x:0,y:0}),[fe,ue]=r.useState(!1),[g,te]=r.useState(1),[$,pe]=r.useState("description"),[ye,Je]=r.useState(!0),se=r.useRef(null),[C,B]=r.useState(0);r.useEffect(()=>{if(!i||!t)return;(async()=>{try{const a=await Pt(),x=`/product/${t.slug||t.id}`;a(i,x)}catch(a){console.warn("Failed to track page view:",a)}})()},[i,t?.id]),r.useEffect(()=>{const s=setTimeout(()=>Je(!1),600);return()=>clearTimeout(s)},[t.id]);const f=t.galleryImages&&t.galleryImages.length?t.galleryImages.map(s=>p(s)):[p(t.image)],[W,P]=r.useState(f[0]),D=t.variantDefaults?.color||"Default",G=t.variantDefaults?.size||"Standard",ae=t.colors&&t.colors.length?t.colors:[D],re=t.sizes&&t.sizes.length?t.sizes:[G],je=(t.colors?.length||0)>0,ve=(t.sizes?.length||0)>0,[N,we]=r.useState(ae[0]),[S,ke]=r.useState(re[0]),[F,T]=r.useState(null),[Ne,Ke]=r.useState(null),[_,Se]=r.useState({}),ze=t.variantGroups&&t.variantGroups.length>0;r.useEffect(()=>{if(t.variantGroups){const s={};t.variantGroups.forEach(a=>{a.options.length>0&&(s[a.title]=a.options[0])}),Se(s)}},[t.id]);const Ce=(s,a)=>{Se(x=>({...x,[s]:a})),a.image&&P(p(a.image))},Pe=r.useMemo(()=>Object.values(_).reduce((s,a)=>s+(a?.extraPrice||0),0),[_]),et=r.useMemo(()=>t.price+Pe,[t.price,Pe]),le=`${typeof window<"u"?window.location.origin:"https://mydomain.com"}/product-details/${t.slug||t.id}`;r.useEffect(()=>{const s=t.galleryImages&&t.galleryImages.length?t.galleryImages.map(a=>p(a)):[p(t.image)];P(s[0]),B(0),we(ae[0]),ke(re[0]),te(1),T(null)},[t.id]);const Te=s=>{se.current&&se.current.scrollBy({left:s==="left"?-100:100,behavior:"smooth"})},_e=(s,a)=>{P(s),B(a)},tt=()=>{const s=C>0?C-1:f.length-1;B(s),P(f[s])},st=()=>{const s=C<f.length-1?C+1:0;B(s),P(f[s])};r.useEffect(()=>{F&&T(null)},[N,S,g,F]);const Ae=f,ie=r.useMemo(()=>(Array.isArray(n)&&n.length?n:[]).filter(a=>!a.status||a.status==="Active"),[n]),at=r.useMemo(()=>Ot(t,ie),[t,ie]),u=r.useMemo(()=>({color:N||D,size:S||G}),[N,S,D,G]),h=t.variantStock?.find(s=>s.color===u.color&&s.size===u.size)?.stock??t.stock??1/0,d=Number.isFinite(h)?h<=0:!1,Ie=Number.isFinite(h)&&g>=h,rt=oe(ze?et:t.price),$e=oe(t.originalPrice,null),lt=()=>te(s=>Math.max(1,s-1)),it=()=>{(!Number.isFinite(h)||g<h)&&te(s=>s+1)},We=()=>je&&!N||ve&&!S?(T("Please choose a color and size option."),!1):d?(T("Selected variant is currently out of stock."),!1):Number.isFinite(h)&&g>h?(T("Reduce quantity to match available stock."),!1):(T(null),!0),Ee=()=>{We()&&(Y?.(t,g,u),Ke(u),be(!0))},Le=()=>{We()&&(A(t,g,u),typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"}))},ot=async()=>{try{if(navigator.share){await navigator.share({title:t.name,url:le});return}if(navigator.clipboard?.writeText){await navigator.clipboard.writeText(le),alert("Product link copied to clipboard");return}window.prompt("Copy this product link",le)}catch(s){console.warn("Share cancelled",s)}};return ye?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-sky-50 font-sans text-slate-900 pb-20 md:pb-0",children:e.jsx(r.Suspense,{fallback:null,children:e.jsx(_t,{})})}):e.jsxs("div",{className:"min-h-screen font-sans text-slate-900 pb-20 md:pb-0 animate-fadeIn mobile-smooth-scroll",style:{animation:"fadeIn 0.2s ease-out",background:"linear-gradient(to bottom, #f0f4f8, #e8ecf1)"},children:[e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(8px); }
          to { opacity: 1; transform: translateY(0); }
        }
      `}),e.jsx(r.Suspense,{fallback:null,children:e.jsx(Nt,{onTrackOrder:()=>xe(!0),onHomeClick:c,wishlistCount:U,cart:K,onToggleCart:v,onCheckoutFromCart:w,productCatalog:ie,user:R,onLoginClick:Q,onLogoutClick:l,onProfileClick:m,logo:M,websiteConfig:V,searchValue:Z,onSearchChange:X,onProductClick:j,tenantId:i})}),Ye&&e.jsx(r.Suspense,{fallback:e.jsx(At,{}),children:e.jsx(Tt,{onClose:()=>xe(!1),orders:o})}),Qe&&e.jsx(zt,{product:t,variant:Ne||u,quantity:g,onClose:()=>be(!1),onCheckout:()=>A(t,g,Ne||u)}),Ze&&e.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh]",children:[e.jsx("button",{onClick:()=>ge(!1),className:"absolute -to p-10 right-0 text-white hover:text-gray-300 transition p-2","aria-label":"Close zoom",children:e.jsx(nt,{size:28})}),e.jsx("div",{className:"w-full h-full max-h-[90vh] overflow-auto bg-black rounded-lg",children:e.jsx("div",{className:"relative w-full bg-black flex items-center justify-center min-h-[90vh]",children:e.jsx("img",{src:W,alt:t.name,className:"w-full h-auto object-contain"})})}),e.jsx("div",{className:"mt-4 flex gap-2 overflow-x-auto pb-2",children:Ae.map((s,a)=>e.jsx("button",{onClick:()=>P(s),className:`flex-shrink-0 w-12 h-12 rounded border-2 p-0.5 transition-all ${W===s?"border-theme-primary bg-theme-primary/10":"border-gray-600 hover:border-theme-primary/70"}`,"aria-label":`View image ${a+1}`,children:e.jsx("img",{src:s,alt:`View ${a+1}`,className:"w-full h-full object-contain"})},a))})]})}),e.jsx("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"glass-card mobile-product-card p-4 md:p-6 flex flex-col md:flex-row gap-8 animate-slide-up",children:[e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"mobile-image-gallery aspect-square bg-white rounded-2xl overflow-hidden relative group border border-gray-200 cursor-crosshair",onMouseEnter:()=>ue(!0),onMouseLeave:()=>ue(!1),onMouseMove:s=>{const a=s.currentTarget.getBoundingClientRect(),x=(s.clientX-a.left)/a.width*100,b=(s.clientY-a.top)/a.height*100;Xe({x,y:b})},onClick:()=>ge(!0),children:[e.jsx(ne,{src:W,alt:t.name,className:"w-full h-full object-contain"}),fe&&e.jsx("div",{className:"absolute w-32 h-32 border-2 border-theme-primary rounded-lg pointer-events-none bg-white/20 backdrop-blur-[1px] shadow-lg hidden md:block",style:{left:`calc(${z.x}% - 64px)`,top:`calc(${z.y}% - 64px)`,backgroundImage:`url(${W})`,backgroundSize:"400%",backgroundPosition:`${z.x}% ${z.y}%`}}),t.discount&&e.jsx("span",{className:"absolute to p-4 left-4 bg-green-500 text-white text-xs font-bold px-3 py-1.5 rounded-md shadow-md",children:t.discount}),e.jsx("button",{onClick:s=>{s.stopPropagation(),O()},className:`absolute to p-4 right-4 p-2.5 rounded-full transition-all ${L?"bg-rose-100 text-rose-500 shadow-md":"bg-white text-gray-400 shadow hover:text-rose-500 hover:bg-rose-50"}`,"aria-label":L?"Remove from wishlist":"Add to wishlist",children:e.jsx(ct,{size:22,fill:L?"currentColor":"none",strokeWidth:1.5})}),f.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:s=>{s.stopPropagation(),tt()},className:"absolute left-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center text-gray-600 hover:text-gray-900 transition opacity-0 group-hover:opacity-100","aria-label":"Previous image",children:e.jsx(Oe,{size:24})}),e.jsx("button",{onClick:s=>{s.stopPropagation(),st()},className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 bg-white/90 hover:bg-white rounded-full shadow-lg flex items-center justify-center text-gray-600 hover:text-gray-900 transition opacity-0 group-hover:opacity-100","aria-label":"Next image",children:e.jsx(Re,{size:24})})]}),e.jsxs("div",{className:"absolute bottom-4 right-4 bg-white/90 backdrop-blur-sm text-gray-600 px-3 py-1.5 rounded-full text-xs font-medium opacity-0 group-hover:opacity-100 transition-opacity shadow flex items-center gap-1.5",children:[e.jsx(dt,{size:14}),"Click to zoom"]})]}),fe&&e.jsx("div",{className:"hidden md:block absolute left-[calc(100%+16px)] to p-0 w-[400px] h-[400px] bg-white border border-gray-200 rounded-2xl shadow-2xl overflow-hidden z-50",children:e.jsx("div",{className:"w-full h-full",style:{backgroundImage:`url(${W})`,backgroundSize:"200%",backgroundPosition:`${z.x}% ${z.y}%`,backgroundRepeat:"no-repeat"}})})]}),e.jsxs("div",{className:"relative",children:[f.length>5&&e.jsx("button",{onClick:()=>Te("left"),className:"absolute left-0 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition","aria-label":"Scroll thumbnails left",children:e.jsx(Oe,{size:18})}),e.jsx("div",{ref:se,className:"flex gap-2 overflow-x-auto scrollbar-hide px-1 py-1",style:{scrollBehavior:"smooth"},children:Ae.map((s,a)=>e.jsx("button",{onMouseEnter:()=>_e(s,a),onClick:()=>_e(s,a),className:`flex-shrink-0 w-16 h-16 md:w-20 md:h-20 rounded-lg border-2 p-1 transition-all overflow-hidden transform hover:scale-105 ${C===a?"border-theme-primary shadow-md":"border-gray-200 hover:border-theme-primary/70"}`,"aria-label":`View image ${a+1}`,"aria-pressed":C===a,children:e.jsx(ne,{src:s,alt:`Thumbnail ${a+1}`,className:"w-full h-full object-contain"})},a))}),f.length>5&&e.jsx("button",{onClick:()=>Te("right"),className:"absolute right-0 top-1/2 -translate-y-1/2 z-10 w-8 h-8 bg-white border border-gray-200 rounded-full shadow-md flex items-center justify-center text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition","aria-label":"Scroll thumbnails right",children:e.jsx(Re,{size:18})})]})]}),e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:t.name}),e.jsx("div",{className:"mb-4",children:e.jsx(It,{rating:t.rating||0,count:t.reviews})}),e.jsxs("div",{className:"flex items-end gap-3 mb-6",children:[e.jsxs("span",{className:"text-4xl font-bold text-theme-primary",children:["৳ ",rt]}),$e&&e.jsxs("span",{className:"text-lg text-gray-400 line-through mb-1",children:["৳ ",$e]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsxs("button",{type:"button",onClick:ot,className:"inline-flex items-center gap-2 rounded-full bg-[#0064d1] hover:bg-[#0055b2] text-white text-sm font-semibold px-4 py-2 shadow-sm",children:[e.jsx(mt,{size:16})," Share"]}),e.jsx("span",{className:"text-xs text-gray-500 break-all"})]}),e.jsxs("div",{className:"space-y-5 mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Quantity"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center border border-theme-primary/30 rounded-lg",children:[e.jsx("button",{onClick:lt,className:"px-4 py-2 text-theme-primary hover:bg-theme-primary/10 font-bold transition",children:"-"}),e.jsx("span",{className:"px-4 py-2 font-bold text-gray-700 w-12 text-center",children:g}),e.jsx("button",{onClick:it,className:`px-4 py-2 font-bold transition ${Ie?"text-gray-400 cursor-not-allowed":"text-theme-primary hover:bg-theme-primary/10"}`,disabled:Ie,children:"+"})]}),Number.isFinite(h)&&e.jsx("span",{className:`text-xs font-medium ${d?"text-red-500":"text-gray-500"}`,children:d?"Out of stock":`${h} pcs available`})]})]}),e.jsxs("div",{className:"space-y-4",children:[je?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Color",e.jsx("span",{className:"text-xs font-normal text-gray-500 ml-2",children:N})]}),e.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:ae.map(s=>e.jsx("button",{onClick:()=>we(s),"aria-pressed":N===s,className:`mobile-variant-option mobile-touch-feedback ${N===s?"selected":""}`,children:s},s))})]}):e.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-3 py-2 rounded-lg",children:["Color: ",D]}),ve?e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:["Size",e.jsx("span",{className:"text-xs font-normal text-gray-500 ml-2",children:S})]}),e.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:re.map(s=>e.jsx("button",{onClick:()=>ke(s),"aria-pressed":S===s,className:`mobile-variant-option mobile-touch-feedback ${S===s?"selected":""}`,children:s},s))})]}):e.jsxs("p",{className:"text-xs text-gray-500 bg-gray-50 px-3 py-2 rounded-lg",children:["Size: ",G]}),ze&&t.variantGroups?.map(s=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-800 mb-3",children:[s.title,s.isMandatory&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"}),e.jsxs("span",{className:"text-xs font-normal text-gray-500 ml-2",children:[_[s.title]?.attribute||"",(_[s.title]?.extraPrice||0)>0&&e.jsxs("span",{className:"text-theme-primary ml-1",children:["(+৳",_[s.title]?.extraPrice,")"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 md:gap-3",children:s.options.map((a,x)=>{const b=_[s.title]?.attribute===a.attribute;return a.image?e.jsxs("button",{onClick:()=>Ce(s.title,a),"aria-pressed":b,className:`relative w-14 h-14 md:w-16 md:h-16 rounded-lg border-2 overflow-hidden transition-all transform hover:scale-105 ${b?"border-theme-primary ring-2 ring-theme-primary/30 shadow-md":"border-gray-200 hover:border-theme-primary/70"}`,title:`${a.attribute}${a.extraPrice>0?` (+৳${a.extraPrice})`:""}`,children:[e.jsx("img",{src:p(a.image),alt:a.attribute,className:"w-full h-full object-cover"}),b&&e.jsx("div",{className:"absolute inset-0 bg-theme-primary/10 flex items-center justify-center",children:e.jsx("div",{className:"w-5 h-5 bg-theme-primary rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]},x):e.jsxs("button",{onClick:()=>Ce(s.title,a),"aria-pressed":b,className:`mobile-variant-option mobile-touch-feedback ${b?"selected":""}`,children:[a.attribute,a.extraPrice>0&&e.jsxs("span",{className:"text-xs text-theme-primary ml-1",children:["(+৳",a.extraPrice,")"]})]},x)})})]},s.title))]}),F&&e.jsxs("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded-lg px-4 py-3 flex items-start gap-2",children:[e.jsx(ht,{size:18,className:"mt-0.5 flex-shrink-0"}),e.jsx("span",{children:F})]})]}),e.jsxs("div",{className:"hidden md:flex gap-3 mb-8",children:[e.jsxs("button",{onClick:Ee,disabled:d,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition transform active:scale-95 ${d?"bg-gray-300 cursor-not-allowed text-gray-500":"btn-order"}`,children:[e.jsx(Me,{size:20})," Add to cart"]}),e.jsxs("button",{onClick:Le,disabled:d,className:`flex-1 py-3 rounded-lg font-bold flex items-center justify-center gap-2 transition transform active:scale-95 ${d?"bg-gray-300 cursor-not-allowed text-gray-500":"btn-order"}`,children:[e.jsx(Ve,{size:20})," Buy Now"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Selected: ",e.jsxs("span",{className:"font-semibold text-gray-700",children:[u.color," / ",u.size]})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 border-t border-gray-100 pt-4 mt-auto",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-gray-800 w-24 inline-block",children:"Category:"})," ",e.jsx("span",{className:"text-theme-primary",children:t.category||"Electronics"})]}),Array.isArray(t.tags)&&t.tags.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold text-gray-800 w-24 inline-block",children:"Tags:"})," ",t.tags.join(", ")]})," ",e.jsx("p",{children:e.jsxs("span",{className:"font-semibold text-gray-800 w-24 inline-block",children:["SKU: ",t.sku]})})]})]})]})]}),e.jsxs("div",{className:"mt-8 glass-card rounded-xl overflow-hidden animate-slide-up",children:[e.jsxs("div",{className:"mobile-tab-nav flex border-b border-gray-100",children:[e.jsx("button",{onClick:()=>pe("description"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition whitespace-nowrap border-emerald-500 text-emerald-600 flex-1 mobile-touch-feedback ${$==="description"?"active":"text-gray-600"}`,"aria-selected":$==="description",role:"tab",children:"Description"}),e.jsxs("button",{onClick:()=>pe("reviews"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition whitespace-nowrap border-emerald-500 text-emerald-600 flex-1 mobile-touch-feedback ${$==="reviews"?"active":"text-gray-600"}`,"aria-selected":$==="reviews",role:"tab",children:["Reviews",e.jsx("span",{className:"ml-2 inline-flex items-center justify-center w-5 h-5 rounded-full bg-theme-primary/15 text-xs font-bold text-theme-primary",children:t.reviews||0})]})]}),e.jsx("div",{className:"p-8 min-h-[200px]",children:$==="description"?e.jsxs("div",{className:"text-gray-600 leading-relaxed space-y-4",children:[e.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:t.description||"No description available for this product."}}),e.jsx("p",{className:"text-sm italic text-gray-500",children:"Experience premium quality with our latest collection. This product features state-of-the-art technology, ergonomic design for comfort, and durable materials that last. Perfect for daily use or special occasions."})]}):e.jsx(r.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"w-10 h-10 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin"})}),children:e.jsx(Ct,{productId:t.id,productName:t.name,tenantId:i||"",user:R||null,onLoginClick:Q||(()=>{})})})})]})]}),e.jsxs("aside",{className:"w-full lg:w-80 space-y-8",children:[e.jsxs("div",{className:"glass-card rounded-xl p-5 animate-slide-up",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-4 pb-2 border-b border-gray-100",children:"Related Products"}),e.jsx("div",{className:"space-y-4",children:ye?[...Array(3)].map((s,a)=>e.jsx("div",{className:"h-20 bg-gray-100 rounded animate-pulse"},`skeleton-${a}`)):at.map(({product:s,matchType:a,reason:x,stockCount:b})=>e.jsxs("div",{onClick:()=>j(s),className:"flex gap-3 group cursor-pointer",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded border border-gray-100 overflow-hidden flex-shrink-0",children:e.jsx(ne,{src:p(s.image),alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-800 line-clamp-2 group-hover:text-theme-primary transition",children:s.name}),e.jsx("span",{className:`text-[11px] font-semibold px-2 py-0.5 rounded-full whitespace-nowrap ${He[a].className}`,children:He[a].label})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:x}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-theme-primary font-bold text-sm",children:["৳ ",oe(s.price)]}),e.jsx("div",{className:"text-[11px] text-gray-500",children:b>0?`${b} in stock`:"Restocking soon"})]})]})]},s.id))})]}),e.jsxs("div",{className:"store-card rounded-xl p-5 shadow-lg border border-gray-200",children:[e.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-4 pb-2 border-b border-gray-100",children:"Category"}),e.jsx("div",{className:"space-y-2",children:(k&&k.length>0?k.filter(s=>s.status==="Active").slice(0,6):[]).map((s,a)=>e.jsxs("div",{onClick:()=>ee?.(s.name),className:"flex items-center gap-3 p-2 hover:bg-gray-50 rounded-lg transition cursor-pointer group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-50 flex items-center justify-center overflow-hidden border border-gray-100 group-hover:border-theme-primary/30 transition",children:s.image||s.icon&&s.icon.startsWith("http")?e.jsx("img",{src:p(s.image||s.icon||""),alt:s.name,className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-gray-400 group-hover:text-theme-primary transition",children:$t(s.name,s.icon)})}),e.jsx("span",{className:"text-sm font-medium text-gray-600 group-hover:text-gray-900",children:s.name})]},a))})]})]})]})}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 md:hidden z-50 flex items-center gap-2 px-4 py-3",style:{background:"linear-gradient(to top, #ffffff 0%, #fafafa 100%)",borderTop:"1px solid #e5e7eb",boxShadow:"0 -8px 30px rgba(0,0,0,0.12)"},children:[e.jsx("button",{onClick:c,className:"h-11 w-11 flex items-center justify-center rounded-full text-gray-600 hover:text-gray-900 active:scale-95 transition-all duration-200",style:{background:"#f3f4f6",border:"none"},"aria-label":"Go back",children:e.jsx(xt,{size:20,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-2",children:[e.jsxs("button",{onClick:Ee,disabled:d,className:`h-12 flex items-center justify-center gap-2 rounded-full font-semibold text-sm active:scale-[0.98] transition-all duration-200 ${d?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}`,style:{background:"#ffffff",border:"2px solid #10b981",color:"#10b981",boxShadow:"0 2px 8px rgba(16, 185, 129, 0.15)"},children:[e.jsx(Me,{size:18,strokeWidth:2}),e.jsx("span",{children:"Add to cart"})]}),e.jsxs("button",{onClick:Le,disabled:d,className:`h-12 flex items-center justify-center gap-2 rounded-full font-semibold text-sm active:scale-[0.98] transition-all duration-200 ${d?"opacity-50 cursor-not-allowed":"hover:shadow-lg"}`,style:{background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",border:"none",color:"#ffffff",boxShadow:"0 4px 15px rgba(16, 185, 129, 0.4)"},children:[e.jsx(Ve,{size:18,strokeWidth:2}),e.jsx("span",{children:"Buy Now"})]})]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(r.Suspense,{fallback:null,children:e.jsx(St,{websiteConfig:V,logo:M,onOpenChat:I})})})]})};export{ds as default};
