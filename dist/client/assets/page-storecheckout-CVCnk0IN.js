const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cmp-storeheader-BurZc6zF.js","assets/cmp-approutes-tsx-DORRjFJg.js","assets/react-jsx-runtime-BBsywpoz.js","assets/react-core-KcGD0Z1V.js","assets/pkg-eventemitter3-CXfM2dhT.js","assets/cmp-skeletonloaders-tsx-Durrj7lG.js","assets/store-header-DNV3DrNl.js","assets/store-header-mobile-z4016zOq.js","assets/cmp-admincustomization-BgTFiuh2.js","assets/pkg-toast-Dpd4iwUK.js","assets/pkg-goober-N6sOClW1.js","assets/cmp-gallerypicker-tsx-T-_pXSB3.js","assets/cmp-dashboard-CwyHj6aR.js","assets/pkg-socket-D1bUdbwx.js","assets/pkg-engine-io-BZqIjJKj.js","assets/pkg-@socket.io-component-emitter-Dkula2eQ.js","assets/pkg-socket.io-parser-CafqElEs.js","assets/cmp-addnewduemodal-tsx-OjU2U-0e.js","assets/icons-chunk-AVFeydwE.js","assets/cmp-modern-dashboard-C6grFkCj.js","assets/cmp-invoiceprinttemplate-tsx-CUwUe6zE.js","assets/pkg-papaparse-BEpmA8em.js","assets/pkg-xlsx-BljOZNTS.js","assets/page-adminnote-C1Ob2d7z.js","assets/cmp-duehistorymodal-tsx-KQ79TbYj.js","assets/store-header-desktop-2RqZUDgA.js","assets/store-header-search-Cczo2qOt.js","assets/cmp-landingpagecomponents-tsx-r6jaT4TN.js","assets/store-header-modals-SJmrtiSV.js","assets/cmp-storeheader-BzgGRwUb.css","assets/store-footer-CsytP2Qk.js","assets/store-footer-D-CGY2_e.css","assets/store-modal-track-BPT0ruEP.js"])))=>i.map(i=>d[i]);
import{_ as $}from"./cmp-approutes-tsx-DORRjFJg.js";import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r as l}from"./react-core-KcGD0Z1V.js";import{n as ve}from"./cmp-admincustomization-BgTFiuh2.js";import{f as G}from"./cmp-landingpagecomponents-tsx-r6jaT4TN.js";import{aL as O,ap as M,ah as y,aS as we,a9 as p,h as ke,an as Ce,aT as J,bK as Se,aV as ze,X as Q,aW as Pe,bL as Te}from"./icons-chunk-AVFeydwE.js";import"./cmp-skeletonloaders-tsx-Durrj7lG.js";import"./pkg-eventemitter3-CXfM2dhT.js";import"./pkg-toast-Dpd4iwUK.js";import"./pkg-goober-N6sOClW1.js";import"./cmp-gallerypicker-tsx-T-_pXSB3.js";import"./cmp-dashboard-CwyHj6aR.js";import"./pkg-socket-D1bUdbwx.js";import"./pkg-engine-io-BZqIjJKj.js";import"./pkg-@socket.io-component-emitter-Dkula2eQ.js";import"./pkg-socket.io-parser-CafqElEs.js";import"./cmp-addnewduemodal-tsx-OjU2U-0e.js";import"./cmp-modern-dashboard-C6grFkCj.js";import"./cmp-invoiceprinttemplate-tsx-CUwUe6zE.js";import"./pkg-papaparse-BEpmA8em.js";import"./pkg-xlsx-BljOZNTS.js";import"./page-adminnote-C1Ob2d7z.js";import"./cmp-duehistorymodal-tsx-KQ79TbYj.js";const Ee=l.lazy(()=>$(()=>import("./cmp-storeheader-BurZc6zF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29])).then(d=>({default:d.StoreHeader}))),_e=l.lazy(()=>$(()=>import("./store-footer-CsytP2Qk.js"),__vite__mapDeps([30,2,3,4,8,9,10,11,12,13,14,15,16,1,5,17,18,19,20,21,22,23,24,31])).then(d=>({default:d.StoreFooter}))),Ie=l.lazy(()=>$(()=>import("./store-modal-track-BPT0ruEP.js"),__vite__mapDeps([32,2,3,4,18])).then(d=>({default:d.TrackOrderModal}))),ts=({product:d,quantity:h,variant:g,onBack:L,onConfirmOrder:Z,user:x,onLoginClick:ee,onLogoutClick:se,onProfileClick:re,logo:X,websiteConfig:A,deliveryConfigs:c,paymentMethods:u,searchValue:te,onSearchChange:ae,onImageSearchClick:De,onOpenChat:le,cart:ie,onToggleCart:oe,onCheckoutFromCart:ne,productCatalog:de,orders:ce=[]})=>{const[n,f]=l.useState({fullName:"",phone:"",division:"",email:"",address:"",productDescription:""}),[j,F]=l.useState("Regular"),[N,me]=l.useState("cod-default"),[V,C]=l.useState(!1),[t,R]=l.useState({}),[a,q]=l.useState({}),[S,xe]=l.useState(""),[z,P]=l.useState({type:null,message:""}),[ue,T]=l.useState(!1),[pe,E]=l.useState(!1),[v,w]=l.useState({type:null,message:""}),[H,he]=l.useState(!0),[ge,B]=l.useState(!1);l.useEffect(()=>{const s=setTimeout(()=>he(!1),600);return()=>clearTimeout(s)},[]),l.useEffect(()=>{if(c&&c.length){const s=c.find(r=>r.isEnabled)||c[0];s&&F(s.type)}},[c]),l.useEffect(()=>{x&&f(s=>({...s,fullName:s.fullName||x.name,email:s.email||x.email,phone:s.phone||x.phone||"",address:s.address||x.address||""}))},[x]);const k=d.price*h,U=d.originalPrice?(d.originalPrice-d.price)*h:0,m=c?.find(s=>s.type===j)||c&&c[0],_=l.useMemo(()=>{if(!m||!m.isEnabled||m.freeThreshold>0&&k>=m.freeThreshold)return 0;const s=n.division||m.division;return(s?s===m.division:!0)?m.insideCharge:m.outsideCharge},[m,n.division,k]),I=k+_,fe=G(d.price),K=G(d.originalPrice,null),W=l.useMemo(()=>[{key:"cart",label:"Cart"},{key:"shipping",label:"Shipping"},{key:"payment",label:"Payment"},{key:"review",label:"Review"}],[]),Y=l.useCallback((s,r)=>{switch(s){case"fullName":return r.trim()?r.trim().length<3?"Please enter at least 3 characters":"":"Full name is required";case"phone":return r.trim()?/^\+?\d{9,15}$/.test(r.trim())?"":"Enter a valid phone number":"Phone number is required";case"email":return r.trim()?/^[\w-.]+@([\w-]+\.)+[\w-]{2,}$/.test(r.trim())?"":"Enter a valid email address":"Email is required";case"division":return r?"":"Select a division";case"address":return r.trim()?r.trim().length<10?"Provide a bit more detail":"":"Address is required";case"cardName":return r.trim()?"":"Name on card is required";case"cardNumber":return r.trim()?/^\d{16}$/.test(r.replace(/\s/g,""))?"":"Enter a 16-digit card number":"Card number is required";case"expiry":return r.trim()?/^(0[1-9]|1[0-2])\/\d{2}$/.test(r.trim())?"":"Use MM/YY format":"Expiry is required";case"cvv":return r.trim()?/^\d{3,4}$/.test(r.trim())?"":"Enter a valid CVV":"CVV is required";default:return""}},[]),b=(s,r)=>{f(i=>({...i,[s]:r})),q(i=>({...i,[s]:!0}));const o=Y(s,r);R(i=>({...i,[s]:o}))},be=()=>{const s=["fullName","phone","email","division","address"],r={};s.forEach(i=>{const D=n[i]||"";r[i]=Y(i,D)}),R(i=>({...i,...r})),q(i=>({...i,...s.reduce((D,Ne)=>({...D,[Ne]:!0}),{})}));const o=Object.values(r).some(Boolean);return o&&w({type:"error",message:"Please fix the highlighted fields before placing your order."}),!o},ye=()=>{if(!S.trim()){P({type:"error",message:"Enter a promo code first."});return}S.trim().toLowerCase()==="save10"?P({type:"success",message:"Promo code applied! Discount will reflect at payment."}):P({type:"error",message:"Invalid promo code. Try another one."})},je=()=>{if(!be()){E(!1);return}const s=u?.find(o=>o.id===N),r=s?.id.startsWith("self-mfs-");if(r&&(!V||!n.cardName||!n.cardNumber)){w({type:"error",message:'Please fill in your payment number and Transaction ID, then click "Save Payment Info".'});return}Z({...n,amount:I,productName:d.name,quantity:h,variant:g,deliveryType:j,deliveryCharge:_,paymentMethod:s?.name||"Cash On Delivery",paymentMethodId:N,transactionId:r?n.cardNumber:void 0,customerPaymentPhone:r?n.cardName:void 0}),w({type:"success",message:"Order details captured successfully."}),E(!0)};return e.jsxs("div",{className:"min-h-screen font-sans text-slate-900 mobile-smooth-scroll",style:{background:"linear-gradient(to bottom, #f0f4f8, #e8ecf1)"},children:[e.jsx(l.Suspense,{fallback:null,children:e.jsx(Ee,{onHomeClick:L,onTrackOrder:()=>B(!0),user:x,onLoginClick:ee,onLogoutClick:se,onProfileClick:re,logo:X,websiteConfig:A,searchValue:te,onSearchChange:ae,cart:ie,onToggleCart:oe,onCheckoutFromCart:ne,productCatalog:de})}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 space-y-6 pb-24 md:pb-6",children:[e.jsxs("section",{className:"glass-card rounded-2xl p-4 md:p-6 to p-16 z-10 animate-slide-up",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-400",children:"Checkout"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Complete your purchase"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{type:"button",className:"hidden sm:flex items-center gap-2 rounded-full border border-gray-200 px-4 py-2 text-sm font-semibold text-gray-700 hover:bg-gray-50",onClick:()=>T(!0),children:[e.jsx(O,{size:16})," View offers"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 font-semibold",children:[e.jsx(M,{size:18})," 100% secure checkout"]})]})]}),e.jsx("div",{className:"mt-4 flex flex-col md:flex-row gap-4",children:W.map((s,r)=>{const o=r<=2,i=r<2;return e.jsxs("div",{className:"flex-1 flex items-center gap-2 md:gap-3",children:[e.jsx("div",{className:`mobile-progress-step h-10 w-10 rounded-full flex items-center justify-center border-2 text-sm font-bold transition-all ${i?"completed border-emerald-500 text-white":o?"active border-emerald-500 text-emerald-600":"border-gray-200 text-gray-400"}`,children:i?"✓":r+1}),e.jsxs("div",{className:"hidden sm:block",children:[e.jsxs("p",{className:"text-xs text-gray-400 uppercase tracking-wide",children:["Step ",r+1]}),e.jsx("p",{className:`text-sm font-semibold transition ${o?"text-gray-900":"text-gray-400"}`,children:s.label})]}),r<W.length-1&&e.jsx("div",{className:`hidden md:block flex-1 h-1 rounded-full transition ${i?"bg-emerald-500":o?"bg-emerald-200":"bg-gray-200"}`})]},s.key)})})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 sm:gap-4 lg:gap-6 md:gap-8",children:[e.jsxs("div",{className:"flex-1 space-y-6 md:space-y-8",children:[H&&e.jsx("div",{className:"space-y-8",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(6)].map((s,r)=>e.jsx("div",{className:"h-12 bg-gray-200 rounded-lg"},r))})}),!H&&e.jsxs(e.Fragment,{children:[c&&c.length>0&&e.jsxs("div",{className:"glass-card p-4 md:p-6 rounded-2xl md:rounded-3xl animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-800",children:"Delivery Options"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Choose the best speed for you"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4",children:c.map(s=>{const r=j===s.type;return e.jsxs("button",{type:"button",onClick:()=>F(s.type),className:`mobile-delivery-card mobile-touch-feedback text-left flex flex-col gap-1 ${r?"selected":""} ${s.isEnabled?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,disabled:!s.isEnabled,children:[e.jsxs("p",{className:"font-bold text-gray-800 flex items-center gap-2",children:[s.type," Delivery",r&&e.jsx(y,{size:16,className:"text-emerald-500"})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Inside city: ৳ ",s.insideCharge]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Outside city: ৳ ",s.outsideCharge]}),s.freeThreshold>0&&e.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:["Free over ৳ ",s.freeThreshold]})]},s.type)})}),m&&e.jsx("p",{className:"text-xs text-gray-500 mt-4",children:m.note})]}),e.jsxs("div",{className:"glass-card p-4 md:p-6 rounded-2xl md:rounded-3xl animate-slide-up",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 border-b border-gray-100 pb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 font-semibold",children:"Step 1"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Delivery Address"})]}),e.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full border border-emerald-200",children:"Auto-fill"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2.5",children:["Full Name ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(we,{className:`absolute left-3 md:left-4 top-1/2 -translate-y-1/2 transition-colors duration-200 ${t.fullName&&a.fullName?"text-rose-400":"text-gray-400 group-focus-within:text-emerald-500"}`,size:18}),e.jsx("input",{type:"text",placeholder:"John Doe",autoComplete:"name",className:`mobile-form-input w-full ${t.fullName&&a.fullName?"error":""}`,value:n.fullName,onChange:s=>b("fullName",s.target.value),"aria-invalid":!!(t.fullName&&a.fullName),"aria-describedby":t.fullName&&a.fullName?"fullName-error":void 0})]}),t.fullName&&a.fullName&&e.jsxs("p",{id:"fullName-error",className:"mt-1.5 text-xs text-rose-600 font-medium flex items-center gap-1",children:[e.jsx(p,{size:14})," ",t.fullName]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2.5",children:["Phone Number ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ke,{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors duration-200 ${t.phone&&a.phone?"text-rose-400":"text-gray-400 group-focus-within:text-emerald-500"}`,size:18}),e.jsx("input",{type:"tel",placeholder:"+880 1XXX-XXXXXX",autoComplete:"tel",className:`w-full pl-12 pr-4 py-3.5 border-2 rounded-2xl transition-all duration-200 focus:outline-none text-gray-800 placeholder:text-gray-400 ${t.phone&&a.phone?"border-rose-300 bg-rose-50/50 focus:border-rose-400 focus:ring-4 focus:ring-rose-100":"border-gray-200 bg-white hover:border-gray-300 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50"}`,value:n.phone,onChange:s=>b("phone",s.target.value),"aria-invalid":!!(t.phone&&a.phone),"aria-describedby":t.phone&&a.phone?"phone-error":void 0})]}),t.phone&&a.phone&&e.jsxs("p",{id:"phone-error",className:"mt-1.5 text-xs text-rose-600 font-medium flex items-center gap-1",children:[e.jsx(p,{size:14})," ",t.phone]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2.5",children:["Email Address ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(Ce,{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors duration-200 ${t.email&&a.email?"text-rose-400":"text-gray-400 group-focus-within:text-emerald-500"}`,size:18}),e.jsx("input",{type:"email",placeholder:"you@example.com",autoComplete:"email",className:`w-full pl-12 pr-4 py-3.5 border-2 rounded-2xl transition-all duration-200 focus:outline-none text-gray-800 placeholder:text-gray-400 ${t.email&&a.email?"border-rose-300 bg-rose-50/50 focus:border-rose-400 focus:ring-4 focus:ring-rose-100":"border-gray-200 bg-white hover:border-gray-300 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50"}`,value:n.email,onChange:s=>b("email",s.target.value),"aria-invalid":!!(t.email&&a.email),"aria-describedby":t.email&&a.email?"email-error":void 0})]}),t.email&&a.email&&e.jsxs("p",{id:"email-error",className:"mt-1.5 text-xs text-rose-600 font-medium flex items-center gap-1",children:[e.jsx(p,{size:14})," ",t.email]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2.5",children:["Division/Region ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(J,{className:`absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none transition-colors duration-200 ${t.division&&a.division?"text-rose-400":"text-gray-400 group-focus-within:text-emerald-500"}`,size:18}),e.jsxs("select",{className:`w-full pl-12 pr-10 py-3.5 border-2 rounded-2xl transition-all duration-200 focus:outline-none appearance-none cursor-pointer ${t.division&&a.division?"border-rose-300 bg-rose-50/50 focus:border-rose-400 focus:ring-4 focus:ring-rose-100":"border-gray-200 bg-white hover:border-gray-300 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50"} text-gray-800`,value:n.division,onChange:s=>b("division",s.target.value),"aria-invalid":!!(t.division&&a.division),"aria-describedby":t.division&&a.division?"division-error":void 0,children:[e.jsx("option",{value:"",children:"Select Division"}),e.jsx("option",{value:"Dhaka",children:"Dhaka"}),e.jsx("option",{value:"Chittagong",children:"Chittagong"}),e.jsx("option",{value:"Sylhet",children:"Sylhet"}),e.jsx("option",{value:"Khulna",children:"Khulna"}),e.jsx("option",{value:"Rajshahi",children:"Rajshahi"}),e.jsx("option",{value:"Barisal",children:"Barisal"}),e.jsx("option",{value:"Rangpur",children:"Rangpur"}),e.jsx("option",{value:"Mymensingh",children:"Mymensingh"})]})]}),t.division&&a.division&&e.jsxs("p",{id:"division-error",className:"mt-1.5 text-xs text-rose-600 font-medium flex items-center gap-1",children:[e.jsx(p,{size:14})," ",t.division]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2.5",children:["Delivery Address ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(J,{className:`absolute left-4 to p-4 pointer-events-none transition-colors duration-200 ${t.address&&a.address?"text-rose-400":"text-gray-400 group-focus-within:text-emerald-500"}`,size:18}),e.jsx("textarea",{placeholder:"House #, Road #, Area, City - Please provide detailed address for smooth delivery",autoComplete:"street-address",className:`w-full pl-12 pr-4 py-3.5 border-2 rounded-2xl transition-all duration-200 focus:outline-none min-h-[120px] resize-none text-gray-800 placeholder:text-gray-400 ${t.address&&a.address?"border-rose-300 bg-rose-50/50 focus:border-rose-400 focus:ring-4 focus:ring-rose-100":"border-gray-200 bg-white hover:border-gray-300 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50"}`,value:n.address,onChange:s=>b("address",s.target.value),"aria-invalid":!!(t.address&&a.address),"aria-describedby":t.address&&a.address?"address-error":void 0})]}),t.address&&a.address&&e.jsxs("p",{id:"address-error",className:"mt-1.5 text-xs text-rose-600 font-medium flex items-center gap-1",children:[e.jsx(p,{size:14})," ",t.address]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2.5",children:["Special Instructions ",e.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),e.jsx("textarea",{placeholder:"Add any special requests, customization details, or instructions for your order...",className:"w-full px-4 py-3.5 border-2 border-gray-200 bg-white rounded-2xl transition-all duration-200 focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 hover:border-gray-300 resize-none min-h-[100px] text-gray-800 placeholder:text-gray-400",value:n.productDescription||"",onChange:s=>{const r=s.target.value;f(o=>({...o,productDescription:r}))}}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1",children:[e.jsx(O,{size:12})," Let us know about any specific requirements"]})]})]}),e.jsx("div",{className:"glass-card p-4 md:p-6 rounded-2xl md:rounded-3xl animate-slide-up",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-500 font-semibold",children:"Step 2"}),e.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:"Select a Payment Option"})]}),e.jsxs("span",{className:"mobile-badge mobile-badge-success flex items-center gap-1.5",children:[e.jsx(M,{size:14})," Secure"]})]}),(console.log("[StoreCheckout] paymentMethods:",u),null),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:(u&&u.length>0?u.filter(s=>s.isEnabled):[{id:"cod-default",provider:"cod",name:"Cash On Delivery",isEnabled:!0,logo:void 0}]).map(s=>{const r=N===s.id,i={bkash:"https://www.logo.wine/a/logo/BKash/BKash-Icon-Logo.wine.svg",nagad:"https://hdnfltv.com/image/nitimages/pasted_1770952876471.webp",rocket:"https://hdnfltv.com/image/nitimages/pasted_1770952937066.webp",upay:"https://hdnfltv.com/image/nitimages/pasted_1770952990491.webp",tap:"https://hdnfltv.com/image/nitimages/pasted_1770953059804.webp",sslcommerz:"https://sslcommerz.com/wp-content/uploads/2021/11/sslcommerz.png"}[s.provider]||"";return e.jsxs("button",{type:"button",onClick:()=>me(s.id),className:`p-4 rounded-xl border-2 transition-all duration-200 flex flex-col items-center justify-center gap-2 min-h-[80px] ${r?"border-amber-500 bg-amber-50":"border-gray-200 bg-white hover:border-amber-200"}`,children:[r&&e.jsx(y,{size:18,className:"absolute to p-2 left-2 text-amber-600",style:{position:"absolute"}}),s.provider==="cod"?e.jsx(Se,{size:28,className:"text-emerald-600"}):i?e.jsx("img",{src:i,alt:s.name,className:"h-8 object-contain"}):e.jsx(ze,{size:28,className:"text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.name})]},s.id)})}),(()=>{const s=u?.find(o=>o.id===N),r=s?.qrCodeUrl||s?.logo;return s&&s.provider!=="cod"&&(s.accountNumber||s.paymentInstruction||r)?e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[r&&e.jsx("div",{className:"flex-shrink-0",children:e.jsx("img",{src:r,alt:"Payment QR Code",className:"w-32 h-32 object-contain rounded-lg border border-gray-200 bg-white p-1"})}),e.jsxs("div",{className:"flex-1",children:[s.accountNumber&&e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsxs("span",{className:"font-bold text-gray-800 flex items-center gap-2",children:["+88",s.accountNumber,e.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(s.accountNumber||"");const o=document.activeElement;o.classList.add("bg-green-100"),setTimeout(()=>o.classList.remove("bg-green-100"),500)},className:"p-1 hover:bg-gray-200 rounded transition-colors",title:"Copy number",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-gray-500",children:[e.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),e.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]})}),s.paymentType&&e.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded mb-2",children:s.paymentType==="merchant"?"Merchant Payment":s.paymentType==="send_money"?"Send Money":s.paymentType==="personal"?"Personal":s.paymentType})]})]}),s.paymentInstruction&&e.jsx("div",{className:"text-sm text-gray-700 mb-4 prose prose-sm max-w-none [&_img]:max-w-full [&_img]:rounded-lg [&_p]:mb-2 [&_ul]:list-disc [&_ul]:pl-4 [&_ol]:list-decimal [&_ol]:pl-4 bg-white p-3 rounded-lg border border-gray-100",dangerouslySetInnerHTML:{__html:s.paymentInstruction}}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Your ",s.name," Number:"]}),e.jsx("input",{type:"text",placeholder:"017XXXXXXXX*",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:outline-none",value:n.cardName||"",onChange:o=>{f(i=>({...i,cardName:o.target.value})),C(!1)}})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Transaction ID:"}),e.jsx("input",{type:"text",placeholder:"Transaction Id*",className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:outline-none",value:n.cardNumber||"",onChange:o=>{f(i=>({...i,cardNumber:o.target.value})),C(!1)}})]})]}),n.cardName&&n.cardNumber&&e.jsx("div",{className:"mt-4",children:V?e.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium",children:[e.jsx(y,{size:20}),e.jsx("span",{children:"Payment information saved!"})]}):e.jsx("button",{type:"button",onClick:()=>C(!0),className:"w-full py-2.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-semibold rounded-lg hover:from-amber-600 hover:to-orange-600 transition-all shadow-md",children:"Save Payment Info"})})]}):null})()]})})]})]}),e.jsx("div",{className:"w-full lg:w-96",children:e.jsxs("div",{className:"glass-card rounded-2xl md:rounded-3xl p-4 sm:p-6 md:p-8 to p-24 animate-scale-in w-full",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-800 mb-6",children:["Order Items (",h," Items)"]}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded border border-gray-200 p-1 flex-shrink-0",children:e.jsx("img",{src:ve(d.galleryImages?.[0]||d.image),alt:d.name,className:"w-full h-full object-contain mix-blend-multiply",loading:"lazy",decoding:"async"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-800 line-clamp-2 pr-4",children:d.name}),e.jsx("button",{className:"text-gray-400 hover:text-red-500",type:"button",children:e.jsx(Q,{size:16})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Variant: ",e.jsxs("span",{className:"font-semibold text-gray-700",children:[g.color," / ",g.size]})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsx("div",{className:"flex items-center border border-gray-200 rounded px-2 py-0.5 text-xs bg-gray-50",children:e.jsx("span",{className:"px-2",children:h})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-bold text-gray-800",children:["৳ ",fe]}),K&&e.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["৳ ",K]})]})]})]})]}),e.jsxs("div",{className:"space-y-3 border-t border-gray-100 pt-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Selected Variant:"}),e.jsxs("span",{className:"font-medium text-gray-800",children:[g.color," / ",g.size]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Sub Total:"}),e.jsxs("span",{className:"font-medium",children:["৳ ",k.toLocaleString()]})]}),U>0&&e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:"Discount:"}),e.jsxs("span",{className:"font-medium text-rose-500",children:["-৳ ",U.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["Delivery Charge (",j,"):"]}),e.jsxs("span",{className:"font-medium",children:["৳ ",_]})]}),e.jsxs("div",{className:"flex justify-between text-gray-800 text-lg font-bold border-t border-dashed border-gray-200 pt-3 mt-2",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["৳ ",I.toLocaleString()]})]})]}),e.jsx("div",{className:"mt-6 space-y-4",children:e.jsxs("div",{className:"flex flex-col gap-2.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-600 uppercase tracking-wide",children:"Have a promo code?"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter code",value:S,onChange:s=>xe(s.target.value),className:"flex-1 px-4 py-3 border-2 border-gray-200 rounded-xl focus:outline-none focus:border-emerald-500 focus:ring-4 focus:ring-emerald-50 transition-all duration-200 text-gray-800 placeholder:text-gray-400 hover:border-gray-300"}),e.jsx("button",{type:"button",onClick:ye,className:"px-5 py-3 rounded-xl bg-gray-900 text-white text-sm font-bold hover:bg-gray-800 transition-colors duration-200 shadow-md hover:shadow-lg",children:"Apply"})]}),z.message&&e.jsx("p",{className:`text-xs font-semibold ${z.type==="success"?"text-emerald-600":"text-rose-500"}`,children:z.message})]})}),e.jsxs("div",{className:"mt-6 flex flex-col gap-3",children:[e.jsxs("button",{onClick:je,className:"mobile-place-order-btn w-full mobile-touch-feedback",children:["Confirm Order • ৳",I.toLocaleString()]}),e.jsxs("button",{onClick:L,className:"glass-button w-full rounded-xl border-2 border-theme-primary/30 text-theme-primary font-semibold py-3.5 text-sm flex items-center justify-center gap-2 mobile-touch-feedback",children:[e.jsx(Pe,{size:16})," Continue Shopping"]})]}),e.jsxs("div",{className:"mt-8 space-y-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{size:20,className:"text-theme-primary"}),e.jsx("span",{className:"font-semibold text-gray-700",children:"Money-back guarantee within 7 days."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{size:20,className:"text-indigo-500"}),e.jsxs("span",{className:"text-gray-600",children:["Need help? ",e.jsx("a",{className:"text-indigo-600 font-semibold",href:"tel:+8801615332701",children:"Call support"})]})]})]})]})})]})]}),ue&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-lg w-full p-4 sm:p-6 shadow-2xl relative",children:[e.jsx("button",{type:"button",className:"absolute to p-4 right-4 text-gray-400 hover:text-gray-800",onClick:()=>T(!1),children:e.jsx(Q,{size:20})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{size:32,className:"text-emerald-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-gray-400",children:"Exclusive"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Limited-time discounts"})]})]}),e.jsxs("ul",{className:"mt-4 space-y-3 text-sm text-gray-600",children:[e.jsxs("li",{children:["✅ Use code ",e.jsx("span",{className:"font-semibold",children:"SAVE10"})," for 10% off accessories."]}),e.jsx("li",{children:"✅ Free express delivery on orders above ৳5,000."}),e.jsx("li",{children:"✅ Members earn double loyalty points today."})]}),e.jsx("button",{type:"button",className:"mt-6 w-full rounded-full bg-gray-900 text-white font-semibold py-3 text-sm",onClick:()=>T(!1),children:"Got it"})]})}),pe&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-sm flex items-center justify-center px-4",children:e.jsxs("div",{className:"bg-white rounded-3xl max-w-md w-full p-4 sm:p-6 text-center shadow-2xl",children:[e.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-emerald-50 flex items-center justify-center mb-4",children:e.jsx(y,{size:32,className:"text-emerald-500"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Order placed successfully!"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"We sent a confirmation email with the next steps. Sit tight while we prepare your delivery."}),e.jsx("button",{type:"button",className:"w-full rounded-full bg-gray-900 text-white font-semibold py-3 text-sm",onClick:()=>E(!1),children:"Close"})]})}),v.type&&e.jsx("div",{className:"fixed bottom-6 right-6 z-40",children:e.jsxs("div",{className:`flex items-start gap-3 rounded-2xl px-4 py-3 shadow-xl border text-sm font-semibold max-w-sm ${v.type==="error"?"border-rose-200 bg-rose-50 text-rose-700":"border-emerald-200 bg-emerald-50 text-emerald-700"}`,children:[v.type==="error"?e.jsx(p,{size:18}):e.jsx(y,{size:18}),e.jsx("div",{className:"flex-1",children:v.message}),e.jsx("button",{type:"button",className:"text-xs uppercase tracking-wide",onClick:()=>w({type:null,message:""}),children:"Close"})]})}),e.jsx(l.Suspense,{fallback:null,children:e.jsx(_e,{websiteConfig:A,logo:X,onOpenChat:le})}),ge&&e.jsx(l.Suspense,{fallback:null,children:e.jsx(Ie,{onClose:()=>B(!1),orders:ce})})]})};export{ts as default};
