import{j as e}from"./react-jsx-runtime-BBsywpoz.js";import{r}from"./react-core-KcGD0Z1V.js";import j from"./pkg-toast-Dpd4iwUK.js";import{aW as z,aK as N,by as F,ar as R,g as T,ah as A,L,f as $}from"./icons-chunk-AVFeydwE.js";import"./pkg-eventemitter3-CXfM2dhT.js";import"./pkg-goober-N6sOClW1.js";const O=({configs:c,onSave:w,onBack:C})=>{const[o,S]=r.useState("Regular"),g={type:"Regular",isEnabled:!1,division:"Dhaka",insideCharge:80,outsideCharge:150,freeThreshold:0,note:""},h=s=>["Regular","Express","Free"].map(l=>s?.find(u=>u.type===l)||{...g,type:l}),[m,f]=r.useState(h(c)),[x,k]=r.useState(!0),[D,b]=r.useState(!1),[d,v]=r.useState(!1),[y,p]=r.useState(!1);r.useEffect(()=>{f(h(c))},[c]);const t=m.find(s=>s.type===o)||g,i=(s,a)=>{const l=m.map(n=>n.type===o?{...n,[s]:a}:n);f(l)},E=async s=>{if(s.preventDefault(),!d){v(!0),p(!1);try{w(m),await new Promise(a=>setTimeout(a,800)),p(!0),b(!0),j.success("Delivery settings saved!"),setTimeout(()=>{p(!1),b(!1)},2e3)}catch(a){console.error("Failed to save:",a),j.error("Failed to save settings")}finally{v(!1)}}};return e.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fade-in w-full max-w-6xl mx-auto px-3 sm:px-4 lg:px-0",children:[e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx("button",{onClick:C,className:"p-1.5 sm:p-2 hover:bg-gray-200 rounded-full transition flex-shrink-0",children:e.jsx(z,{size:18,className:"text-gray-600 sm:w-5 sm:h-5"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800 truncate",children:"Delivery Settings"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-500 line-clamp-1",children:"Configure delivery charges, methods, and areas."})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2 sm:gap-3 lg:gap-4",children:["Regular","Express","Free"].map(s=>{const a=m.find(u=>u.type===s),l=o===s,n=a?.isEnabled;return e.jsxs("div",{onClick:()=>{S(s),k(!0)},className:`
                relative p-2.5 sm:p-3 lg:p-4 rounded-lg sm:rounded-xl border-2 cursor-pointer transition-all duration-200 flex flex-col justify-between min-h-[60px] sm:min-h-[70px] lg:h-24
                ${l?"border-purple-600 bg-purple-50":"border-gray-200 bg-white hover:border-purple-200"}
              `,children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[n?e.jsx(N,{size:16,className:"text-green-500 fill-green-100 sm:w-5 sm:h-5"}):e.jsx(F,{size:16,className:"text-gray-300 sm:w-5 sm:h-5"}),e.jsx("span",{className:`font-bold text-xs sm:text-sm ${l?"text-purple-700":"text-gray-700"}`,children:s})]})}),l&&e.jsxs("div",{className:"text-[10px] sm:text-xs text-purple-600 font-medium flex items-center gap-1 mt-1.5 sm:mt-2",children:[x?"Hide":"Show",x?e.jsx(R,{size:10,className:"sm:w-3 sm:h-3"}):e.jsx(T,{size:10,className:"sm:w-3 sm:h-3"})]})]},s)})}),x&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg sm:rounded-xl shadow-sm overflow-hidden animate-in slide-in-from-to p-2",children:[e.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 border-b border-gray-100 bg-gray-50 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("h3",{className:"font-bold text-gray-800 text-sm sm:text-base lg:text-lg",children:[o," Delivery Configuration"]}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500",children:"Update shipping rates and rules for this method."})]}),e.jsxs("label",{className:"flex items-center gap-2 sm:gap-3 cursor-pointer flex-shrink-0",children:[e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-700",children:"Enable"}),e.jsxs("div",{className:"relative inline-block w-10 sm:w-12 h-5 sm:h-6 transition duration-200 ease-in-out rounded-full border border-gray-300 bg-white",children:[e.jsx("input",{type:"checkbox",className:"absolute w-full h-full opacity-0 cursor-pointer",checked:t.isEnabled,onChange:s=>i("isEnabled",s.target.checked)}),e.jsx("span",{className:`block w-5 sm:w-6 h-5 sm:h-6 rounded-full shadow transition-transform duration-200 ${t.isEnabled?"translate-x-5 sm:translate-x-6 bg-green-500":"translate-x-0 bg-gray-300"}`})]})]})]}),e.jsxs("form",{onSubmit:E,className:"p-3 sm:p-4 lg:p-6",children:[D&&e.jsxs("div",{className:"bg-green-50 text-green-700 px-3 sm:px-4 py-2 sm:py-3 rounded-lg flex items-center gap-2 border border-green-100 mb-4 sm:mb-6 animate-in fade-in slide-in-from-top-1 text-xs sm:text-sm",children:[e.jsx(N,{size:16,className:"sm:w-[18px] sm:h-[18px]"})," Settings saved successfully!"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4 lg:gap-6",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-bold text-gray-500 uppercase tracking-wider mb-1",children:"Delivery Type"}),e.jsx("input",{type:"text",value:`${o} Delivery`,disabled:!0,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 lg:py-3 text-sm bg-gray-50 border border-gray-200 rounded-lg text-gray-500 cursor-not-allowed"})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Your Division"}),e.jsxs("select",{className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 lg:py-3 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none bg-white",value:t.division,onChange:s=>i("division",s.target.value),children:[e.jsx("option",{value:"Dhaka",children:"Amit's House"}),e.jsx("option",{value:"Dhaka",children:"Dhaka"}),e.jsx("option",{value:"Chittagong",children:"Chittagong"}),e.jsx("option",{value:"Sylhet",children:"Sylhet"}),e.jsx("option",{value:"Khulna",children:"Khulna"}),e.jsx("option",{value:"Rajshahi",children:"Rajshahi"}),e.jsx("option",{value:"Barisal",children:"Barisal"}),e.jsx("option",{value:"Rangpur",children:"Rangpur"}),e.jsx("option",{value:"Mymensingh",children:"Mymensingh"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Inside ",t.division]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 sm:left-4 to p-2 sm:to p-2.5 lg:to p-3 text-gray-500 text-sm",children:"৳"}),e.jsx("input",{type:"number",min:"0",className:"w-full pl-7 sm:pl-8 pr-3 sm:pr-4 py-2 sm:py-2.5 lg:py-3 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",value:t.insideCharge,onChange:s=>i("insideCharge",Number(s.target.value))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:["Outside ",t.division]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 sm:left-4 to p-2 sm:to p-2.5 lg:to p-3 text-gray-500 text-sm",children:"৳"}),e.jsx("input",{type:"number",min:"0",className:"w-full pl-7 sm:pl-8 pr-3 sm:pr-4 py-2 sm:py-2.5 lg:py-3 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",value:t.outsideCharge,onChange:s=>i("outsideCharge",Number(s.target.value))})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Free Delivery Threshold"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 sm:left-4 to p-2 sm:to p-2.5 lg:to p-3 text-gray-500 text-sm",children:"৳"}),e.jsx("input",{type:"number",min:"0",className:"w-full pl-7 sm:pl-8 pr-3 sm:pr-4 py-2 sm:py-2.5 lg:py-3 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none",placeholder:"Leave 0 if not applicable",value:t.freeThreshold,onChange:s=>i("freeThreshold",Number(s.target.value))})]})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1",children:"Delivery Note"}),e.jsx("div",{className:"relative",children:e.jsx("textarea",{rows:3,className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 lg:py-3 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none resize-none",value:t.note,onChange:s=>i("note",s.target.value),placeholder:"e.g. Order & Delivery Policy..."})})]})]}),e.jsx("div",{className:"pt-4 sm:pt-5 lg:pt-6 border-t border-gray-100 mt-4 sm:mt-5 lg:mt-6 flex justify-end",children:e.jsx("button",{type:"submit",disabled:d,className:`flex items-center gap-1.5 sm:gap-2 px-4 sm:px-6 lg:px-8 py-2 sm:py-2.5 lg:py-3 rounded-lg font-bold text-sm transition-all duration-300 shadow-lg min-w-[120px] sm:min-w-[150px] lg:min-w-[180px] justify-center transform active:scale-95 ${y?"bg-emerald-500 text-white shadow-emerald-200":d?"bg-purple-500 text-white shadow-purple-200 cursor-wait":"bg-purple-600 text-white shadow-purple-200 hover:bg-purple-700"}`,children:y?e.jsxs(e.Fragment,{children:[e.jsx(A,{size:16,className:"animate-bounce sm:w-[18px] sm:h-[18px]"})," Saved!"]}):d?e.jsxs(e.Fragment,{children:[e.jsx(L,{size:16,className:"animate-spin sm:w-[18px] sm:h-[18px]"})," Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx($,{size:16,className:"sm:w-[18px] sm:h-[18px]"})," Save"]})})})]})]})]})};export{O as default};
